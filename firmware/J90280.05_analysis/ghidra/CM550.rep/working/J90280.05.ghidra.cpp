// Ghidra C++ Decompilation Export - J90280.05 Firmware
// Generated with renamed functions, variables, and meaningful types
// Tue Dec 16 10:04:37 MST 2025


//
// Function: rpm_rate_limiter @ 0x0000a16a
//

void rpm_rate_limiter(void)

{
  rpm_delta_value = current_engine_rpm_raw - previous_engine_rpm;
  previous_engine_rpm = current_engine_rpm_raw;
  rpm_rate_limited_value = exponentialMovingAverage();
  if ((short)rpm_rate_limited_value < (short)rpm_rate_limits_t_008062f8.minimum) {
    rpm_rate_limited_value = rpm_rate_limits_t_008062f8.minimum;
    dma_control_flags1 = (short)rpm_rate_limits_t_008062f8.minimum * 0x10000 + 0x80000000;
  }
  else if ((short)rpm_rate_limits_t_008062f8.maximum < (short)rpm_rate_limited_value) {
    rpm_rate_limited_value = rpm_rate_limits_t_008062f8.maximum;
    dma_control_flags1 = (short)rpm_rate_limits_t_008062f8.maximum * 0x10000 + 0x80000000;
  }
  rpm_rate_secondary_calc = exponentialMovingAverage();
  return;
}



//
// Function: rpm_system_state_controller @ 0x0000a204
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort rpm_system_state_controller(void)

{
  ushort uVar1;
  
  uVar1 = diagnostic_system_flags_1 & 0x1000;
  if ((diagnostic_system_flags_1 & 0x1000) != 0) {
    if ((short)rpm_threshold_lower < (short)rpm_rate_limited_value) {
      rpm_threshold_exceeded_flag = 1;
      rpm_control_timer_1 = rpm_timer_reload_value_1;
    }
    else if (rpm_control_timer_1 == 0) {
      rpm_threshold_exceeded_flag = 0;
    }
    else {
      rpm_control_timer_1 = rpm_control_timer_1 - 1;
    }
    if ((((_request_to_strobe_set_0_then_set_1_fso_driver_0_1 == 0) ||
         (rpm_threshold_exceeded_flag != 0)) || (current_engine_rpm_raw < rpm_threshold_upper)) ||
       (((short)rpm_threshold_lower < (short)rpm_rate_limited_value ||
        ((short)rpm_rate_secondary_calc < (short)rpm_secondary_threshold)))) {
      if (rpm_control_override_flag == 0) {
        if (rpm_control_timer_2 == 0) {
          rpm_system_mode_flag = 0;
        }
        else {
          rpm_control_timer_2 = rpm_control_timer_2 - 1;
        }
      }
      else {
        rpm_system_mode_flag = 1;
        rpm_control_timer_2 = can_memory_table_start._2_2_;
      }
    }
    else {
      rpm_system_mode_flag = 1;
      rpm_control_timer_2 = can_memory_table_start._2_2_;
    }
    if (rpm_system_mode_flag == 1) {
      rpm_state_lookup_input = current_engine_rpm_raw;
      fuel_limit_shutdown = lookupTableInterpolation((table_interp_args_t *)&dma_descriptor_base1);
      return fuel_limit_shutdown;
    }
    uVar1 = fuel_limit_shutdown;
    if (fuel_limit_shutdown < max_number_of_shutdowns_before_restart_is_not_allowed_0_255) {
      uVar1 = rpm_state_controller_param + fuel_limit_shutdown;
      fuel_limit_shutdown = uVar1;
      if (max_number_of_shutdowns_before_restart_is_not_allowed_0_255 < uVar1) {
        fuel_limit_shutdown = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
      }
    }
  }
  return uVar1;
}



//
// Function: shutdownMinimumSelector17 @ 0x0000a30c
//

void shutdownMinimumSelector17(void)

{
  if (fuel_limit_shutdown < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = fuel_limit_shutdown;
    shutdown_minimum_selector_value = FUEL_LIMIT_SHUTDOWN;
  }
  return;
}



//
// Function: highRpmFuelControlLimiter @ 0x0000a32a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort highRpmFuelControlLimiter(void)

{
  word wVar1;
  
  wVar1 = diagnostic_system_flags_1 & 0x2000;
  if ((diagnostic_system_flags_1 & 0x2000) != 0) {
    if ((short)high_rpm_threshold_calibration_t_00806300.rate_threshold <
        (short)rpm_rate_limited_value) {
      none_none = 1;
      high_rpm_threshold_countdown =
           high_rpm_threshold_calibration_t_00806300.threshold_timer_reload;
    }
    else if (high_rpm_threshold_countdown == 0) {
      none_none = 0;
    }
    else {
      high_rpm_threshold_countdown = high_rpm_threshold_countdown - 1;
    }
    wVar1 = rpm_rate_limited_value;
    if ((((_request_to_strobe_set_0_then_set_1_fso_driver_0_1 == 0) || (none_none != 0)) ||
        (wVar1 = throttle_position_raw,
        throttle_position_raw <= high_rpm_calibration_t_008062ea.high_rpm_upper_threshold)) ||
       ((wVar1 = rpm_rate_limited_value,
        (short)high_rpm_threshold_calibration_t_00806300.rate_threshold <
        (short)rpm_rate_limited_value ||
        (wVar1 = rpm_rate_secondary_calc,
        (short)rpm_rate_secondary_calc <
        (short)high_rpm_calibration_t_008062ea.high_rpm_secondary_threshold)))) {
      if (rpm_control_override_flag == 0) {
        if (rpm_control_timer_previous == 0) {
          high_rpm_fuel_accumulator = 0;
        }
        else {
          rpm_control_timer_previous = rpm_control_timer_previous - 1;
        }
      }
      else {
        high_rpm_fuel_accumulator = 1;
        rpm_control_timer_previous = high_rpm_calibration_t_008062ea.high_rpm_timer_reload;
      }
    }
    else {
      high_rpm_fuel_accumulator = 1;
      rpm_control_timer_previous = high_rpm_calibration_t_008062ea.high_rpm_timer_reload;
    }
    if (high_rpm_fuel_accumulator == 1) {
      high_rpm_lookup_input = current_engine_rpm_raw;
      high_rpm_fuel_limit = lookupTableInterpolation((table_interp_args_t *)&dma_descriptor_base2);
      return high_rpm_fuel_limit;
    }
    if (high_rpm_fuel_limit < 0x400) {
      high_rpm_fuel_limit =
           high_rpm_calibration_t_008062ea.high_rpm_fuel_ramp_increment + high_rpm_fuel_limit;
      wVar1 = high_rpm_calibration_t_008062ea.high_rpm_fuel_ramp_increment;
      if (0x400 < high_rpm_fuel_limit) {
        high_rpm_fuel_limit = 0x400;
      }
    }
  }
  return wVar1;
}



//
// Function: fuelLimitMinimumSelector @ 0x0000a428
//

void fuelLimitMinimumSelector(void)

{
  fuel_demand_before_limiting = fuel_limit_minimum_value;
  if (high_rpm_fuel_limit < fuel_limit_minimum_value) {
    fuel_limit_minimum_value = high_rpm_fuel_limit;
    fuel_demand_source_id = HIGH_RPM_FUEL_LIMIT;
  }
  return;
}



//
// Function: lowRpmFuelProtectionLimiter @ 0x0000a44c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort lowRpmFuelProtectionLimiter(void)

{
  word wVar1;
  ushort uVar2;
  
  uVar2 = diagnostic_system_flags_1 & 0x4000;
  if ((diagnostic_system_flags_1 & 0x4000) != 0) {
    if ((short)low_rpm_calibration_t_008062de.low_rpm_rate_threshold < (short)rpm_rate_limited_value
       ) {
      rpm_rate_limit_active_flag = 1;
      rpm_rate_limit_countdown = rpm_rate_limits_t_008062f8.threshold_timer_reload;
    }
    else if (rpm_rate_limit_countdown == 0) {
      rpm_rate_limit_active_flag = 0;
    }
    else {
      rpm_rate_limit_countdown = rpm_rate_limit_countdown - 1;
    }
    wVar1 = rpm_rate_limited_value;
    if ((((_request_to_strobe_set_0_then_set_1_fso_driver_0_1 == 0) ||
         (rpm_rate_limit_active_flag != 0)) ||
        (wVar1 = current_engine_rpm_raw,
        low_rpm_calibration_t_008062de.low_rpm_upper_threshold < current_engine_rpm_raw)) ||
       ((wVar1 = rpm_rate_limited_value,
        (short)low_rpm_calibration_t_008062de.low_rpm_rate_threshold < (short)rpm_rate_limited_value
        || (wVar1 = rpm_rate_secondary_calc,
           (short)rpm_rate_secondary_calc <
           (short)low_rpm_calibration_t_008062de.low_rpm_secondary_threshold)))) {
      if (rpm_control_override_flag == 0) {
        if (rpm_control_timer_delta == 0) {
          low_rpm_fuel_accumulator = 0;
        }
        else {
          rpm_control_timer_delta = rpm_control_timer_delta - 1;
        }
      }
      else {
        low_rpm_fuel_accumulator = 1;
        rpm_control_timer_delta = low_rpm_calibration_t_008062de.low_rpm_timer_reload;
      }
    }
    else {
      low_rpm_fuel_accumulator = 1;
      rpm_control_timer_delta = low_rpm_calibration_t_008062de.low_rpm_timer_reload;
    }
    if (low_rpm_fuel_accumulator != 0) {
      fuel_arbitrator_threshold_3 = low_rpm_calibration_t_008062de.low_rpm_fuel_limit;
      return wVar1;
    }
    uVar2 = fuel_arbitrator_threshold_3;
    if (fuel_arbitrator_threshold_3 < oil_pressure_precrank_status) {
      uVar2 = low_rpm_calibration_t_008062de.low_rpm_fuel_ramp_increment +
              fuel_arbitrator_threshold_3;
      fuel_arbitrator_threshold_3 = uVar2;
      if (oil_pressure_precrank_status < uVar2) {
        fuel_arbitrator_threshold_3 = oil_pressure_precrank_status;
      }
    }
  }
  return uVar2;
}



//
// Function: dmaControllerSetup1 @ 0x0000a53e
//

void dmaControllerSetup1(void)

{
                    /* Constant: DMA_CONTROLLER_SETUP = 0x80000000 */
  dma_control_flags1 = 0x80000000;
                    /* Constant: DMA_DESC_ADDR_1 = 0x8062F4 */
  dma_descriptor_ptr1 = 0x8062f4;
  dma_control_flags2 = 0x80000000;
                    /* Constant: DMA_DESC_ADDR_2 = 0x8062F6 */
  dma_descriptor_ptr2 = (dword)&dma_desc_dest_addr1;
  previous_engine_rpm = 0;
  return;
}



//
// Function: dmaDescriptorSetup1 @ 0x0000a56e
//

void dmaDescriptorSetup1(void)

{
  dma_descriptor_base1 = 2;
                    /* Constant: DMA_SOURCE_ADDR_1 = 0x806304 */
  dma_desc1_source_ptr = (dword)&dma_desc_source_addr2;
                    /* Constant: DMA_DEST_ADDR_1 = 0x806318 */
  dma_desc1_dest_ptr = (dword)&dma_desc_dest_addr2;
  fuel_limit_shutdown = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  return;
}



//
// Function: dmaDescriptorSetup2 @ 0x0000a598
//

void dmaDescriptorSetup2(void)

{
  dma_descriptor_base2 = 2;
                    /* Constant: DMA_SOURCE_ADDR_2 = 0x80632C */
  dma_desc2_source_ptr = (dword)&dma_desc_source_addr3;
                    /* Constant: DMA_DEST_ADDR_2 = 0x806340 */
  dma_desc2_dest_ptr = (dword)&dma_desc_dest_addr3;
  high_rpm_fuel_limit = 0x400;
  return;
}



//
// Function: initFuelSystemOutputDriver @ 0x0000a5c0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initFuelSystemOutputDriver(void)

{
  _request_to_strobe_set_0_then_set_1_fso_driver_0_1 = 1;
  fuel_arbitrator_threshold_3 = oil_pressure_precrank_status;
  return;
}



//
// Function: messageTypeToChannelMapper @ 0x0000a5e2
//

undefined1 messageTypeToChannelMapper(undefined4 param_1)

{
  byte bVar1;
  
  bVar1 = (byte)((uint)param_1 >> 0x10);
  if (0x40 < bVar1) {
    if (bVar1 < 0x4f) {
      return *(undefined1 *)((short)(param_1._0_2_ & 0xff) + 0xa593);
    }
    return 1;
  }
  if ((bVar1 != 4) && (bVar1 != 5)) {
    return 1;
  }
  return 3;
}



//
// Function: diagnosticMessageQueueWrite @ 0x0000a626
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMessageQueueWrite(undefined4 param_1)

{
  char cVar1;
  int iVar2;
  undefined1 uVar3;
  undefined4 local_8;
  
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    iVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
  }
  else {
    iVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if (iVar2 < 3) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
  }
  else {
    local_8._3_1_ = (char)can_transmit_buffer_ptr;
    cVar1 = (char)local_8;
    local_8._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
    if (param_1._0_2_ == 0) {
      uVar3 = 100;
    }
    else if (param_1._0_2_ == 1) {
      uVar3 = 0x74;
      diagnostic_queue_message_type = param_1._0_2_;
    }
    else {
      uVar3 = 0x75;
      if (param_1._0_2_ < 0x12) {
        diagnostic_queue_message_type = param_1._0_2_;
      }
      else {
        diagnostic_queue_message_type = *(word *)((short)param_1._0_2_ * 2 + 0xa5f6);
      }
    }
    *local_8 = 6;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x02');
    *local_8 = uVar3;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x03');
    *(undefined1 *)can_transmit_buffer_ptr = 2;
    can_transmit_buffer_ptr = (dword)local_8;
    *local_8 = 0;
    tpuTransmissionTrigger();
  }
  return;
}



//
// Function: sensorFaultDebounceMonitor @ 0x0000a6fa
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void sensorFaultDebounceMonitor(void)

{
  bool bVar1;
  short sVar2;
  undefined2 uVar3;
  ushort uVar4;
  short sVar5;
  word wVar6;
  int iVar7;
  byte *pbVar8;
  byte *pbVar9;
  word *args;
  
  sVar5 = 0;
  pbVar8 = &request_to_strobe_set_0_then_set_1_cold_start_aid_1_driver_0_1;
  iVar7 = 0x8068ea;
  uVar4 = 1;
  pbVar9 = &sensor_fault_debounce_counter_base;
  args = &adc_channel_config_buffer;
  wVar6 = _engine_control_flags_register;
  do {
    if ((byte *)0x809407 < pbVar8) {
      return;
    }
    if (*(char *)(iVar7 + 0x17) == '\0') {
      pbVar8[0xf] = 0;
    }
    else if (pbVar8[0xf] < *(byte *)(iVar7 + 0x17)) {
      pbVar8[0xf] = pbVar8[0xf] + 1;
    }
    else {
      pbVar8[0xf] = 1;
      if ((uVar4 & wVar6) == 0) {
        *(undefined2 *)(pbVar8 + 0x10) =
             *(undefined2 *)((uint)*(ushort *)(iVar7 + 0x10) * 2 + 0xfff2b0);
        if (*(ushort *)(iVar7 + 0xc) < *(ushort *)(pbVar8 + 0x10)) {
          if ((((uint)(&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)] &
               1 << (*(byte *)(iVar7 + 0x15) & 0xf)) == 0) ||
             (((uint)(&fault_flags_enabled_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)] &
              1 << (*(byte *)(iVar7 + 0x15) & 0xf)) == 0)) {
            bVar1 = false;
          }
          else {
            bVar1 = true;
          }
          if (bVar1) goto LAB_0000a864;
          *(short *)(pbVar8 + 0xc) = *(short *)(iVar7 + 8) + *(short *)(pbVar8 + 0xc);
          if (*(short *)(iVar7 + 10) <= *(short *)(pbVar8 + 0xc)) {
            *(undefined2 *)(pbVar8 + 0xc) = *(undefined2 *)(iVar7 + 10);
            pbVar8[0xe] = 1;
            (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)] =
                 1 << (*(byte *)(iVar7 + 0x14) & 0xf) |
                 (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)];
            (&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)] =
                 1 << (*(byte *)(iVar7 + 0x14) & 0xf) |
                 (&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)];
          }
        }
        else {
LAB_0000a864:
          if (*(ushort *)(pbVar8 + 0x10) < *(ushort *)(iVar7 + 0xe)) {
            if ((((uint)(&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)]
                 & 1 << (*(byte *)(iVar7 + 0x14) & 0xf)) == 0) ||
               (((uint)(&fault_flags_enabled_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)]
                & 1 << (*(byte *)(iVar7 + 0x14) & 0xf)) == 0)) {
              bVar1 = false;
            }
            else {
              bVar1 = true;
            }
            if (!bVar1) {
              *(short *)(pbVar8 + 0xc) = *(short *)(iVar7 + 8) + *(short *)(pbVar8 + 0xc);
              if (*(short *)(iVar7 + 10) <= *(short *)(pbVar8 + 0xc)) {
                *(undefined2 *)(pbVar8 + 0xc) = *(undefined2 *)(iVar7 + 10);
                pbVar8[0xe] = 1;
                (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)] =
                     1 << (*(byte *)(iVar7 + 0x15) & 0xf) |
                     (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)];
                (&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)] =
                     1 << (*(byte *)(iVar7 + 0x15) & 0xf) |
                     (&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)];
              }
              goto LAB_0000a964;
            }
          }
          *(short *)(pbVar8 + 0xc) = *(short *)(pbVar8 + 0xc) - *(short *)(iVar7 + 6);
          if (*(short *)(pbVar8 + 0xc) < 0) {
            pbVar8[0xc] = 0;
            pbVar8[0xd] = 0;
          }
        }
LAB_0000a964:
        if (*(short *)(pbVar8 + 0xc) <= *(short *)(iVar7 + 4)) {
          pbVar8[0xe] = 0;
          if (((uint)(&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)] &
              1 << (*(byte *)(iVar7 + 0x14) & 0xf)) != 0) {
            if (((uint)(&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)]
                & 1 << (*(byte *)(iVar7 + 0x14) & 0xf)) == 0) {
              (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)] =
                   ~(1 << (*(byte *)(iVar7 + 0x14) & 0xf)) &
                   (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x14) >> 4)];
            }
          }
          if (((uint)(&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)] &
              1 << (*(byte *)(iVar7 + 0x15) & 0xf)) != 0) {
            if (((uint)(&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)]
                & 1 << (*(byte *)(iVar7 + 0x15) & 0xf)) == 0) {
              (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)] =
                   ~(1 << (*(byte *)(iVar7 + 0x15) & 0xf)) &
                   (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x15) >> 4)];
            }
          }
        }
        if (pbVar8[0xe] == 0) {
          ((table_interp_args_t *)args)->input_value = *(word *)(pbVar8 + 0x10);
          sVar2 = lookupTableInterpolation((table_interp_args_t *)args);
          *(short *)(pbVar8 + 10) = sVar2;
          if (*(char *)(iVar7 + 0x13) != '\0') {
            if (*(short *)(pbVar8 + 10) == 4) {
              if (*pbVar9 == 4) {
                (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)] =
                     1 << (*(byte *)(iVar7 + 0x16) & 0xf) |
                     (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)];
                (&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)] =
                     1 << (*(byte *)(iVar7 + 0x16) & 0xf) |
                     (&fault_flags_history_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)];
              }
              else {
                *pbVar9 = *pbVar9 + 1;
              }
            }
            else if (*pbVar9 == 0) {
              if (((uint)(&fault_flags_active_base)
                         [(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)] &
                  1 << (*(byte *)(iVar7 + 0x16) & 0xf)) != 0) {
                if (((uint)(&fault_flags_history_base)
                           [(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)] &
                    1 << (*(byte *)(iVar7 + 0x16) & 0xf)) == 0) {
                  (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)] =
                       ~(1 << (*(byte *)(iVar7 + 0x16) & 0xf)) &
                       (&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar7 + 0x16) >> 4)];
                }
              }
            }
            else {
              *pbVar9 = *pbVar9 - 1;
            }
          }
          uVar3 = coreTableInterpolation();
          *(undefined2 *)(pbVar8 + 8) = uVar3;
        }
        else {
          *(undefined2 *)(pbVar8 + 8) = *(undefined2 *)(iVar7 + 2);
        }
      }
      else {
        *(word *)(pbVar8 + 8) = (&sensor_fault_debounce_limit)[sVar5];
      }
    }
    pbVar8 = pbVar8 + 0x16;
    iVar7 = iVar7 + 0x18;
    args = (word *)((int)args + 0xc);
    pbVar9 = pbVar9 + 1;
    sVar5 = sVar5 + 1;
    if (sVar5 == 0x10) {
      uVar4 = 1;
      wVar6 = fuel_temp_control_flags;
    }
    else {
      uVar4 = uVar4 * 2;
    }
  } while( true );
}



//
// Function: initADCChannelConfiguration @ 0x0000ac1c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initADCChannelConfiguration(void)

{
  bool bVar1;
  byte *pbVar2;
  int iVar3;
  
  adc_coolant_temp_fault_clear_ptr = (dword)&a_d_fault_clear_counts_for_coolant_temperature_0_32767;
  adc_oil_pressure_filter_ptr = (dword)&a_d_digital_filter_constant_for_oil_pressure_0_1;
  adc_channel_config_buffer = 2;
  adc_sampled_throttle_fault_clear_ptr = (dword)&a_d_fault_clear_counts_for_sampled_throttle_0_32767
  ;
  adc_throttle_fault_set_ptr = (dword)&a_d_fault_increment_0_32767;
  _adc_throttle_fault_increment_ptr = 2;
  adc_channel_3_mux_ptr = (dword)&channel_mux_setting_0_255;
  adc_ambient_air_pressure_filter_ptr =
       (dword)&a_d_digital_filter_constant_for_ambient_air_pressure_0_1;
  adc_channel_3_config_value = 2;
  adc_channel_4_mux_ptr = (dword)&channel_mux_setting_0_255;
  adc_battery_voltage_error_limit_ptr = (dword)&a_d_high_error_limit_for_battery_voltage_0_1023;
  adc_channel_4_config_value = 2;
  adc_channel_5_error_limit_ptr = (dword)&a_d_high_error_limit_0_1023;
  adc_channel_5_filter_ptr = (dword)&a_d_digital_filter_constant_0_1;
  adc_channel_5_config_value = 2;
  adc_channel_6_fault_set_ptr = (dword)&a_d_fault_set_0_32767;
  adc_channel_6_filter_ptr = (dword)&a_d_digital_filter_constant_0_1;
  adc_channel_6_config_value = 2;
  adc_channel_7_filter_ptr = (dword)&a_d_digital_filter_constant_0_1;
  adc_throttle_error_number_ptr =
       (dword)&error_number_storage_for_throttle_position_sv_high_error_0_255;
  adc_channel_7_config_value = 2;
  adc_water_in_fuel_fault_set_ptr = (dword)&water_in_fuel_a_d_fault_set_0_32767;
  adc_water_in_fuel_fault_clear_ptr = (dword)&water_in_fuel_a_d_fault_clear_counts_0_32767;
  adc_channel_8_config_value = 2;
  adc_water_in_fuel_tristate_ptr = (dword)&water_in_fuel_tri_state_error_none;
  adc_water_in_fuel_channel_addr_ptr = (dword)&water_in_fuel_channel_address_none;
  adc_channel_9_config_value = 2;
  adc_channel_10_fault_set_ptr = (dword)&a_d_fault_set_0_32767;
  adc_channel_10_fault_clear_ptr = (dword)&a_d_fault_clear_counts_0_32767;
  adc_channel_10_config_value = 2;
  adc_channel_11_fault_decrement_ptr = (dword)&a_d_fault_decrement_0_32767;
  adc_egr_feedback_channel_addr_ptr = (dword)&egr_current_feedback_channel_address_none;
  adc_channel_11_config_value = 2;
  adc_channel_12_fault_ptr = (dword)&ADHBSVFD;
  adc_programming_pulse_error_ptr =
       (dword)&error_number_storage_for_programming_pulse_sv_high_error_0_255;
  adc_channel_12_config_value = 2;
  adc_channel_13_default_ptr = (dword)&global_default_value;
  adc_channel_13_fault_ptr = (dword)&ADHBSVCA;
  adc_channel_13_config_value = 2;
  adc_channel_14_mux_ptr = (dword)&channel_mux_setting_0_255;
  adc_channel_14_error_limit_ptr = (dword)&a_d_high_error_limit_0_1023;
  adc_channel_14_config_value = 2;
  adc_channel_15_table_ptr_2 = (dword)&linearization_table_ch15_y_axis;
  adc_channel_15_table_ptr_1 = (dword)&linearization_table_ch15_x_axis;
  adc_channel_15_config_value = 2;
  adc_channel_16_table_ptr_2 = (dword)&linearization_table_ch16_y_axis;
  adc_channel_16_table_ptr_1 = (dword)&linearization_table_ch16_x_axis;
  adc_channel_16_config_value = 2;
  adc_channel_17_table_ptr_2 = (dword)&linearization_table_ch17_y_axis;
  adc_channel_17_table_ptr_1 = (dword)&linearization_table_ch17_x_axis;
  adc_channel_17_config_value = 2;
  adc_channel_18_table_ptr_2 = (dword)&linearization_table_ch18_y_axis;
  adc_channel_18_table_ptr_1 = (dword)&linearization_table_ch18_x_axis;
  adc_channel_18_config_value = 2;
  adc_channel_19_table_ptr_2 = (dword)&linearization_table_ch19_y_axis;
  adc_channel_19_table_ptr_1 = (dword)&linearization_table_ch19_x_axis;
  adc_channel_19_config_value = 2;
  adc_channel_20_table_ptr_2 = (dword)&linearization_table_ch20_y_axis;
  adc_channel_20_table_ptr_1 = (dword)&linearization_table_ch20_x_axis;
  adc_channel_20_config_value = 2;
  adc_channel_21_table_ptr_2 = (dword)&linearization_table_ch21_y_axis;
  adc_channel_21_table_ptr_1 = (dword)&linearization_table_ch21_x_axis;
  adc_channel_21_config_value = 2;
  adc_channel_22_table_ptr_2 = (dword)&linearization_table_ch22_y_axis;
  adc_channel_22_table_ptr_1 = (dword)&linearization_table_ch22_x_axis;
  adc_channel_22_config_value = 2;
  adc_channel_23_table_ptr_2 = (dword)&linearization_table_ch23_y_axis;
  adc_channel_23_table_ptr_1 = (dword)&linearization_table_ch23_x_axis;
  adc_channel_23_config_value = 2;
  adc_channel_24_table_ptr_2 = (dword)&linearization_table_ch24_y_axis;
  adc_channel_24_table_ptr_1 = (dword)&linearization_table_ch24_x_axis;
  adc_channel_24_config_value = 2;
  adc_channel_25_table_ptr_2 = (dword)&linearization_table_ch25_y_axis;
  adc_channel_25_table_ptr_1 = (dword)&linearization_table_ch25_x_axis;
  adc_channel_25_config_value = 2;
  pbVar2 = &request_to_strobe_set_0_then_set_1_cold_start_aid_1_driver_0_1;
  iVar3 = 0x8068ea;
  do {
    if ((byte *)0x809407 < pbVar2) {
      sensorFaultDebounceMonitor();
      for (pbVar2 = &request_to_strobe_set_0_then_set_1_cold_start_aid_1_driver_0_1;
          pbVar2 < (byte *)0x809408; pbVar2 = pbVar2 + 0x16) {
        *(uint *)(pbVar2 + 4) = (uint)*(ushort *)(pbVar2 + 10) << 0x10;
        *(undefined2 *)(pbVar2 + 8) = *(undefined2 *)(pbVar2 + 10);
        pbVar2[0xf] = 0;
      }
      return;
    }
    pbVar2[4] = 0;
    pbVar2[5] = 0;
    pbVar2[6] = 0;
    pbVar2[7] = 0;
    *(int *)pbVar2 = iVar3;
    pbVar2[0xf] = *(byte *)(iVar3 + 0x17);
    if ((((uint)(&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar3 + 0x15) >> 4)] &
         1 << (*(byte *)(iVar3 + 0x15) & 0xf)) == 0) ||
       (((uint)(&fault_flags_enabled_base)[(short)((int)(uint)*(byte *)(iVar3 + 0x15) >> 4)] &
        1 << (*(byte *)(iVar3 + 0x15) & 0xf)) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (bVar1) {
LAB_0000af4c:
      *(undefined2 *)(pbVar2 + 0xc) = *(undefined2 *)(iVar3 + 10);
      pbVar2[0xe] = 1;
    }
    else {
      if ((((uint)(&fault_flags_active_base)[(short)((int)(uint)*(byte *)(iVar3 + 0x14) >> 4)] &
           1 << (*(byte *)(iVar3 + 0x14) & 0xf)) == 0) ||
         (((uint)(&fault_flags_enabled_base)[(short)((int)(uint)*(byte *)(iVar3 + 0x14) >> 4)] &
          1 << (*(byte *)(iVar3 + 0x14) & 0xf)) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (bVar1) goto LAB_0000af4c;
    }
    pbVar2 = pbVar2 + 0x16;
    iVar3 = iVar3 + 0x18;
  } while( true );
}



//
// Function: diagnostic_fuel_calculation_with_vp44_monitoring @ 0x0000afa0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort diagnostic_fuel_calculation_with_vp44_monitoring(void)

{
  ushort uVar1;
  ushort uVar2;
  undefined8 uVar3;
  
  if ((vp44_status_flags_2 & 8) == 0) {
    _diagnostic_rpm_input = current_engine_rpm;
    _diagnostic_secondary_input = diagnostic_sensor_reading;
    uVar3 = tableInterpolationLookup((short *)&diagnostic_fuel_table_base);
    _diagnostic_mode_buffer = (short)((ulonglong)uVar3 >> 0x20);
  }
  else {
    _diagnostic_mode_buffer = _vp44_override_fuel_value;
  }
  uVar2 = vp44_flag_register_1 & 0x4000;
  if (((((vp44_flag_register_1 & 0x4000) == 0) ||
       (((engine_fault_status_register_1 & 2) != 0 &&
        (uVar2 = engine_fault_confirmation_register & 2, uVar2 != 0)))) ||
      (((engine_fault_status_register_1 & 1) != 0 &&
       (uVar2 = engine_fault_confirmation_register & 1, uVar2 != 0)))) ||
     (((engine_fault_status_register_1 & 0x10) != 0 &&
      (uVar2 = engine_fault_confirmation_register & 0x10, uVar2 != 0)))) {
    uVar1 = 0;
  }
  else {
    _diagnostic_correction_input = throttle_position_raw;
    uVar1 = lookupTableInterpolation((table_interp_args_t *)&diagnostic_correction_table_base);
    uVar2 = uVar1;
  }
  _diagnostic_mode_buffer = uVar1 + _diagnostic_mode_buffer;
  return uVar2;
}



//
// Function: timingParameterPointerSetup @ 0x0000b05c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void timingParameterPointerSetup(void)

{
  timing_table_1_ptr = 0x806e34;
  _diagnostic_fuel_table_base = 2;
  timing_table_2_ptr = 0x806e20;
  timing_table_2_base = 2;
  timing_table_3_ptr = 0x806e5a;
  _diagnostic_correction_input = throttle_position_raw;
  timing_table_4_ptr = 0x808862;
  timing_table_5_ptr = 0x808876;
  _diagnostic_correction_table_base = 2;
  return;
}



//
// Function: shutdownMinimumSelector16 @ 0x0000b0b0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void shutdownMinimumSelector16(void)

{
  if (_diagnostic_mode_buffer < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = _diagnostic_mode_buffer;
    shutdown_minimum_selector_value = DIAGNOSTIC_MODE_BUFFER;
  }
  return;
}



//
// Function: diagnosticTimingIncrementController @ 0x0000b0ce
//

void diagnosticTimingIncrementController(void)

{
  if (vp44_engine_state != 0x10) {
    diagnostic_timing_increment_value = 0;
    diagnostic_timing_increment_state = 0;
    return;
  }
  diagnostic_timing_increment_value =
       calibratible_timing_increment_that_is_added_to_base_timing_any_0_120;
  timing_protection_counter_1 = 1;
  diagnostic_timing_increment_state = 4;
  return;
}



//
// Function: fuelAdjustmentWithFlagUpdate @ 0x0000b0fe
//

void fuelAdjustmentWithFlagUpdate(void)

{
  if ((short)(diagnostic_timing_increment_value + fuel_limit_minimum_value) < 0) {
    fuel_limit_minimum_value = 0;
  }
  else {
    fuel_limit_minimum_value = diagnostic_timing_increment_value + fuel_limit_minimum_value;
  }
  fuel_adjustment_active_flag =
       diagnostic_timing_increment_state | fuel_adjustment_active_flag & 0xfffb;
  return;
}



//
// Function: vp44TimingConditionChecker @ 0x0000b130
//

undefined4 vp44TimingConditionChecker(void)

{
  undefined2 uVar1;
  uint uVar2;
  
  uVar2 = 0;
  if (((vp44_status_flags_1 & 0x8000) == 0) ||
     (uVar2 = (uint)vp44_timing_condition_value + (uint)insite_diagnostic_lower_bound,
     uVar2 < insite_diagnostic_reading)) {
    uVar1 = (undefined2)(uVar2 >> 0x10);
    vp44_status_threshold_flag = 0;
  }
  else {
    uVar1 = 0;
    if (((vp44_status_flags_1 & 0x8000) != 0) &&
       (uVar1 = 0, insite_diagnostic_reading < insite_diagnostic_lower_bound)) {
      vp44_status_threshold_flag = 1;
    }
  }
  return CONCAT22(uVar1,vp44_status_threshold_flag);
}



//
// Function: fuelTimingModeArbitrationSlowCycle40Coordinator @ 0x0000b18c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort fuelTimingModeArbitrationSlowCycle40Coordinator(void)

{
  undefined4 uVar1;
  
  if (((engine_operating_mode == ENGINE_IDLE) || (engine_operating_mode == LOW_RPM_RUNNING)) ||
     (engine_operating_mode == TRANSITIONAL_MODE_6)) {
    fuel_source_mode_11_state = 1;
    fuel_source_mode_11_timer = fuel_source_mode_11_timeout_value;
    fuel_mode_transition_state = 1;
    fuel_mode_transition_timer = fuel_mode_transition_timeout_value;
    timing_blend_state = 0;
    _timing_blend_accumulator = 0;
    timing_protection_blend_ramp = 0;
  }
  else {
    timingProtectionFlagsOrchestrator();
  }
  if (fuel_timing_mode_arbitration_param_1 == 0) {
    if ((fuel_demand_control_flags & 1) == 0) {
      uVar1 = vp44TimingConditionChecker();
      if ((short)uVar1 == 0) {
        if (((vp44_status_flags_1 & 0x4000) == 0) || (protection_mode_state != 1)) {
          timing_mode_source_selector = BLEND_RAMP_DEFAULT;
          fuel_timing_mode_blend_factor_965a = timing_protection_blend_ramp;
        }
        else {
          timing_mode_source_selector = ARBITRATION_2;
          fuel_timing_mode_blend_factor_965a = fuel_timing_mode_arbitration_2;
        }
      }
      else {
        timing_mode_source_selector = ARBITRATION_1;
        fuel_timing_mode_blend_factor_965a = fuel_timing_mode_arbitration_1;
      }
    }
    else {
      timing_mode_source_selector = ARBITRATION_VALUE;
      fuel_timing_mode_blend_factor_965a = fuel_timing_mode_arb_value;
    }
  }
  else {
    timing_mode_source_selector = PARAM_OVERRIDE;
    fuel_timing_mode_blend_factor_965a = fuel_timing_mode_arbitration_param_2;
  }
  if (0x4000 < fuel_timing_mode_blend_factor_965a) {
    fuel_timing_mode_blend_factor_965a = 0x4000;
  }
  if ((vp44_status_flags_2 & 0x10) == 0) {
    fuel_timing_mode_selector = fuel_timing_mode_blend_factor_965a;
  }
  return vp44_status_flags_2 & 0x10;
}



//
// Function: fuelTableBlendResultHandler @ 0x0000b27e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 fuelTableBlendResultHandler(void)

{
  if ((timing_protection_counter_2 == 1) && (timing_blend_threshold < timing_blend_state)) {
    timing_blend_state = timing_blend_threshold;
    _timing_blend_accumulator = (uint)timing_blend_threshold << 0x10;
  }
  timing_blend_state = coreTableInterpolation();
  if (timing_blend_state <= timing_blend_threshold) {
    return 0;
  }
  if (unnamed_data_6fb4 < timing_blend_state) {
    return 1;
  }
  return timing_fuel_blend_result;
}



//
// Function: fuelSourceOilPressureConditionChecker @ 0x0000b2ee
//

uint fuelSourceOilPressureConditionChecker(void)

{
  uint in_D0;
  
  if (((vp44_engine_state != 10) && (protection_system_enable_flag != 1)) &&
     (oil_pressure_protection_enabled != 1)) {
    return in_D0 & 0xffff0000;
  }
  return 1;
}



//
// Function: fuelSourceMode11CountdownHandler @ 0x0000b314
//

int fuelSourceMode11CountdownHandler(void)

{
  ushort uVar1;
  undefined4 in_D0;
  
  uVar1 = (ushort)((uint)in_D0 >> 0x10);
  if (vp44_engine_state == 0xb) {
    fuel_source_mode_11_timer = fuel_source_mode_11_timeout_value;
    fuel_source_mode_11_state = 1;
    return (uint)uVar1 << 0x10;
  }
  if ((fuel_source_mode_11_state == 1) && (fuel_source_mode_11_timer != 0)) {
    fuel_source_mode_11_timer = fuel_source_mode_11_timer - 1;
    return (uint)uVar1 << 0x10;
  }
  fuel_source_mode_11_state = 0;
  return 1;
}



//
// Function: fuelModeTransitionCountdownHandler @ 0x0000b35c
//

int fuelModeTransitionCountdownHandler(void)

{
  ushort uVar1;
  undefined4 in_D0;
  
  uVar1 = (ushort)((uint)in_D0 >> 0x10);
  if ((timing_protection_counter_1 == 1) || (timing_protection_counter_2 == 1)) {
    fuel_mode_transition_timer = fuel_mode_transition_timeout_value;
    fuel_mode_transition_state = 1;
    return (uint)uVar1 << 0x10;
  }
  if ((fuel_mode_transition_state == 1) && (fuel_mode_transition_timer != 0)) {
    fuel_mode_transition_timer = fuel_mode_transition_timer - 1;
    return (uint)uVar1 << 0x10;
  }
  fuel_mode_transition_state = 0;
  return 1;
}



//
// Function: timingProtectionFlagsOrchestrator @ 0x0000b3ae
//

uint timingProtectionFlagsOrchestrator(void)

{
  int iVar1;
  ushort uVar3;
  uint uVar2;
  
  uVar3 = 0;
  if ((vp44_status_flags_1 & 0x400) != 0) {
    iVar1 = fuelSourceMode11CountdownHandler();
    uVar3 = (ushort)iVar1;
    timing_mode_11_result = uVar3;
  }
  if ((vp44_status_flags_1 & 0x800) != 0) {
    iVar1 = fuelModeTransitionCountdownHandler();
    timing_transition_result = (word)iVar1;
    uVar3 = timing_transition_result | uVar3;
  }
  if ((vp44_status_flags_1 & 0x1000) != 0) {
    timing_fuel_blend_result = fuelTableBlendResultHandler();
    uVar3 = timing_fuel_blend_result | uVar3;
  }
  uVar2 = vp44_status_flags_1 & 0xffff2000;
  if ((vp44_status_flags_1 & 0x2000) != 0) {
    uVar2 = fuelSourceOilPressureConditionChecker();
    timing_oil_pressure_result = (word)uVar2;
    uVar3 = timing_oil_pressure_result | uVar3;
  }
  if (uVar3 == 0) {
    timing_protection_blend_ramp = 0;
  }
  else if (timing_protection_blend_ramp != 0x4000) {
    if (timing_protection_blend_ramp < timing_protection_blend_increment) {
      timing_protection_blend_ramp = timing_protection_flags_param + timing_protection_blend_ramp;
      uVar2 = (uint)timing_protection_blend_base + (uint)timing_protection_blend_increment;
      if (uVar2 < timing_protection_blend_ramp) {
        timing_protection_blend_ramp =
             timing_protection_blend_base + timing_protection_blend_increment;
        uVar2 = CONCAT22((short)(uVar2 >> 0x10),timing_protection_blend_ramp);
      }
    }
    else {
      uVar2 = CONCAT22((short)(uVar2 >> 0x10),timing_protection_blend_base);
      timing_protection_blend_ramp = timing_protection_blend_base + timing_protection_blend_ramp;
    }
  }
  if (0x4000 < timing_protection_blend_ramp) {
    timing_protection_blend_ramp = 0x4000;
  }
  timing_protection_counter_1 = 0;
  timing_protection_counter_2 = 0;
  return uVar2;
}



//
// Function: shutdownProtectionCalculator @ 0x0000b47e
//

ulonglong shutdownProtectionCalculator(void)

{
  undefined2 uVar1;
  undefined4 in_D0;
  undefined4 uVar2;
  undefined4 in_D1;
  ulonglong uVar3;
  
  uVar1 = (undefined2)((uint)in_D0 >> 0x10);
  if (((fuel_demand_control_flags & 0x20) == 0) || (engine_operating_mode != HIGH_RPM_RUNNING)) {
    shutdown_protection_fuel_limit = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
    return CONCAT44(CONCAT22(uVar1,fuel_demand_control_flags),in_D1) & 0xffff0020ffffffff;
  }
  if ((((fault_status_flags_2 & 4) == 0) || ((accelerator_pedal_position & 4) == 0)) &&
     (((fault_status_flags_2 & 8) == 0 || ((accelerator_pedal_position & 8) == 0)))) {
    shutdown_protection_rpm_input = current_engine_rpm;
    shutdown_protection_diag_input = insite_diagnostic_reading;
    uVar3 = tableInterpolationLookup((short *)&fuel_parameter_pointer_3);
    shutdown_protection_fuel_limit = (word)(uVar3 >> 0x20);
    return uVar3;
  }
  uVar2 = CONCAT22(uVar1,current_engine_rpm);
  if (shutdown_protection_param_1 < current_engine_rpm) {
    shutdown_protection_fuel_limit = shutdown_protection_param_2;
    return CONCAT44(uVar2,in_D1);
  }
  shutdown_protection_fuel_limit = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  return CONCAT44(uVar2,in_D1);
}



//
// Function: fuelParameterPointerSetup @ 0x0000b528
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelParameterPointerSetup(void)

{
  fuel_parameter_pointer_3._0_2_ = 2;
  ram0x00800076 = 0x806fba;
  fuel_parameter_pointer_2._0_2_ = 2;
  ram0x0080007e = 0x806fe0;
  fuel_parameter_pointer_1 = 0x806fea;
  return;
}



//
// Function: shutdownMinimumSelector15 @ 0x0000b556
//

void shutdownMinimumSelector15(void)

{
  if (shutdown_protection_fuel_limit < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = shutdown_protection_fuel_limit;
    shutdown_minimum_selector_value = SHUTDOWN_PROTECTION_LIMIT;
  }
  return;
}



//
// Function: rpmParameterPointerSetup @ 0x0000b574
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void rpmParameterPointerSetup(void)

{
  rpm_interpolation_lookup_arg = 2;
  rpm_parameter_pointer = 0x807886;
  _target_rpm_rate_limiter_reserved_9e = 0x807892;
  return;
}



//
// Function: targetRpmRateLimiter @ 0x0000b594
//

void targetRpmRateLimiter(void)

{
  if (diagnostic_status_previous == 7) {
    target_rpm_rate_limiter_previous = target_rpm_rate_limiter_state;
  }
  else {
    target_rpm_rate_limiter_previous = target_engine_rpm;
  }
  target_rpm_rate_limiter_state = diagnostic_target_rpm_setpoint - target_rpm_rate_limiter_previous;
  if ((int)(short)target_rpm_rate_limiter_state < (int)-(uint)target_rpm_rate_limit) {
    target_rpm_rate_limiter_state = (word)-(uint)target_rpm_rate_limit;
  }
  if ((int)(uint)target_rpm_rate_limit < (int)(short)target_rpm_rate_limiter_state) {
    target_rpm_rate_limiter_state = target_rpm_rate_limit;
  }
  target_rpm_rate_limiter_state = target_rpm_rate_limiter_previous + target_rpm_rate_limiter_state;
  if ((int)((int)(short)target_rpm_rate_limiter_state - (uint)target_engine_rpm) < 0) {
    target_rpm_rate_limiter_output = -(target_rpm_rate_limiter_state - target_engine_rpm);
  }
  else {
    target_rpm_rate_limiter_output = target_rpm_rate_limiter_state - target_engine_rpm;
  }
  governor_interpolation_factor =
       lookupTableInterpolation((table_interp_args_t *)&rpm_interpolation_lookup_arg);
  target_engine_rpm =
       (word)((int)((uint)target_engine_rpm * (uint)governor_interpolation_factor +
                   (uint)diagnostic_target_rpm_setpoint *
                   (0x4000 - (uint)governor_interpolation_factor)) >> 0xe);
  return;
}



//
// Function: engine_speed_governor @ 0x0000b656
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engine_speed_governor(void)

{
  int iVar1;
  int rpm_error_integral;
  int iVar2;
  ushort pid_output_previous;
  int fuel_command_scaled;
  ushort rpm_error_previous;
  ushort derivative_term_previous;
  ushort rpm_error_clamped;
  
  dualTableLookupSum();
  if ((((diagnostic_status_register == DIAGNOSTIC_MODE_7) ||
       (diagnostic_status_register == DERATE_CONDITION_3)) ||
      (diagnostic_status_register == DERATE_CONDITION_2)) ||
     (diagnostic_status_register == DERATE_CONDITION_30)) {
    rpm_error_previous = governor_rpm_error;
    if (diagnostic_status_register != diagnostic_status_previous) {
      rpm_error_integral =
           (uint)governor_blend_factor_2 *
           ((int)_governor_speed_setpoint[3] + (int)_governor_speed_setpoint[2]);
      if (rpm_error_integral == 0) {
        target_engine_rpm = current_engine_rpm;
      }
      else {
        iVar2 = (int)(((uint)current_fuel_demand_value - (uint)governor_reference_fuel) *
                      (0x400 - (uint)governor_blend_factor_1) * 0x80) / rpm_error_integral;
        if (iVar2 < 0x30d4) {
          if (iVar2 < -0x30d3) {
            iVar2 = -32000;
          }
          else {
            iVar2 = (iVar2 << 8) / 100;
          }
        }
        else {
          iVar2 = 32000;
        }
        iVar2 = (uint)current_engine_rpm + iVar2;
        if (iVar2 < 0x10000) {
          if (iVar2 < 0) {
            target_engine_rpm = 0;
          }
          else {
            target_engine_rpm = (word)iVar2;
          }
        }
        else {
          target_engine_rpm = 0xffff;
        }
      }
      target_rpm_scaled = (uint)target_engine_rpm << 0x10;
      iVar2 = (uint)target_engine_rpm - (uint)current_engine_rpm;
      if (iVar2 < 32000) {
        if (iVar2 < -31999) {
          rpm_error_previous = 0x8300;
        }
        else {
          rpm_error_clamped = (ushort)iVar2;
          rpm_error_previous = rpm_error_clamped;
        }
      }
      else {
        rpm_error_previous = 32000;
      }
    }
    if (diagnostic_status_register == DIAGNOSTIC_MODE_7) {
      targetRpmRateLimiter();
    }
    else {
      target_engine_rpm = coreTableInterpolation();
      governor_interpolation_factor = (word)((int)(uint)*_governor_interpolation_input_1 >> 2);
    }
    iVar2 = (uint)target_engine_rpm - (uint)current_engine_rpm;
    if (iVar2 < 32000) {
      if (iVar2 < -31999) {
        governor_rpm_error = 0x8300;
      }
      else {
        rpm_error_clamped = (ushort)iVar2;
        governor_rpm_error = rpm_error_clamped;
      }
    }
    else {
      governor_rpm_error = 32000;
    }
    if (governor_mode_state == 1) {
      governor_mode_changed_flag = 1;
      _governor_pid_integral = (uint)governor_mode_init_integral << 0x10;
      _governor_proportional_state = governor_mode_init_rpm_ref;
      _governor_fuel_output_state = governor_reference_fuel;
      rpm_error_previous = governor_mode_init_error_prev;
      derivative_term_previous = governor_mode_init_deriv_prev;
      governor_fuel_command_delta = governor_mode_init_fuel_delta;
      fuel_command_scaled._2_2_ = governor_mode_init_output_prev;
    }
    else if ((_governor_derivative_state == current_fuel_demand_value) &&
            (diagnostic_status_register == diagnostic_status_previous)) {
      governor_mode_changed_flag = 0;
      derivative_term_previous = governor_pid_derivative_term_9d08;
      fuel_command_scaled._2_2_ = governor_pid_combined_output;
    }
    else {
      governor_mode_changed_flag = 1;
      if (governor_fuel_blend_limit_upper == governor_fuel_blend_limit_lower) {
        _governor_pid_integral = 0;
        fuel_command_scaled._2_2_ = 0;
      }
      else if (governor_reference_fuel < current_fuel_demand_value) {
        _governor_pid_integral =
             rpmFuelCalculation((uint)current_fuel_demand_value - (uint)governor_reference_fuel,
                                0x100 - (short)IHPHTMZA,
                                (int)(short)governor_fuel_blend_limit_upper -
                                (int)(short)governor_fuel_blend_limit_lower);
        if (0x1700 < _governor_pid_integral) {
          _governor_pid_integral = 0x1700;
        }
        fuel_command_scaled._2_2_ = (word)_governor_pid_integral;
        _governor_pid_integral = _governor_pid_integral << 0x10;
      }
      else {
        iVar2 = rpmFuelCalculation((uint)governor_reference_fuel - (uint)current_fuel_demand_value,
                                   0x100 - (short)IHPHTMZA,
                                   (int)(short)governor_fuel_blend_limit_upper -
                                   (int)(short)governor_fuel_blend_limit_lower);
        if (0x1700 < iVar2) {
          iVar2 = 0x1700;
        }
        _governor_pid_integral = (uint)(ushort)-(short)iVar2 << 0x10;
        fuel_command_scaled._2_2_ = -(short)iVar2;
      }
      _governor_proportional_state = current_engine_rpm;
      derivative_term_previous = 0;
      governor_fuel_command_delta = current_fuel_demand_value - governor_reference_fuel;
      _governor_fuel_output_state = governor_reference_fuel;
    }
    iVar2 = (uint)current_engine_rpm - (int)(short)_governor_proportional_state;
    if (iVar2 < 8000) {
      if (iVar2 < -7999) {
        governor_rpm_change_rate = 0xe0c0;
      }
      else {
        rpm_error_clamped = (ushort)iVar2;
        governor_rpm_change_rate = rpm_error_clamped;
      }
    }
    else {
      governor_rpm_change_rate = 8000;
    }
    _governor_proportional_state = current_engine_rpm;
    governor_rpm_error_delta = governor_rpm_error - rpm_error_previous;
    if ((short)governor_rpm_error_delta < 32000) {
      if ((short)governor_rpm_error_delta < -31999) {
        governor_rpm_error_delta = 0x8300;
      }
    }
    else {
      governor_rpm_error_delta = 32000;
    }
    governor_pid_proportional_accum =
         ((int)(short)rpm_error_previous *
          ((int)_governor_speed_setpoint[3] + (int)_governor_speed_setpoint[2]) +
         (int)(short)governor_rpm_error_delta *
         ((int)_governor_speed_setpoint[2] + (int)*_governor_speed_setpoint)) -
         (int)(short)governor_rpm_change_rate * (int)_governor_speed_setpoint[1] >> 9;
    if ((int)governor_pid_proportional_accum < 0xe6000) {
      if ((int)governor_pid_proportional_accum < -0xe5fff) {
        governor_pid_proportional_accum = 0xfff1a000;
      }
    }
    else {
      governor_pid_proportional_accum = 0xe6000;
    }
    rpm_error_clamped =
         (ushort)((int)(short)governor_rpm_error_delta * (int)_governor_speed_setpoint[4] -
                  (int)(short)governor_rpm_change_rate * (int)_governor_speed_setpoint[5] >> 0xd);
    if ((short)rpm_error_clamped < (short)governor_derivative_deadband) {
      if (-(int)(short)governor_derivative_deadband < (int)(short)rpm_error_clamped) {
        governor_derivative_filtered = 0;
      }
      else {
        governor_derivative_filtered = governor_derivative_deadband + rpm_error_clamped;
        if ((int)(short)governor_derivative_filtered <= -(int)(short)_IHPHSDXA) {
          governor_derivative_filtered = (word)-(int)(short)_IHPHSDXA;
        }
      }
    }
    else {
      governor_derivative_filtered = rpm_error_clamped - governor_derivative_deadband;
      if ((short)_IHPHSDXA <= (short)governor_derivative_filtered) {
        governor_derivative_filtered = _IHPHSDXA;
      }
    }
    rpm_error_clamped =
         (short)((int)(short)derivative_term_previous * (int)(short)governor_derivative_filter_coeff
                >> 10) +
         (short)((int)((uint)governor_blend_factor_2 * (int)(short)governor_derivative_filtered) >>
                10);
    if ((short)rpm_error_clamped < 0x1700) {
      if ((short)rpm_error_clamped < -0x16ff) {
        governor_pid_derivative_term_9d08 = 0xe900;
      }
      else {
        governor_pid_derivative_term_9d08 = rpm_error_clamped;
      }
    }
    else {
      governor_pid_derivative_term_9d08 = 0x1700;
    }
    _governor_pid_integral =
         (int)(short)derivative_term_previous * (governor_blend_factor_1 - 0x400) * 0x10 +
         ((int)((uint)governor_blend_factor_1 * (_governor_pid_integral >> 9)) >> 3) +
         ((int)(governor_pid_proportional_accum * governor_blend_factor_2) >> 1);
    if (_governor_pid_integral < -0x5c00000) {
      _governor_pid_integral = -0x17000000;
    }
    else if (_governor_pid_integral < 0x5c00000) {
      _governor_pid_integral = _governor_pid_integral * 4;
    }
    else {
      _governor_pid_integral = 0x17000000;
    }
    governor_pid_intermediate = _governor_pid_integral;
    governor_pid_combined_output = governor_pid_derivative_term_9d08 + _governor_pid_integral;
    if ((short)governor_pid_combined_output < -0x16ff) {
      governor_pid_combined_output = 0xe900;
    }
    else if (0x1700 < (short)governor_pid_combined_output) {
      governor_pid_combined_output = 0x1700;
    }
    iVar2 = (int)(short)governor_fuel_command_delta * (int)_governor_speed_setpoint[8] +
            ((int)(short)governor_pid_combined_output * (int)_governor_speed_setpoint[6] -
            (int)(short)fuel_command_scaled._2_2_ * (int)_governor_speed_setpoint[7]);
    iVar1 = iVar2 >> 8;
    if (iVar1 < -0x16ff) {
      governor_fuel_command_delta = 0xe900;
    }
    else if (iVar1 < 0x1700) {
      rpm_error_clamped = (ushort)((uint)iVar2 >> 8);
      governor_fuel_command_delta = rpm_error_clamped;
    }
    else {
      governor_fuel_command_delta = 0x1700;
    }
    _governor_fuel_output_state =
         (ushort)((int)((uint)_governor_fuel_output_state * (uint)governor_interpolation_factor +
                       (uint)governor_reference_fuel *
                       (0x4000 - (uint)governor_interpolation_factor)) >> 0xe);
    if (0x1700 < _governor_fuel_output_state) {
      _governor_fuel_output_state = 0x1700;
    }
    _governor_derivative_state = _governor_fuel_output_state + governor_fuel_command_delta;
    if ((short)_governor_derivative_state < (short)governor_output_upper_limit) {
      governor_output_clamped = _governor_derivative_state;
      if ((short)_governor_derivative_state <= (short)governor_output_lower_limit) {
        governor_output_clamped = governor_output_lower_limit;
      }
    }
    else {
      governor_output_clamped = governor_output_upper_limit;
    }
    cached_parameter_value = governor_output_clamped;
  }
  diagnostic_status_previous = diagnostic_status_register;
  return;
}



//
// Function: diagnosticDataCopyHandler @ 0x0000bdd4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDataCopyHandler(void)

{
  if ((diag_governor_copy_enable_flag != 0) && (_derate_status_flag == 0)) {
    _derate_status_flag = 0x1e;
    diagnostic_target_rpm_setpoint = diag_governor_target_rpm_source;
    governor_blend_factor_1 = diag_governor_blend_factor_1;
    governor_blend_factor_2 = diag_governor_blend_factor_2;
    _governor_speed_setpoint = 0x809ce6;
    _governor_interpolation_input_1 = 0x809cd2;
    governor_mode_init_error_prev = diag_governor_error_prev_source;
    governor_mode_init_integral = diag_governor_integral_source;
    governor_mode_init_rpm_ref = diag_governor_rpm_ref_source;
    governor_mode_init_deriv_prev = diag_governor_deriv_prev_source;
    governor_mode_init_output_prev = diagnostic_data_copy_source;
    governor_mode_init_fuel_delta = diagnostic_data_copy_dest;
    governor_mode_state = diag_governor_mode_state_source;
    governor_output_upper_limit = diag_governor_output_upper_limit;
    governor_output_lower_limit = diag_governor_output_lower_limit;
  }
  return;
}



//
// Function: diagnosticStatus30Setter @ 0x0000be7c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticStatus30Setter(void)

{
  if ((diagnostic_status_register == NORMAL_OPERATION) && (_derate_status_flag == 0x1e)) {
    diagnostic_status_register = DERATE_CONDITION_30;
  }
  return;
}



//
// Function: diagnosticStatus2Initializer @ 0x0000be96
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticStatus2Initializer(undefined4 param_1)

{
  if ((diagnostic_status_register == NORMAL_OPERATION) && (_derate_status_flag == 2)) {
    diagnostic_status_register = DERATE_CONDITION_2;
    _governor_speed_setpoint =
         (uint)(ushort)fuel_arbitrator_diag_t_0080cff8._26_2_ * 0x12 + 0x8078fc;
    if (param_1._0_2_ != 2) {
      governor_mode_state = 0;
      governor_blend_factor_1 = 0x400;
      governor_blend_factor_2 = 0x400;
      governor_output_lower_limit = diag_mode_2_output_lower_limit;
      governor_output_upper_limit = diag_mode_2_output_upper_limit;
      _governor_interpolation_input_1 = 0x8078f6;
    }
  }
  return;
}



//
// Function: diagnosticState2Initializer @ 0x0000bf0a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticState2Initializer(void)

{
  if ((_derate_status_flag == 0) && (fuel_arbitrator_diag_t_0080cff8.rpm_target == 1)) {
    _derate_status_flag = 2;
    diagnostic_target_rpm_setpoint = fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_;
  }
  return;
}



//
// Function: derate_application_controller @ 0x0000bf2e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void derate_application_controller(void)

{
  _derate_base_value = derate_base_calibration_value;
  _derate_min_limit = *_derate_min_limit_ptr;
  _derate_max_limit = *_derate_max_limit_ptr;
  _calculated_derate_output =
       _derate_min_limit +
       (short)(((uint)active_derate_value * ((uint)_derate_max_limit - (uint)_derate_min_limit)) /
              400);
  _derate_status_flag = 0;
  diagnosticDataCopyHandler();
  diagnosticState2Initializer();
  diagnosticState7Setter();
  return;
}



//
// Function: initDerateSystemPointers @ 0x0000bf9c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initDerateSystemPointers(void)

{
  _derate_min_limit_ptr = 0x8036b6;
  _derate_max_limit_ptr = 0x8036b8;
  _derate_base_value = derate_base_calibration_value;
  return;
}



//
// Function: diagnosticValueCalculator @ 0x0000bfbc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticValueCalculator(void)

{
  uint uVar1;
  
  if (_derate_base_value == 1) {
    diag_mode_1_target_rpm_arg = diagnostic_target_rpm_setpoint;
    diag_interpolation_result =
         lookupTableInterpolation((table_interp_args_t *)&diagnostic_table_pointer_2);
  }
  else if (_derate_base_value == 0) {
    diag_mode_0_target_rpm_arg = diagnostic_target_rpm_setpoint;
    diag_interpolation_result =
         lookupTableInterpolation((table_interp_args_t *)&diagnostic_table_pointer_4);
  }
  uVar1 = (uint)(ushort)(diag_blend_factor_offset + diag_blend_factor_base) *
          (uint)diag_interpolation_result;
  if (uVar1 < 0x2655879) {
    diag_governor_blend_result_1 =
         (word)((0x2655879 - uVar1 >> 1) / (uVar1 + 0x2655879 >> 0xb & 0xffff));
  }
  else {
    diag_governor_blend_result_1 = 0;
  }
  diag_governor_blend_result_2 = (word)((int)(diag_governor_blend_result_1 + 0x400) >> 1);
  governor_blend_factor_1 = diag_governor_blend_result_1;
  governor_blend_factor_2 = diag_governor_blend_result_2;
  return;
}



//
// Function: diagnosticStatus7Initializer @ 0x0000c084
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticStatus7Initializer(undefined4 param_1)

{
  if ((diagnostic_status_register == NORMAL_OPERATION) && (diagnostic_mode_7_enable_flag == 1)) {
    diagnostic_status_register = DIAGNOSTIC_MODE_7;
    diagnosticValueCalculator();
    if ((param_1._0_2_ != 7) && (param_1._0_2_ != 3)) {
      _governor_speed_setpoint = 0x8078a4;
      governor_mode_state = 0;
      governor_output_lower_limit = diag_mode_7_output_lower_limit;
      governor_output_upper_limit = diag_mode_7_output_upper_limit;
      _governor_interpolation_input_1 = 0x80789e;
    }
  }
  return;
}



//
// Function: diagnosticState7Setter @ 0x0000c0e6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticState7Setter(void)

{
  if (_derate_status_flag == 0) {
    diagnostic_target_rpm_setpoint = _calculated_derate_output;
    _derate_status_flag = 7;
  }
  return;
}



//
// Function: diagnosticTablePointerSetup @ 0x0000c100
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticTablePointerSetup(void)

{
  diagnostic_table_pointer_4 = 2;
  diagnostic_table_5_ptr = 0x8078b6;
  _diagnostic_table_pointer_3 = 0x8078c6;
  diagnostic_table_pointer_2 = 2;
  diagnostic_table_6_ptr = 0x8078d6;
  _diagnostic_table_pointer_1 = 0x8078e6;
  _derate_base_value = 0;
  return;
}



//
// Function: tpuTimerInitializer @ 0x0000c144
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void tpuTimerInitializer(void)

{
  _tpu_timer_channel_config = &serial_port_2_base_register;
  serial_port_1_isr_state = 6;
  toucan_mb0_timer = 0x2240;
  toucan_mb0_id_low._0_1_ = 0x80;
  toucan_mb0_control = 0x9955;
  toucan_mb1_timer = 0x2000;
  toucan_mb1_id_low._0_1_ = 0x88;
  toucan_mb1_control = 0x5559;
  toucan_mb2_timer = 0xa240;
  toucan_mb2_id_low._0_1_ = 0x80;
  toucan_mb2_control = 0x9955;
  toucan_mb3_timer = 0xa000;
  toucan_mb3_id_low._0_1_ = 0x88;
  toucan_mb3_control = 0x5559;
  toucan_mb4_timer = 0xe240;
  toucan_mb4_id_low._0_1_ = 0x80;
  toucan_mb4_control = 0x9955;
  toucan_mb5_timer = 0xe000;
  toucan_mb5_id_low._0_1_ = 0x88;
  toucan_mb5_control = 0x5559;
  serial_port_2_base_register._0_1_ = serial_port_2_base_register._0_1_ | 10;
  return;
}



//
// Function: emptyStubFunction1 @ 0x0000c1f0
//

void emptyStubFunction1(void)

{
  return;
}



//
// Function: modeBasedDataDispatcher @ 0x0000c1f2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void modeBasedDataDispatcher(undefined4 param_1)

{
  char cVar1;
  
  cVar1 = (char)((uint)param_1 >> 0x10);
  if (cVar1 == '\x01') {
    vp44TimingRangeValidation();
    vp44CanMessage100Parser(_tpu_timer_channel_config + 0x10);
    return;
  }
  if (cVar1 == '\x03') {
    vp44CanMessage200Parser(_tpu_timer_channel_config + 0x30);
    return;
  }
  if (cVar1 == '\x05') {
    vp44CanMessage200ResponseBuilder();
    vp44CanMessage300Parser(_tpu_timer_channel_config + 0x50);
  }
  return;
}



//
// Function: emptyStubFunction3 @ 0x0000c260
//

void emptyStubFunction3(void)

{
  return;
}



//
// Function: emptyStubFunction2 @ 0x0000c262
//

void emptyStubFunction2(void)

{
  return;
}



//
// Function: boostPressureControlInit @ 0x0000c264
//

void boostPressureControlInit(void)

{
  fuelLimitEngineStateCapture();
  writeHourMeterConversionData();
  return;
}



//
// Function: engineProtectionSystemInit @ 0x0000c272
//

void engineProtectionSystemInit(void)

{
  engine_protection_init();
  diagnosticParameterPointersInit();
  vp44ControlVariablesReset();
  fuelTempControlFlagChecker();
  fuelLimitRestoreFromCapture();
  calibrationDataValidatorInit();
  fuelArbitratorVariablesInit();
  derateTablePointerInit();
  boostPressureControlStateInit();
  statisticsTrackingFlagsReset();
  timerCaptureHardwareInit();
  oilPressureTablePointersInit();
  protectionLimitValueInit();
  initProtectionTablePointer();
  rpmParameterPointerSetup();
  interpolationTableSetup();
  vp44StateVariablesInit();
  vp44TimingValuesInit();
  sensorFaultBasedRpmSourceSelector();
  engineModeOutputControlInit();
  fuelDemandTablePointersInit();
  simTimerControlInit();
  vp44TimingStateInit();
  outputControlFlagsInit();
  vp44FaultProtectionSystemInit();
  governor_rpm_error_value = governor_rpm_error_init_value;
  fuelDemandControllerInit();
  ioControlRegistersInit();
  vp44ControlFlagsInit();
  dzgTimingStateVariablesInit();
  sensorHistoryTablePointerInit();
  vp44DiagnosticStateInit();
  initHourMeterConversionData();
  return;
}



//
// Function: initBoostProtectionSystem @ 0x0000c33e
//

void initBoostProtectionSystem(void)

{
  protection_system_enable_flag = 0;
  target_boost_pressure_base = 0;
  throttle_position_value = 0;
  throttle_position_filtered = 0;
  fuel_temp_protection_threshold_flag = 0;
  fuel_arbitrator_threshold_4 = oil_pressure_precrank_status;
  return;
}



//
// Function: periodicIoAndCanFaultMonitor @ 0x0000c368
//

void periodicIoAndCanFaultMonitor(void)

{
  io_can_fault_monitor_state = io_can_fault_monitor_state + 1;
  if (4 < io_can_fault_monitor_state) {
    io_can_fault_monitor_state = 0;
  }
  if (io_can_fault_monitor_state == 1) {
    if (((io_control_state_delay & 0x80) != 0) == ((can_pin_switching_control_flags & 0x20) != 0)) {
      if (((io_fault_status_reg_2 & 0x80) != 0) && ((io_fault_latch_reg_2 & 0x80) == 0)) {
        io_fault_status_reg_2 = io_fault_status_reg_2 & 0xff7f;
        can_pin_fault_persistence_counter = 0;
      }
    }
    else if (can_pin_fault_persistence_counter < fault_persistence_threshold) {
      can_pin_fault_persistence_counter = can_pin_fault_persistence_counter + 1;
    }
    else {
      io_fault_status_reg_2 = io_fault_status_reg_2 | 0x80;
      io_fault_latch_reg_2 = io_fault_latch_reg_2 | 0x80;
    }
    if (((vp44_io_can_fault_state & 0x80) != 0) == ((io_control_flags & 0x80) != 0)) {
      if (((io_fault_status_reg_2 & 0x40) != 0) && ((io_fault_latch_reg_2 & 0x40) == 0)) {
        io_fault_status_reg_2 = io_fault_status_reg_2 & 0xffbf;
        io_control_fault_persistence_counter_1 = 0;
      }
    }
    else if (io_control_fault_persistence_counter_1 < fault_persistence_threshold) {
      io_control_fault_persistence_counter_1 = io_control_fault_persistence_counter_1 + 1;
    }
    else {
      io_fault_status_reg_2 = io_fault_status_reg_2 | 0x40;
      io_fault_latch_reg_2 = io_fault_latch_reg_2 | 0x40;
    }
    if (((vp44_io_can_fault_state & 1) != 0) == ((io_control_flags & 1) != 0)) {
      if (((io_fault_status_reg_2 & 0x20) != 0) && ((io_fault_latch_reg_2 & 0x20) == 0)) {
        io_fault_status_reg_2 = io_fault_status_reg_2 & 0xffdf;
        io_control_fault_persistence_counter_2 = 0;
      }
    }
    else if (io_control_fault_persistence_counter_2 < fault_persistence_threshold) {
      io_control_fault_persistence_counter_2 = io_control_fault_persistence_counter_2 + 1;
    }
    else {
      io_fault_status_reg_2 = io_fault_status_reg_2 | 0x20;
      io_fault_latch_reg_2 = io_fault_latch_reg_2 | 0x20;
    }
    if (((vp44_io_can_fault_state & 2) != 0) == ((io_control_flags & 2) != 0)) {
      if (((engine_fault_register_a & 0x4000) != 0) && ((engine_fault_register_c & 0x4000) == 0)) {
        engine_fault_register_a = engine_fault_register_a & 0xbfff;
        can_fault_monitor_counter = 0;
      }
    }
    else if (can_fault_monitor_counter < fault_persistence_threshold) {
      can_fault_monitor_counter = can_fault_monitor_counter + 1;
    }
    else {
      engine_fault_register_a = engine_fault_register_a | 0x4000;
      engine_fault_register_c = engine_fault_register_c | 0x4000;
    }
    if (((vp44_io_can_fault_state & 4) != 0) == ((io_control_flags & 4) != 0)) {
      if ((engine_fault_register_a & 0x8000) != 0) {
        if ((engine_fault_register_c & 0x8000) == 0) {
          engine_fault_register_a = engine_fault_register_a & 0x7fff;
          io_control_fault_persistence_counter_4 = 0;
        }
      }
    }
    else if (io_control_fault_persistence_counter_4 < fault_persistence_threshold) {
      io_control_fault_persistence_counter_4 = io_control_fault_persistence_counter_4 + 1;
    }
    else {
      engine_fault_register_a = engine_fault_register_a | 0x8000;
      engine_fault_register_c = engine_fault_register_c | 0x8000;
    }
    if (((vp44_io_can_fault_state & 0x20) != 0) == ((io_control_flags & 0x20) != 0)) {
      if (((io_fault_status_reg_4 & 0x2000) != 0) && ((io_fault_latch_reg_4 & 0x2000) == 0)) {
        io_fault_status_reg_4 = io_fault_status_reg_4 & 0xdfff;
        io_control_fault_persistence_counter_5 = 0;
      }
    }
    else if (io_control_fault_persistence_counter_5 < fault_persistence_threshold) {
      io_control_fault_persistence_counter_5 = io_control_fault_persistence_counter_5 + 1;
    }
    else {
      io_fault_status_reg_4 = io_fault_status_reg_4 | 0x2000;
      io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x2000;
    }
    if (((vp44_io_can_fault_state & 0x10) != 0) == ((io_control_flags & 0x10) != 0)) {
      if (((io_fault_status_reg_2 & 0x100) != 0) && ((io_fault_latch_reg_2 & 0x100) == 0)) {
        io_fault_status_reg_2 = io_fault_status_reg_2 & 0xfeff;
        io_control_fault_persistence_counter_6 = 0;
      }
    }
    else if (io_control_fault_persistence_counter_6 < fault_persistence_threshold) {
      io_control_fault_persistence_counter_6 = io_control_fault_persistence_counter_6 + 1;
    }
    else {
      io_fault_status_reg_2 = io_fault_status_reg_2 | 0x100;
      io_fault_latch_reg_2 = io_fault_latch_reg_2 | 0x100;
    }
    if (((vp44_io_can_fault_state & 0x40) != 0) == ((io_control_flags & 0x40) != 0)) {
      if (((io_fault_status_reg_3 & 0x4000) != 0) && ((io_fault_latch_reg_3 & 0x4000) == 0)) {
        io_fault_status_reg_3 = io_fault_status_reg_3 & 0xbfff;
        accelerator_throttle_fault_counter = 0;
      }
    }
    else if (accelerator_throttle_fault_counter < fault_persistence_threshold) {
      accelerator_throttle_fault_counter = accelerator_throttle_fault_counter + 1;
    }
    else {
      io_fault_status_reg_3 = io_fault_status_reg_3 | 0x4000;
      io_fault_latch_reg_3 = io_fault_latch_reg_3 | 0x4000;
    }
    if (((vp44_io_can_fault_state & 8) != 0) != ((io_control_flags & 8) != 0)) {
      if (io_control_fault_persistence_counter_7 < fault_persistence_threshold) {
        io_control_fault_persistence_counter_7 = io_control_fault_persistence_counter_7 + 1;
        return;
      }
      io_fault_status_reg_3 = io_fault_status_reg_3 | 0x800;
      io_fault_latch_reg_3 = io_fault_latch_reg_3 | 0x800;
      return;
    }
    if (((io_fault_status_reg_3 & 0x800) != 0) && ((io_fault_latch_reg_3 & 0x800) == 0)) {
      io_fault_status_reg_3 = io_fault_status_reg_3 & 0xf7ff;
      io_control_fault_persistence_counter_7 = 0;
    }
  }
  return;
}



//
// Function: acceleratorThrottleFaultDetector @ 0x0000c8c2
//

uint acceleratorThrottleFaultDetector(void)

{
  undefined2 uVar1;
  uint in_D0;
  uint uVar2;
  
  if (engine_operating_mode == HIGH_RPM_RUNNING) {
    if (((fault_status_flags_2 & 0x400) == 0) || ((accelerator_pedal_position & 0x400) == 0)) {
      in_D0 = 0;
    }
    else {
      in_D0 = 1;
    }
    if (in_D0 == 0) {
      if (((fault_status_flags_2 & 0x200) == 0) || ((accelerator_pedal_position & 0x200) == 0)) {
        in_D0 = 0;
      }
      else {
        in_D0 = 1;
      }
      if ((in_D0 == 0) &&
         (in_D0 = (uint)BSTATBZA + (uint)governor_rpm_error_value, current_engine_rpm_raw <= in_D0))
      {
        uVar1 = (undefined2)(in_D0 >> 0x10);
        in_D0 = CONCAT22(uVar1,asthrfes_calc_input);
        if (asthrfes_calc_input <= accel_throttle_fault_upper_threshold) {
          if (accel_throttle_fault_delay_counter < accel_throttle_fault_delay_threshold) {
            accel_throttle_fault_delay_counter = accel_throttle_fault_delay_counter + 1;
          }
          if (accel_throttle_fault_delay_counter == accel_throttle_fault_delay_threshold) {
            if (accel_throttle_diag_reading_threshold < diagnostic_sensor_reading) {
              if (accelerator_throttle_fault_state < accel_throttle_fault_count_threshold) {
                accelerator_throttle_fault_state = accelerator_throttle_fault_state + 1;
              }
            }
            else if (accelerator_throttle_fault_state != 0) {
              accelerator_throttle_fault_state = accelerator_throttle_fault_state - 1;
            }
          }
          if (accelerator_throttle_fault_state == accel_throttle_fault_count_threshold) {
            fault_status_flags_2 = fault_status_flags_2 | 0x2000;
            fault_status_flags_8_previous = fault_status_flags_8_previous | 0x2000;
          }
          if (accelerator_throttle_fault_state != 0) {
            return CONCAT22(uVar1,accelerator_throttle_fault_state);
          }
          if ((fault_status_flags_2 & 0x2000) == 0) {
            return CONCAT22(uVar1,fault_status_flags_2) & 0xffff2000;
          }
          uVar2 = CONCAT22(uVar1,fault_status_flags_8_previous) & 0xffff2000;
          if ((fault_status_flags_8_previous & 0x2000) != 0) {
            return uVar2;
          }
          fault_status_flags_2 = fault_status_flags_2 & 0xdfff;
          return uVar2;
        }
      }
    }
  }
  accelerator_throttle_fault_state = 0;
  accel_throttle_fault_delay_counter = 0;
  return in_D0;
}



//
// Function: insiteParameterTableIterator @ 0x0000c9f0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteParameterTableIterator(void)

{
  short sVar1;
  byte bVar2;
  byte bVar3;
  
  insite_parameter_table_ptr = (dword)&insite_parameter_table_start;
  insite_parameter_checksum_ptr = (dword)&insite_parameter_checksum_buffer;
  insite_response_continuation_ptr = can_transmit_buffer_ptr;
  _insite_response_buffer_ptr = can_transmit_buffer_ptr;
  insite_data_valid_flag = 0;
  insite_response_buffer_index = 0;
  insite_command_byte = insite_parameter_table_start;
  for (bVar2 = 0; (insite_command_byte != 0 && (bVar2 < 0x1e)); bVar2 = bVar2 + 1) {
    if (insite_parameter_table_current_byte == *(byte *)insite_parameter_checksum_ptr) {
      *(char *)insite_parameter_checksum_ptr =
           *(char *)(insite_parameter_table_ptr + 1) + *(char *)insite_parameter_checksum_ptr;
      bVar3 = '\x01' << (insite_command_byte & 7);
      sVar1 = (short)((int)(uint)insite_command_byte >> 3);
      if (((bVar3 & *(byte *)((int)&
                                   maximum_time_between_tailshaft_pulses_allowed_before_vehicle_0_04_40
                             + (int)sVar1)) != 0) && ((bVar3 & *(byte *)(sVar1 + 0x8055fe)) == 0)) {
        insiteParameterResponseBuilder();
      }
    }
    insite_parameter_table_ptr = insite_parameter_table_ptr + 3;
    insite_command_byte = *(byte *)insite_parameter_table_ptr;
    insite_parameter_checksum_ptr = insite_parameter_checksum_ptr + 1;
  }
  responseBufferFinalize();
  return;
}



//
// Function: diagnosticMessageTransmissionManager @ 0x0000caa8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint diagnosticMessageTransmissionManager(void)

{
  byte bVar1;
  byte bVar2;
  undefined2 uVar3;
  undefined2 extraout_D0u;
  undefined4 in_D0;
  uint uVar4;
  
  uVar3 = (undefined2)((uint)in_D0 >> 0x10);
  if (((_diagnostic_service_enable_flags & 4) != 0) && ((diagnostic_command_state & 2) != 0)) {
    diagnosticMessage45Builder();
    bVar1 = diagnostic_message_alternation_counter + 1;
    bVar2 = diagnostic_message_alternation_counter & 1;
    uVar3 = 0;
    diagnostic_message_alternation_counter = bVar1;
    if (bVar2 == 0) {
      diagnosticMessage53Builder();
      uVar3 = extraout_D0u;
    }
  }
  uVar4 = CONCAT22(uVar3,_diagnostic_service_enable_flags) & 0xffff0002;
  if ((_diagnostic_service_enable_flags & 2) != 0) {
    main_loop_iteration_counter = main_loop_iteration_counter + 1;
    uVar4 = main_loop_iteration_counter & 1;
    if (((main_loop_iteration_counter & 1) == 0) &&
       (uVar4 = diagnostic_command_state & 1, (diagnostic_command_state & 1) != 0)) {
      uVar4 = insiteParameterTableIterator();
      insite_parameter_table_current_byte = insite_parameter_table_current_byte + 1;
    }
  }
  return uVar4;
}



//
// Function: insiteParameterResponseBuilder @ 0x0000cb1e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteParameterResponseBuilder(void)

{
  undefined2 uVar1;
  
  if (insite_response_buffer_index == 0) {
    _insite_response_buffer_ptr =
         (undefined1 *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = 0x80;
    _insite_response_buffer_ptr =
         (undefined1 *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    insite_response_buffer_index = 1;
    responseBufferSpaceCheck();
    if (insite_bytes_remaining == 0) {
      io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
      io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
      return;
    }
  }
  uVar1 = parameterLookupForInsite();
  insite_response_buffer_length = (byte)uVar1;
  if (insite_response_buffer_length == 0) {
    return;
  }
  if (insite_response_buffer_length <= insite_bytes_remaining) {
    insiteCommandByteDispatcher();
    return;
  }
  if (1 < insite_response_buffer_index) {
    responseBufferFinalize();
    insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
    responseBufferSpaceCheck();
    if (insite_bytes_remaining < 4) {
      insite_bytes_remaining = 0;
      insite_response_buffer_index = 0;
      io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
      io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
      return;
    }
    _insite_response_buffer_ptr =
         (undefined1 *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = 0x80;
    _insite_response_buffer_ptr =
         (undefined1 *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    insite_response_buffer_index = 1;
  }
  if ((insite_response_buffer_length < 0x14) &&
     (insite_bytes_remaining < insite_response_buffer_length)) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
    return;
  }
  insiteCommandByteDispatcher();
  return;
}



//
// Function: diagnosticCodeTableSearch @ 0x0000cc34
//

uint diagnosticCodeTableSearch(undefined4 param_1)

{
  uint in_D0;
  byte bVar1;
  
  bVar1 = 1;
  while( true ) {
    if (diagnostic_pending_code_count < bVar1) {
      return in_D0 & 0xffffff00;
    }
    in_D0 = 0;
    if ((byte)((uint)param_1 >> 0x10) == (&diagnostic_pending_code_count)[(short)(ushort)bVar1])
    break;
    bVar1 = bVar1 + 1;
  }
  return 1;
}



//
// Function: insiteCommandByteDispatcher @ 0x0000cc64
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteCommandByteDispatcher(void)

{
  dword dVar1;
  uint uVar2;
  undefined2 uVar3;
  undefined2 uVar4;
  undefined4 unaff_D2;
  byte bVar5;
  char cVar6;
  undefined2 uVar7;
  undefined4 local_a;
  undefined2 local_6;
  
  dVar1 = insite_command_base_value;
  uVar7 = (undefined2)((uint)unaff_D2 >> 0x10);
  if (insite_command_byte < 0x80) {
    if (insite_command_byte < 0x59) {
      if (insite_command_byte < 0x54) {
        if (insite_command_byte == 2) {
          bVar5 = 0;
          uVar2 = diagnosticCodeTableSearch((uint)CONCAT12(insite_dtc_search_code_9,uVar7));
          if ((char)uVar2 == '\0') {
            uVar2 = diagnosticCodeTableSearch
                              (CONCAT22((short)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_8)
                                        ,uVar7));
            if ((char)uVar2 == '\0') {
              uVar2 = diagnosticCodeTableSearch
                                (CONCAT22((short)CONCAT31((int3)(uVar2 >> 8),
                                                          insite_dtc_search_code_7),uVar7));
              if ((char)uVar2 != '\0') {
                bVar5 = 0x20;
              }
            }
            else {
              bVar5 = 0x20;
            }
          }
          else {
            bVar5 = 0x20;
          }
          uVar3 = (undefined2)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_1);
          uVar2 = diagnosticCodeTableSearch(CONCAT22(uVar3,uVar7));
          if ((char)uVar2 != '\0') {
            bVar5 = bVar5 | 0x10;
          }
          uVar4 = (undefined2)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_3);
          uVar2 = diagnosticCodeTableSearch(CONCAT22(uVar4,uVar3));
          if ((char)uVar2 != '\0') {
            bVar5 = bVar5 | 8;
          }
          uVar3 = (undefined2)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_4);
          uVar2 = diagnosticCodeTableSearch(CONCAT22(uVar3,uVar4));
          if ((char)uVar2 != '\0') {
            bVar5 = bVar5 | 4;
          }
          uVar2 = diagnosticCodeTableSearch
                            (CONCAT22((short)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_5),
                                      uVar3));
          if ((char)uVar2 == '\0') {
            uVar2 = diagnosticCodeTableSearch
                              (CONCAT22((short)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_6)
                                        ,uVar7));
            if ((char)uVar2 != '\0') {
              bVar5 = bVar5 | 2;
            }
          }
          else {
            bVar5 = bVar5 | 2;
          }
          uVar2 = diagnosticCodeTableSearch
                            (CONCAT22((short)CONCAT31((int3)(uVar2 >> 8),insite_dtc_search_code_2),
                                      uVar7));
          if ((char)uVar2 != '\0') {
            bVar5 = bVar5 | 1;
          }
        }
        else if (insite_command_byte == 3) {
          bVar5 = (derate_status_byte & 0x80) != 0;
          if ((derate_status_byte & 0x40) != 0) {
            bVar5 = bVar5 | 2;
          }
          if ((derate_status_byte & 0x20) != 0) {
            bVar5 = bVar5 | 4;
          }
        }
        else if (insite_command_byte == 0x47) {
          bVar5 = 0;
          if ((high_rpm_protection_timer != 0) &&
             (high_rpm_protection_timer < high_rpm_protection_initial_timer)) {
            bVar5 = 0x80;
          }
          if ((diagnostic_system_flags_1 & 2) != 0) {
            bVar5 = bVar5 | 8;
          }
          if ((high_rpm_protection_fault_flag != 0) && ((diagnostic_system_flags_1 & 4) != 0)) {
            bVar5 = bVar5 | 4;
          }
          if ((high_rpm_shutdown_active_flag != 0) && (high_rpm_protection_timer == 0)) {
            bVar5 = bVar5 | 2;
          }
          if (high_rpm_protection_warning_flag != 0) {
            bVar5 = bVar5 | 1;
          }
        }
        else if (insite_command_byte == 0x4a) {
          bVar5 = (byte)((int)(uint)boost_pressure_target_pointer >> 7);
        }
        else {
          if (insite_command_byte != 0x53) {
            return;
          }
          if (diagnostic_fuel_control_mode == 10) {
            bVar5 = 0x80;
          }
          else {
            bVar5 = 0;
          }
        }
        *_insite_response_buffer_ptr = insite_command_byte;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        *_insite_response_buffer_ptr = bVar5;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
      else {
        switch(insite_command_byte) {
        case 0x54:
          bVar5 = (byte)((int)(uint)throttle_position_value >> 7);
          break;
        case 0x55:
          bVar5 = 0;
          if (protection_system_enable_flag != 0) {
            bVar5 = 0x80;
          }
          if ((derate_status_byte & 4) != 0) {
            bVar5 = bVar5 | 0x40;
          }
          if ((derate_status_byte & 8) != 0) {
            bVar5 = bVar5 | 0x20;
          }
          if ((sensor_status_register & 2) != 0) {
            bVar5 = bVar5 | 0x10;
          }
          if ((sensor_status_register & 1) != 0) {
            bVar5 = bVar5 | 8;
          }
          if ((sensor_status_register & 8) != 0) {
            bVar5 = bVar5 | 4;
          }
          if ((sensor_status_register & 4) != 0) {
            bVar5 = bVar5 | 2;
          }
          if ((sensor_status_register & 0x10) != 0) {
            bVar5 = bVar5 | 1;
          }
          break;
        case 0x56:
          bVar5 = (byte)((int)(uint)target_boost_pressure_base >> 7);
          break;
        case 0x57:
          bVar5 = (byte)((int)(uint)fuel_timing_transition_limit >> 7);
          break;
        case 0x58:
          bVar5 = (byte)((int)(uint)insite_fuel_timing_display >> 7);
          break;
        default:
          goto switchD_0000ce84_default;
        }
        *_insite_response_buffer_ptr = insite_command_byte;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        *_insite_response_buffer_ptr = bVar5;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
    }
    else if (insite_command_byte < 0x69) {
      if (insite_command_byte == 0x59) {
        local_6._1_1_ = 0;
        if (oil_pressure_protection_enabled != 0) {
          local_6._1_1_ = 0x80;
        }
        if ((derate_status_byte & 4) != 0) {
          local_6._1_1_ = (byte)local_6 | 0x40;
        }
        if ((derate_status_byte & 8) != 0) {
          local_6._1_1_ = (byte)local_6 | 0x20;
        }
        if ((sensor_status_register & 2) != 0) {
          local_6._1_1_ = (byte)local_6 | 0x10;
        }
        if ((sensor_status_register & 1) != 0) {
          local_6._1_1_ = (byte)local_6 | 8;
        }
        if ((sensor_status_register & 8) != 0) {
          local_6._1_1_ = (byte)local_6 | 4;
        }
        if ((sensor_status_register & 4) != 0) {
          local_6._1_1_ = (byte)local_6 | 2;
        }
        if ((sensor_status_register & 0x10) != 0) {
          local_6._1_1_ = (byte)local_6 | 1;
        }
      }
      else if (insite_command_byte == 0x5b) {
        local_6._1_1_ = (byte)(((uint)active_derate_value * 0xfa) / 400);
      }
      else if (insite_command_byte == 0x5c) {
        local_6._1_1_ = (byte)((int)(uint)asthrfes_calc_input >> 7);
      }
      else if (insite_command_byte == 100) {
        local_6._1_1_ = (byte)((int)(uint)insite_parameter_display_value >> 6);
      }
      else {
        if (insite_command_byte != 0x66) {
          return;
        }
        if ((ushort)((int)(uint)diagnostic_sensor_reading >> 4) < 0xff) {
          local_6._1_1_ = (byte)((int)(uint)diagnostic_sensor_reading >> 4);
        }
        else {
          local_6._1_1_ = 0xff;
        }
      }
      *_insite_response_buffer_ptr = insite_command_byte;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = (byte)local_6;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    }
    else {
      if (insite_command_byte == 0x69) {
        if (intake_manifold_temp_raw < 0x1900) {
          cVar6 = '\0';
        }
        else {
          cVar6 = (char)((int)(intake_manifold_temp_raw - 0x1900) >> 7);
        }
      }
      else if (insite_command_byte == 0x6c) {
        cVar6 = (char)((int)(uint)insite_diagnostic_reading >> 3);
      }
      else if (insite_command_byte == 0x6e) {
        if (throttle_position_raw < 0x1900) {
          cVar6 = '\0';
        }
        else {
          cVar6 = (char)((int)(throttle_position_raw - 0x1900) >> 7);
        }
      }
      else {
        if (insite_command_byte != 0x79) {
          return;
        }
        if (retarder_mode_threshold_value_37d4 == 0) {
          cVar6 = '\0';
        }
        else {
          cVar6 = (io_control_flags & 1) != 0;
          if ((output_control_status_byte & 1) != 0) {
            cVar6 = cVar6 + '\x02';
          }
          if (retarder_mode_threshold_value_37d4 == 1) {
            switch(cVar6) {
            case '\0':
              cVar6 = '\0';
              break;
            case '\x01':
              cVar6 = -0x7f;
              break;
            case '\x02':
              cVar6 = -0x7c;
              break;
            case '\x03':
              cVar6 = -0x78;
            }
          }
          else {
            switch(cVar6) {
            case '\0':
              cVar6 = '\0';
              break;
            case '\x01':
            case '\x02':
              cVar6 = -0x7e;
              break;
            case '\x03':
              cVar6 = -0x78;
            }
          }
        }
      }
      *_insite_response_buffer_ptr = insite_command_byte;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = cVar6;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    }
  }
  else if (insite_command_byte < 0xc1) {
    if (insite_command_byte < 0xb9) {
      if ((insite_command_byte != 0x9c) && (insite_command_byte != 0x9d)) {
        if (insite_command_byte == 0xa6) {
          local_6 = CONCAT11(insite_ecu_command_selector_high,insite_ecu_command_selector_low);
        }
        else if (insite_command_byte == 0xa8) {
          local_6 = (short)((int)(uint)retarder_input_value >> 1) + retarder_input_value * 2;
        }
        else if (insite_command_byte != 0xaf) {
          if (insite_command_byte == 0xb6) {
            local_6 = (word)clutch_operating_stats_output;
          }
          else if (insite_command_byte == 0xb7) {
            local_6 = fuel_statistics_command_value;
          }
          else {
            if (insite_command_byte != 0xb8) {
              return;
            }
            local_6 = fuel_economy_statistics_output;
          }
        }
      }
      *_insite_response_buffer_ptr = insite_command_byte;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = (byte)local_6;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = local_6._0_1_;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    }
    else {
      switch(insite_command_byte) {
      case 0xb9:
        local_6 = clutch_transitions_per_distance;
        break;
      default:
        goto switchD_0000ce84_default;
      case 0xbb:
        local_6 = (word)((int)(uint)pointer_to_oil_pressure_rpm_limit_threshold_0_2_32 >> 1);
        break;
      case 0xbc:
        local_6 = (word)((int)(uint)governor_rpm_error_value >> 1);
        break;
      case 0xbd:
        local_6 = (word)((int)(uint)
                              _user_inversion_bit_mask_for_the_ac_high_pressure_swit_invert_no_invert
                        >> 1);
        break;
      case 0xbe:
        local_6 = (word)((int)(uint)current_engine_rpm_raw >> 1);
      }
      *_insite_response_buffer_ptr = insite_command_byte;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = (byte)local_6;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = local_6._0_1_;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    }
  }
  else if (insite_command_byte < 0xf4) {
    if (insite_command_byte == 0xc1) {
      insiteActiveFaultListBuilder();
      return;
    }
    if (insite_command_byte == 0xc2) {
      insiteFaultDetailBuilder();
      return;
    }
    if (insite_command_byte == 0xc4) {
      *_insite_response_buffer_ptr = 0xc4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      if (((insite_live_data_parameter_index & 0xc0) == 0x80) ||
         ((insite_live_data_parameter_index & 0xc0) == 0x40)) {
        *_insite_response_buffer_ptr = 2;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
      else if ((insite_live_data_parameter_index & 0xc0) == 0) {
        if (insite_parameter_lookup_state == 0) {
          *_insite_response_buffer_ptr = 0;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          goto LAB_0000d55a;
        }
        *_insite_response_buffer_ptr = 5;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
      *_insite_response_buffer_ptr = insite_dtc_pid_byte;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      *_insite_response_buffer_ptr = insite_live_data_parameter_index;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      if (((insite_live_data_parameter_index & 0xc0) == 0) && (insite_parameter_lookup_state != 0))
      {
        bVar5 = 1;
        do {
          *_insite_response_buffer_ptr = (char)(insite_parameter_lookup_state / 100) + 0x30;
          insite_parameter_lookup_state = (insite_parameter_lookup_state % 100) * 10;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          bVar5 = bVar5 + 1;
        } while (bVar5 < 4);
      }
    }
    else {
      if (insite_command_byte == 0xea) {
        insiteEcuIdResponseBuilder();
        return;
      }
      if (insite_command_byte == 0xeb) {
        uVar2 = insite_runtime_hours_accumulator / 0x708;
        *_insite_response_buffer_ptr = 0xeb;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        *_insite_response_buffer_ptr = 4;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._3_1_ = (undefined1)uVar2;
        *_insite_response_buffer_ptr = (undefined1)local_a;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._2_1_ = (undefined1)(uVar2 >> 8);
        *_insite_response_buffer_ptr = local_a._2_1_;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._1_1_ = (undefined1)(uVar2 >> 0x10);
        *_insite_response_buffer_ptr = local_a._1_1_;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        *_insite_response_buffer_ptr = 0;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
      else {
        if (insite_command_byte != 0xec) {
          if (insite_command_byte == 0xed) {
            insiteCapacityResponseBuilder();
            return;
          }
          if (insite_command_byte != 0xf3) {
            return;
          }
          insiteVersionInfoBuilder();
          return;
        }
        *_insite_response_buffer_ptr = 0xec;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        *_insite_response_buffer_ptr = 4;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._3_1_ = (undefined1)dVar1;
        *_insite_response_buffer_ptr = (undefined1)local_a;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._2_1_ = (undefined1)(dVar1 >> 8);
        *_insite_response_buffer_ptr = local_a._2_1_;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._1_1_ = (undefined1)(dVar1 >> 0x10);
        *_insite_response_buffer_ptr = local_a._1_1_;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        local_a._0_1_ = (undefined1)(dVar1 >> 0x18);
        *_insite_response_buffer_ptr = local_a._0_1_;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
    }
  }
  else {
    switch(insite_command_byte) {
    case 0xf4:
      local_a = proportionalCalculation(vehicle_distance_clutch_value,10,0x40);
      break;
    case 0xf5:
      local_a = proportionalCalculation(vehicle_distance_statistics_value,10,0x40);
      break;
    default:
      goto switchD_0000ce84_default;
    case 0xf7:
      local_a = vehicle_hours_statistics_value / 0x708;
      break;
    case 0xf8:
      local_a = insite_idle_hours_accumulator / 0x708;
      break;
    case 0xfa:
      local_a = insite_fuel_statistics_output;
    }
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = 4;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = (undefined1)local_a;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = local_a._2_1_;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = local_a._1_1_;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = local_a._0_1_;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  }
LAB_0000d55a:
  insite_response_buffer_index = insite_response_buffer_length + insite_response_buffer_index;
  insite_bytes_remaining = insite_bytes_remaining - insite_response_buffer_length;
switchD_0000ce84_default:
  return;
}



//
// Function: paramSystemModeController @ 0x0000d57c
//

void paramSystemModeController(void)

{
  uint uVar1;
  undefined4 unaff_D2;
  undefined2 uVar2;
  
  uVar2 = (undefined2)((uint)unaff_D2 >> 0x10);
  if ((diagnostic_fuel_control_mode == 2) || (diagnostic_fuel_control_mode == 1)) {
    param_system_mode_state = activeParamReadFunction();
  }
  else if ((diagnostic_fuel_control_mode == 0xb) || (diagnostic_fuel_control_mode == 0xc)) {
    if (diagnostic_status_register == DEFAULT_DIAGNOSTIC) {
      param_system_mode_state = cached_parameter_value;
    }
    else {
      param_system_mode_state = activeParamReadFunction();
    }
  }
  else {
    param_system_mode_state = diagnostic_rpm_threshold_status;
  }
  if ((short)(param_scale_factor - param_ref_base) < 1) {
    param_table_aux = 0;
    return;
  }
  if ((short)(param_system_mode_state - param_ref_base) < 1) {
    param_table_aux = 0;
    return;
  }
  uVar1 = param_address_calc((short)(param_system_mode_state - param_ref_base) * 0x6400,
                             CONCAT22(param_scale_factor - param_ref_base,uVar2));
  param_table_aux = (word)uVar1;
  if (32000 < param_table_aux) {
    param_table_aux = 32000;
  }
  return;
}



//
// Function: param_lookup_1 @ 0x0000d632
//

void param_lookup_1(void)

{
  uint uVar1;
  undefined4 unaff_D2;
  
  if ((short)(param_scale_factor - param_ref_base) < 1) {
    param_table_main = 0;
    return;
  }
  if ((short)(current_fuel_demand_value - param_ref_base) < 1) {
    param_table_main = 0;
    return;
  }
  uVar1 = param_address_calc((short)(current_fuel_demand_value - param_ref_base) * 0x6400,
                             CONCAT22(param_scale_factor - param_ref_base,
                                      (short)((uint)unaff_D2 >> 0x10)));
  param_table_main = (word)uVar1;
  if (32000 < param_table_main) {
    param_table_main = 32000;
  }
  return;
}



//
// Function: param_lookup_2 @ 0x0000d69c
//

void param_lookup_2(void)

{
  short sVar1;
  uint uVar2;
  undefined4 unaff_D2;
  uint uVar3;
  undefined8 uVar4;
  undefined2 uVar5;
  
  uVar5 = (undefined2)((uint)unaff_D2 >> 0x10);
  uVar3 = (uint)current_fuel_demand_value;
  uVar2 = (uint)param_ref_base;
  if ((int)(uVar3 - uVar2) < 1) {
    param_table_ctrl = 0;
    return;
  }
  param_lookup_rpm_input = current_engine_rpm;
  uVar4 = tableInterpolationLookup((short *)&diagnostic_param_lookup_value);
  sVar1 = (short)((ulonglong)uVar4 >> 0x20) - param_ref_base;
  if (sVar1 < 1) {
    param_table_ctrl = 0;
    return;
  }
  uVar2 = param_address_calc((uVar3 - uVar2) * 0x6400,CONCAT22(sVar1,uVar5));
  param_table_ctrl = (word)uVar2;
  if (32000 < param_table_ctrl) {
    param_table_ctrl = 32000;
  }
  return;
}



//
// Function: diagnosticDataBufferSetup @ 0x0000d71a
//

void diagnosticDataBufferSetup(void)

{
  param_lookup_rpm_input = current_engine_rpm;
  diagnostic_param_lookup_value = 2;
  diagnostic_data_table_1_ptr = 0x807f42;
  diagnostic_data_table_limit = 400;
  diagnostic_data_table_1_base = 2;
  diagnostic_data_table_2_ptr = 0x807f68;
  diagnostic_data_intake_temp_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  return;
}



//
// Function: param_lookup_3 @ 0x0000d756
//

void param_lookup_3(void)

{
  uint uVar1;
  undefined4 unaff_D2;
  
  if ((int)((uint)fsmxthfl_calc_input - (uint)param_ref_base) < 1) {
    param_table_ext = 0;
    return;
  }
  if ((short)(param_scale_factor - param_ref_base) < 1) {
    param_table_ext = 0;
    return;
  }
  uVar1 = param_address_calc(((uint)fsmxthfl_calc_input - (uint)param_ref_base) * 0x6400,
                             CONCAT22(param_scale_factor - param_ref_base,
                                      (short)((uint)unaff_D2 >> 0x10)));
  param_table_ext = (word)uVar1;
  if (32000 < param_table_ext) {
    param_table_ext = 32000;
  }
  return;
}



//
// Function: fuelTableBlendInterpolation @ 0x0000d7c0
//

short fuelTableBlendInterpolation(undefined4 param_1)

{
  ushort unaff_D2w;
  ushort unaff_D3w;
  undefined8 uVar1;
  
  if (fuel_timing_mode_selector != 0) {
    fuel_blend_lookup_input = param_1._0_2_;
    uVar1 = tableInterpolationLookup((short *)&fuel_blend_table_1_base);
    unaff_D2w = (ushort)((ulonglong)uVar1 >> 0x20);
  }
  if (fuel_timing_mode_selector < 0x4000) {
    fuel_blend_lookup_input_2 = param_1._0_2_;
    uVar1 = tableInterpolationLookup((short *)&fuel_blend_table_3_base);
    unaff_D3w = (ushort)((ulonglong)uVar1 >> 0x20);
  }
  if (fuel_timing_mode_selector == 0x4000) {
    return fuel_timing_base_offset + unaff_D2w;
  }
  if (fuel_timing_mode_selector == 0) {
    return fuel_timing_base_offset + unaff_D3w;
  }
  return fuel_timing_base_offset +
         (short)((uint)fuel_timing_mode_selector * (uint)unaff_D2w >> 0xe) +
         (short)((uint)unaff_D3w * (0x4000 - (uint)fuel_timing_mode_selector) >> 0xe);
}



//
// Function: fuelParameterBlendCalculator @ 0x0000d85e
//

void fuelParameterBlendCalculator(void)

{
  undefined4 unaff_A2;
  word wVar1;
  word wVar2;
  
  wVar2 = governor_rpm_error_value;
  fuel_mode_blend_state =
       fuelTableBlendInterpolation
                 (CONCAT22(governor_rpm_error_value,(short)((uint)unaff_A2 >> 0x10)));
  wVar1 = fuel_offset_blend_value;
  fuel_mode_blend_result = fuelTableBlendInterpolation(CONCAT22(fuel_offset_blend_value,wVar2));
  wVar2 = fuel_table_blend_param_1;
  fuel_parameter_blend_value = fuelTableBlendInterpolation(CONCAT22(fuel_table_blend_param_1,wVar1))
  ;
  wVar1 = fuel_table_blend_param_2;
  fuel_parameter_blend_state = fuelTableBlendInterpolation(CONCAT22(fuel_table_blend_param_2,wVar2))
  ;
  fuel_mode_selection_state =
       fuelTableBlendInterpolation(CONCAT22(fuel_mode_selection_offset,wVar1));
  return;
}



//
// Function: param_interpolate @ 0x0000d8b4
//

ushort param_interpolate(undefined4 param_1)

{
  ushort uVar1;
  
  if ((short)(param_1._0_2_ - param_ref_base) < 1) {
    uVar1 = 0;
  }
  else if ((short)(param_scale_factor - param_ref_base) < 1) {
    uVar1 = 0;
  }
  else {
    uVar1 = (ushort)((uint)((short)(param_1._0_2_ - param_ref_base) * 0x6400) /
                    (uint)(int)(short)(param_scale_factor - param_ref_base));
    if (32000 < uVar1) {
      uVar1 = 32000;
    }
  }
  return uVar1;
}



//
// Function: fuelOffsetCalculator @ 0x0000d90a
//

void fuelOffsetCalculator(uint param_1,undefined4 param_2)

{
  if ((fuel_limit_comparison_low != 0) && (fuel_limit_comparison_high != 0)) {
    fuel_offset_blend_value =
         arbitrated_fuel_limit +
         ((short)(((uint)fuel_limit_comparison_high *
                  ((uint)fuel_limit_comparison_low - (param_1 & 0xffff))) / 0x1111) -
         fuel_limit_offset_value);
    if (param_2._1_1_ == '\x01') {
      fuel_mode_selection_offset = fuel_offset_blend_value;
      return;
    }
    fuel_mode_selection_offset = fuel_mode_base_offset;
    return;
  }
  fuel_offset_blend_value = arbitrated_fuel_limit;
  fuel_mode_selection_offset = param_1._0_2_;
  return;
}



//
// Function: fuelModeSelectionCalculator @ 0x0000d984
//

void fuelModeSelectionCalculator(void)

{
  undefined4 unaff_D2;
  char cVar1;
  word wVar2;
  word wVar3;
  ushort uVar4;
  
  uVar4 = (ushort)((uint)unaff_D2 >> 0x10);
  if ((((arbitrator_active_limit_priority == 2) || (arbitrator_active_limit_priority == 4)) ||
      (arbitrator_active_limit_priority == 5)) || (arbitrator_active_limit_priority == 1)) {
    cVar1 = '\x02';
  }
  else {
    cVar1 = '\0';
  }
  if (((shutdown_minimum_selector_value == 0x12) ||
      (shutdown_minimum_selector_value == SHUTDOWN_PROTECTION_LIMIT)) ||
     ((shutdown_minimum_selector_value == DIAGNOSTIC_MODE_BUFFER &&
      ((((fault_status_flags_2 & 0x200) != 0 && ((accelerator_pedal_position & 0x200) != 0)) ||
       (((fault_status_flags_2 & 0x400) != 0 && ((accelerator_pedal_position & 0x400) != 0)))))))) {
    cVar1 = cVar1 + '\x04';
    fuel_mode_blend_state = fuel_mode_blend_table_1;
    fuel_parameter_blend_value = fuel_mode_blend_table_2;
    fuel_parameter_blend_state = fuel_mode_state_table_1;
  }
  if (fuel_timing_mode_selector == 0x4000) {
    cVar1 = cVar1 + '\x01';
  }
  switch(cVar1) {
  case '\0':
  case '\x01':
    fuel_offset_blend_value = fuel_limit_offset_value;
    fuel_mode_selection_offset = fuel_mode_base_offset;
    fuelParameterBlendCalculator();
    break;
  case '\x02':
  case '\x03':
    fuel_offset_blend_value = arbitrated_fuel_limit;
    if (fuel_mode_base_offset < arbitrated_fuel_limit) {
      fuel_mode_selection_offset = fuel_mode_base_offset;
    }
    else {
      fuel_mode_selection_offset = arbitrated_fuel_limit;
    }
    fuelParameterBlendCalculator();
    break;
  case '\x04':
    fuel_offset_blend_value = fuel_mode_override_table_1;
    fuel_mode_selection_offset = fuel_mode_base_offset;
    fuel_mode_blend_result = fuel_mode_override_table_2;
    fuel_mode_selection_state = fuel_mode_state_table_2;
    break;
  case '\x05':
    fuel_offset_blend_value = fuel_mode_timing_override_1;
    fuel_mode_selection_offset = fuel_mode_base_offset;
    fuel_mode_blend_result = fuel_mode_timing_override_2;
    fuel_mode_selection_state = fuel_mode_state_table_2;
    break;
  case '\x06':
    if (arbitrated_fuel_limit < fuel_mode_arbitrated_threshold_1) {
      fuelOffsetCalculator
                (CONCAT22(arbitrated_fuel_limit,fuel_mode_state_table_1),CONCAT22(1,uVar4));
      fuel_mode_blend_result = fuel_mode_state_table_1;
      fuel_mode_selection_state = fuel_mode_state_table_1;
    }
    else {
      fuelOffsetCalculator(CONCAT22(fuel_mode_base_offset,fuel_mode_state_table_2),(uint)uVar4);
      fuel_mode_blend_result = fuel_mode_state_table_2;
      fuel_mode_selection_state = fuel_mode_state_table_2;
    }
    break;
  case '\a':
    if (arbitrated_fuel_limit < fuel_mode_arbitrated_threshold_2) {
      fuelOffsetCalculator
                (CONCAT22(arbitrated_fuel_limit,fuel_mode_state_table_1),CONCAT22(1,uVar4));
      fuel_mode_blend_result = fuel_mode_state_table_1;
      fuel_mode_selection_state = fuel_mode_state_table_1;
    }
    else {
      fuelOffsetCalculator(CONCAT22(fuel_mode_base_offset,fuel_mode_state_table_2),(uint)uVar4);
      fuel_mode_blend_result = fuel_mode_state_table_2;
      fuel_mode_selection_state = fuel_mode_state_table_2;
    }
  }
  wVar3 = fuel_mode_blend_state;
  param_table_calc = param_interpolate(CONCAT22(fuel_mode_blend_state,uVar4));
  wVar2 = fuel_mode_blend_result;
  calculated_2 = param_interpolate(CONCAT22(fuel_mode_blend_result,wVar3));
  wVar3 = fuel_parameter_blend_value;
  calculated_3 = param_interpolate(CONCAT22(fuel_parameter_blend_value,wVar2));
  wVar2 = fuel_parameter_blend_state;
  calculated_4 = param_interpolate(CONCAT22(fuel_parameter_blend_state,wVar3));
  result_buffer = param_interpolate(CONCAT22(fuel_mode_selection_state,wVar2));
  return;
}



//
// Function: fuelBlendTablePointerSetup @ 0x0000dbc2
//

void fuelBlendTablePointerSetup(void)

{
  fuel_blend_table_1_base = 2;
  fuel_blend_table_1_ptr = 0x807f42;
  fuel_blend_table_1_limit = 400;
  fuel_blend_table_2_base = 2;
  fuel_blend_table_2_ptr = 0x807f68;
  fuel_blend_intake_temp_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  fuel_blend_table_3_base = 2;
  fuel_blend_table_3_ptr = 0x808002;
  fuel_blend_table_3_limit = 400;
  fuel_blend_table_4_base = 2;
  fuel_blend_table_4_ptr = 0x808028;
  fuel_blend_table_5_ptr = 0x808032;
  return;
}



//
// Function: ioControlBasedFuelCalculator @ 0x0000dc28
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ioControlBasedFuelCalculator(void)

{
  short sVar1;
  short sVar2;
  ushort uVar3;
  
  if ((io_control_flags & 1) == 0) {
    sVar1 = 2;
  }
  else {
    sVar1 = 0;
  }
  if ((output_control_status_byte & 1) == 0) {
    uVar3 = sVar1 + 2;
  }
  else {
    uVar3 = sVar1 + 1;
  }
  if (uVar3 < 2) {
    retarder_scaled_percentage_output = 0;
    return;
  }
  if (retarder_mode_threshold_value_37d4 == 2) {
    retarder_mode_lookup_table_pointer = 0x80797a;
    retarder_lookup_table_pointer = 0x80797a;
    _io_control_fuel_calculator_ptr = (word *)0x80798e;
    if (uVar3 == 2) {
      retarder_lookup_table_ptr = 0x807984;
    }
    else if (uVar3 == 3) {
      retarder_lookup_table_ptr = 0x807984;
    }
    else if (uVar3 == 4) {
      retarder_lookup_table_ptr = 0x80798e;
    }
  }
  else {
    retarder_mode_lookup_table_pointer = 0x807952;
    retarder_lookup_table_pointer = 0x807952;
    _io_control_fuel_calculator_ptr = &ADO2TPAI;
    if (uVar3 == 2) {
      retarder_lookup_table_ptr = 0x807966;
    }
    else if (uVar3 == 3) {
      retarder_lookup_table_ptr = 0x80795c;
    }
    else if (uVar3 == 4) {
      retarder_lookup_table_ptr = (dword)&ADO2TPAI;
    }
  }
  io_control_fuel_rpm_input = current_engine_rpm;
  sVar1 = lookupTableInterpolation((table_interp_args_t *)&io_control_fuel_table_1_lookup_arg);
  if (0 < sVar1) {
    io_control_fuel_table_param = *(word *)(retarder_lookup_table_pointer + 8);
    sVar2 = lookupTableInterpolation((table_interp_args_t *)&io_control_fuel_table_2_lookup_arg);
    if (0 < sVar2) {
      retarder_scaled_percentage_output = (word)((uint)(sVar1 * 0x6400) / (uint)(int)sVar2);
      if (32000 < retarder_scaled_percentage_output) {
        retarder_scaled_percentage_output = 32000;
      }
      return;
    }
    retarder_scaled_percentage_output = 0;
    return;
  }
  retarder_scaled_percentage_output = 0;
  return;
}



//
// Function: throttleTablePointerSetup @ 0x0000dd72
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void throttleTablePointerSetup(void)

{
  io_control_fuel_table_1_lookup_arg = 2;
  retarder_mode_lookup_table_pointer = 0x807952;
  retarder_lookup_table_ptr = (dword)&ADO2TPAI;
  io_control_fuel_table_2_lookup_arg = 2;
  retarder_lookup_table_pointer = 0x807952;
  _io_control_fuel_calculator_ptr = &ADO2TPAI;
  return;
}



//
// Function: bufferDecreasingPatternCheck @ 0x0000ddb4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint bufferDecreasingPatternCheck(void)

{
  uint uVar1;
  uint *puVar2;
  uint *puVar3;
  uint local_18 [5];
  
  uVar1 = 0;
  puVar3 = _throttle_buffer_validation_value;
  for (puVar2 = local_18; puVar2 < &stack0xfffffffc; puVar2 = puVar2 + 1) {
    if (puVar2 == local_18) {
      *puVar2 = _throttle_position_validator_state >> 2;
    }
    else {
      *puVar2 = *puVar3 >> 2;
      puVar3 = puVar3 + -1;
    }
    if (puVar3 < _throttle_buffer_decreasing_value) {
      puVar3 = _throttle_position_validation_buffer;
    }
    uVar1 = *puVar3 >> 2;
    *puVar2 = *puVar2 - uVar1;
  }
  if (((((int)local_18[4] < 1) || (uVar1 = local_18[3], (int)local_18[2] <= (int)local_18[3])) ||
      (-1 < (int)local_18[2])) ||
     (((uVar1 = local_18[2], (int)local_18[1] <= (int)local_18[2] ||
       (uVar1 = local_18[0] + throttle_buffer_offset_adjust, (int)local_18[1] <= (int)uVar1)) ||
      (uVar1 = (uint)(short)throttle_buffer_min_delta, (int)uVar1 <= (int)local_18[0])))) {
    uVar1 = uVar1 & 0xffff0000;
  }
  else {
    uVar1 = 1;
  }
  return uVar1;
}



//
// Function: bufferThresholdValidator @ 0x0000de50
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint bufferThresholdValidator(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  
  if (_throttle_buffer_validation_value == _throttle_buffer_decreasing_value) {
    uVar3 = *_throttle_position_validation_buffer >> 2;
    uVar2 = _throttle_position_validation_buffer[-1] >> 2;
  }
  else if (_throttle_buffer_decreasing_value + 1 == _throttle_buffer_validation_value) {
    uVar3 = *_throttle_buffer_decreasing_value >> 2;
    uVar2 = *_throttle_position_validation_buffer >> 2;
  }
  else {
    uVar3 = _throttle_buffer_validation_value[-1] >> 2;
    uVar2 = _throttle_buffer_validation_value[-2] >> 2;
  }
  iVar4 = _throttle_buffer_high_threshold;
  if (throttle_position_raw < throttle_buffer_threshold_low) {
    iVar4 = _throttle_buffer_low_threshold;
  }
  uVar1 = uVar2 * throttle_buffer_scale_factor >> 8;
  if (((uVar1 <= _throttle_position_validator_state >> 2) ||
      (uVar1 = uVar3 - uVar2, iVar4 <= (int)uVar1)) && (iVar4 <= (int)uVar3)) {
    return uVar1 & 0xffff0000;
  }
  return 1;
}



//
// Function: throttlePositionValidator @ 0x0000def4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined2 throttlePositionValidator(undefined4 param_1)

{
  word wVar1;
  uint uVar2;
  word wVar3;
  char cVar4;
  
  cVar4 = (char)((uint)param_1 >> 0x10);
  if (throttle_validator_enable_flag == 0) {
    wVar3 = 0;
  }
  else {
    if (cVar4 == '\0') {
      _throttle_position_validator_state = _rpm_timer_interrupt_capture;
      if (_throttle_position_buffer_ptr == &rpm_filter_buffer_start) {
        _throttle_buffer_validation_value = (dword *)rpm_filter_buffer_end;
      }
      else {
        _throttle_buffer_validation_value = _throttle_position_buffer_ptr + -1;
      }
      _throttle_buffer_decreasing_value = &rpm_filter_buffer_start;
      _throttle_position_validation_buffer = rpm_filter_buffer_end;
      uVar2 = _throttle_position_raw_value;
    }
    else {
      _throttle_position_validator_state = _duty_cycle_timing_capture_value;
      if ((dword *)duty_cycle_buffer_current_ptr == &duty_cycle_monitor_buffer_start) {
        _throttle_buffer_validation_value = (dword *)duty_cycle_buffer_end_ptr;
      }
      else {
        _throttle_buffer_validation_value = (dword *)(duty_cycle_buffer_current_ptr - 4);
      }
      _throttle_buffer_decreasing_value = &duty_cycle_monitor_buffer_start;
      _throttle_position_validation_buffer = duty_cycle_buffer_end_ptr;
      uVar2 = _throttle_validation_state;
    }
    if (time_to_delay_before_setting_a_new_throttle_min_0_25500 < current_engine_fuel_demand) {
      if (_throttle_position_validator_state < uVar2) {
        wVar3 = 1;
      }
      else {
        wVar3 = 0;
      }
    }
    else if (_throttle_position_validator_state < uVar2) {
      uVar2 = bufferThresholdValidator();
      wVar3 = (word)uVar2;
    }
    else if ((throttle_position_raw < throttle_position_low_threshold) &&
            (current_engine_fuel_demand <= throttle_position_high_threshold)) {
      uVar2 = bufferDecreasingPatternCheck();
      wVar3 = (word)uVar2;
    }
    else {
      wVar3 = 0;
    }
    if (cVar4 == '\0') {
      _throttle_position_raw_value =
           _throttle_position_validator_state * throttle_scaling_factor >> 8;
    }
    else {
      _throttle_validation_state = _throttle_position_validator_state * throttle_scaling_factor >> 8
      ;
    }
  }
  wVar1 = wVar3;
  if (cVar4 == '\0') {
    throttle_validation_result_1 = wVar3;
    wVar1 = throttle_validation_result_2;
  }
  throttle_validation_result_2 = wVar1;
  return wVar3;
}



//
// Function: canBusTimingInit @ 0x0000e02c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void canBusTimingInit(void)

{
  _throttle_position_raw_value =
       _throttle_position_validator_state * (uint)throttle_scaling_factor >> 8;
  _throttle_validation_state =
       _throttle_position_validator_state * (uint)throttle_scaling_factor >> 8;
  return;
}



//
// Function: sendCanSingleFrame @ 0x0000e052
// ERROR: Failed to decompile
//

//
// Function: sendCanMessage @ 0x0000e180
//

void sendCanMessage(j1939_header_t *msg_header)

{
  if (msg_header->length < 9) {
    sendCanSingleFrame(msg_header->id);
    return;
  }
  sendJ1939MultiFrame(&msg_header->id);
  return;
}



//
// Function: sendJ1939MultiFrameWrapper @ 0x0000e1aa
//

void sendJ1939MultiFrameWrapper(void)

{
  uint *unaff_A2;
  
  sendJ1939MultiFrame(unaff_A2);
  return;
}



//
// Function: arrayRangeSum @ 0x0000e1b8
//

short arrayRangeSum(short *param_1,short *param_2)

{
  short sVar1;
  
  sVar1 = 0;
  for (; param_1 <= param_2; param_1 = param_1 + 1) {
    sVar1 = *param_1 + sVar1;
  }
  return sVar1;
}



//
// Function: memoryPatchCountDecrement @ 0x0000e1ce
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void memoryPatchCountDecrement(void)

{
  if (_memory_patch_count != 0) {
    _memory_patch_count = _memory_patch_count + -1;
    can_rx_buffer_ptr =
         can_rx_buffer_ptr - *(ushort *)((short)(_memory_patch_count * 3) * 2 + 0x80d3aa);
  }
  return;
}



//
// Function: rpm_derate_calculation_and_fault_processing @ 0x0000e200
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint rpm_derate_calculation_and_fault_processing(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = _engine_control_flags_register & 0x400;
  if ((_engine_control_flags_register & 0x400) == 0) {
    if (_derate_mode_selector == 0) {
      current_derate_target = normal_derate_reference;
      uVar3 = 0x41;
      uVar2 = 0x42;
    }
    else {
      current_derate_target = override_derate_reference;
      uVar3 = 0;
      uVar2 = 0;
    }
    uVar1 = (uint)current_derate_target;
    if (derate_threshold_base < current_derate_target) {
      uVar1 = (((uint)current_derate_target - (uint)derate_threshold_base) * 400) /
              (uint)_derate_scaling_factor;
      calculated_derate_amount = (word)uVar1;
    }
    else {
      calculated_derate_amount = 0;
    }
    if (rpm_derate_timer == 0) {
      if ((derate_status_flag == 0) && (_derate_override_flag == 0)) {
        if (((((((uint)(&fault_flags_active_base)[(short)((int)uVar3 >> 4)] & 1 << (uVar3 & 0xf)) ==
                0) || (uVar1 = (uint)(&fault_flags_enabled_base)[(int)uVar3 >> 4],
                      (uVar1 & 1 << (uVar3 & 0xf)) == 0)) &&
             ((((uint)(&fault_flags_active_base)[(short)((int)uVar2 >> 4)] & 1 << (uVar2 & 0xf)) ==
               0 || (uVar1 = (uint)(&fault_flags_enabled_base)[(int)uVar2 >> 4],
                    (uVar1 & 1 << (uVar2 & 0xf)) == 0)))) &&
            (((engine_fault_register_a & 0x20) == 0 ||
             (uVar1 = engine_fault_register_b & 0xffff0020, (engine_fault_register_b & 0x20) == 0)))
            ) && ((((engine_fault_register_a & 8) == 0 ||
                   (uVar1 = engine_fault_register_b & 0xffff0008, (engine_fault_register_b & 8) == 0
                   )) && (uVar1 = (uint)current_derate_target,
                         derate_threshold_base < current_derate_target)))) {
          active_derate_value = calculated_derate_amount;
        }
        else {
          active_derate_value = 0;
        }
        _derate_timer_status = 0;
      }
      else {
        if (((engine_fault_register_a & 0x20) != 0) && ((engine_fault_register_c & 0x20) == 0)) {
          engine_fault_register_a = engine_fault_register_a & 0xffdf;
        }
        if (((engine_fault_register_a & 8) != 0) && ((engine_fault_register_c & 8) == 0)) {
          engine_fault_register_a = engine_fault_register_a & 0xfff7;
        }
        if (((engine_fault_register_a & 0x10) != 0) && ((engine_fault_register_c & 0x10) == 0)) {
          engine_fault_register_a = engine_fault_register_a & 0xffef;
        }
        uVar1 = CONCAT22((short)(uVar1 >> 0x10),current_derate_target);
        if (the_transmission_pwm_scaling_from_load_to_duty_cycle_2_2 < current_derate_target) {
          uVar1 = (((uint)current_derate_target -
                   (uint)the_transmission_pwm_scaling_from_load_to_duty_cycle_2_2) * 400) /
                  (uint)_derate_scaling_factor;
          calculated_derate_amount = (word)uVar1;
        }
        else {
          calculated_derate_amount = 0;
        }
        derate_threshold_exceeded =
             (word)(the_transmission_pwm_scaling_from_load_to_duty_cycle_2_2 < current_derate_target
                   );
        active_derate_value = calculated_derate_amount;
        _derate_timer_status = 0;
      }
    }
    else {
      active_derate_value = rpm_derate_status;
      _derate_timer_status = rpm_derate_timer;
      rpm_derate_timer = 0;
    }
  }
  else {
    active_derate_value = normal_derate_reference;
  }
  if (400 < calculated_derate_amount) {
    calculated_derate_amount = 400;
  }
  if (400 < active_derate_value) {
    active_derate_value = 400;
  }
  return uVar1;
}



//
// Function: derateThresholdMonitorAndFaultController @ 0x0000e478
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ulonglong derateThresholdMonitorAndFaultController(void)

{
  ushort uVar1;
  undefined2 uVar2;
  short sVar4;
  short sVar5;
  uint uVar3;
  byte bVar6;
  uint in_D1;
  uint uVar7;
  word wVar8;
  uint uVar9;
  
  uVar7 = _engine_control_flags_register & 0x400;
  if ((((_engine_control_flags_register & 0x400) != 0) || (derate_status_flag != 0)) ||
     (_derate_override_flag != 0)) {
LAB_0000eac6:
    return CONCAT44(uVar7,in_D1);
  }
  if (_derate_mode_selector == 0) {
    current_derate_target = normal_derate_reference;
    uVar7 = 0x41;
    uVar9 = 0x42;
  }
  else {
    current_derate_target = override_derate_reference;
    uVar7 = 0;
    uVar9 = 0;
  }
  sVar4 = (short)((int)uVar7 >> 4);
  sVar5 = (short)((int)uVar9 >> 4);
  if (((((uint)(&fault_flags_active_base)[sVar4] & 1 << (uVar7 & 0xf)) == 0) ||
      (((uint)(&fault_flags_enabled_base)[sVar4] & 1 << (uVar7 & 0xf)) == 0)) &&
     ((((uint)(&fault_flags_active_base)[sVar5] & 1 << (uVar9 & 0xf)) == 0 ||
      (((uint)(&fault_flags_enabled_base)[sVar5] & 1 << (uVar9 & 0xf)) == 0)))) {
    if ((derate_mode_selector == 0) && (current_derate_target < derate_threshold_state_counter)) {
      derate_threshold_state_counter = current_derate_target;
    }
    if (derate_mode_selector == 1) {
      if ((current_derate_target < derate_threshold_state_counter) &&
         (derate_threshold_monitor_state == 0)) {
        derate_threshold_monitor_state = derate_monitor_timer_init;
        derate_target_snapshot = current_derate_target;
      }
      if (derate_threshold_monitor_state != 0) {
        if ((uint)derate_hysteresis_offset + (uint)derate_target_snapshot <
            (uint)current_derate_target) {
          derate_threshold_monitor_state = derate_threshold_monitor_state + 1;
          if (derate_threshold_monitor_state == derate_monitor_timer_init) {
            derate_target_snapshot = derate_threshold_state_counter;
            derate_threshold_monitor_state = 0;
          }
        }
        else {
          derate_threshold_monitor_state = derate_threshold_monitor_state - 1;
          if (derate_threshold_monitor_state == 0) {
            derate_threshold_state_counter = derate_target_snapshot;
          }
        }
      }
    }
  }
  else {
    derate_threshold_state_counter = derate_threshold_calibration + 1;
  }
  derate_upper_limit =
       derate_upper_offset +
       (derate_threshold_base - the_transmission_pwm_bias_from_load_to_duty_cycle_100_100);
  derate_lower_limit =
       derate_lower_offset +
       (derate_threshold_base - the_transmission_pwm_bias_from_load_to_duty_cycle_100_100);
  if ((((vp44_communication_status & 0x80) == 0) || ((derate_status_byte & 1) != 0)) &&
     (((vp44_communication_status & 0x80) != 0 || ((derate_status_byte & 1) == 0)))) {
    if ((vp44_communication_status & 0x80) == 0) {
      if (derate_upper_limit < current_derate_target) {
        derate_threshold_monitor_value = 5;
      }
      else if (current_derate_target < derate_lower_limit) {
        derate_threshold_monitor_value = 6;
      }
      else {
        derate_threshold_monitor_value = 7;
      }
    }
    else if ((derate_upper_limit < current_derate_target) ||
            (current_derate_target < derate_lower_limit)) {
      derate_threshold_monitor_value = 4;
    }
    else {
      derate_threshold_monitor_value = 7;
    }
  }
  else if ((vp44_communication_status & 0x80) == 0) {
    if (current_derate_target < derate_threshold_base) {
      if (current_derate_target < derate_lower_limit) {
        derate_threshold_monitor_value = 3;
      }
      else {
        derate_threshold_monitor_value = 8;
      }
    }
    else {
      derate_threshold_monitor_value = 1;
    }
  }
  else if (derate_threshold_base < current_derate_target) {
    if (derate_upper_limit < current_derate_target) {
      derate_threshold_monitor_value = 2;
    }
    else {
      derate_threshold_monitor_value = 9;
    }
  }
  else {
    derate_threshold_monitor_value = 0;
  }
  if ((((derate_threshold_monitor_value == 1) || (derate_threshold_monitor_value == 3)) ||
      (derate_threshold_monitor_value == 5)) || (derate_threshold_monitor_value == 9)) {
    derate_threshold_exceeded = 1;
  }
  else {
    derate_threshold_exceeded = 0;
  }
  if (((uint)(&fault_flags_active_base)[sVar4] & 1 << (uVar7 & 0xf)) != 0) {
    uVar3 = (uint)(&fault_flags_enabled_base)[sVar4];
    uVar7 = uVar3 & 1 << (uVar7 & 0xf);
    if (uVar7 != 0) goto LAB_0000e7d2;
  }
  if (((uint)(&fault_flags_active_base)[sVar5] & 1 << (uVar9 & 0xf)) != 0) {
    uVar3 = (uint)(&fault_flags_enabled_base)[sVar5];
    uVar7 = uVar3 & 1 << (uVar9 & 0xf);
    if (uVar7 != 0) {
LAB_0000e7d2:
      derate_fault_controller_value = 0;
      return CONCAT44(uVar3,uVar7);
    }
  }
  if (derate_fault_controller_value == 0) {
    if ((((vp44_communication_status & 0x80) != 0) && ((derate_status_byte & 1) == 0)) &&
       ((uint)current_derate_target <=
        (uint)the_transmission_pwm_bias_from_load_to_duty_cycle_100_100 +
        (uint)derate_threshold_state_counter)) {
      derate_fault_controller_value = 1;
    }
  }
  else if (derate_fault_controller_value == 1) {
    if ((derate_threshold_monitor_value == 1) &&
       ((uint)the_transmission_pwm_signal_dutycycle_minimum_value_high_time_0_100 +
        (uint)derate_threshold_state_counter < (uint)current_derate_target)) {
      derate_fault_controller_value = 2;
    }
  }
  else if (((derate_fault_controller_value == 2) && ((vp44_communication_status & 0x80) != 0)) &&
          (((derate_status_byte & 1) == 0 &&
           ((uint)current_derate_target <=
            (uint)the_transmission_pwm_bias_from_load_to_duty_cycle_100_100 +
            (uint)derate_threshold_state_counter)))) {
    derate_fault_controller_value = 3;
  }
  if (derate_fault_controller_value == 3) {
    if (derate_threshold_monitor_state == 0) {
      derate_threshold_base =
           the_transmission_pwm_bias_from_load_to_duty_cycle_100_100 +
           derate_threshold_state_counter;
    }
    if (((engine_fault_register_a & 0x20) != 0) && ((engine_fault_register_c & 0x20) == 0)) {
      engine_fault_register_a = engine_fault_register_a & 0xffdf;
    }
    if (((engine_fault_register_a & 8) != 0) && ((engine_fault_register_c & 8) == 0)) {
      engine_fault_register_a = engine_fault_register_a & 0xfff7;
    }
    if (((engine_fault_register_a & 0x10) != 0) && ((engine_fault_register_c & 0x10) == 0)) {
      engine_fault_register_a = engine_fault_register_a & 0xffef;
    }
  }
  if ((derate_threshold_base < the_transmission_pwm_bias_from_load_to_duty_cycle_100_100) ||
     (uVar7 = (uint)derate_threshold_calibration +
              (uint)the_transmission_pwm_bias_from_load_to_duty_cycle_100_100,
     uVar7 < derate_threshold_base)) {
    uVar7 = (uint)derate_threshold_calibration +
            (uint)the_transmission_pwm_bias_from_load_to_duty_cycle_100_100;
    in_D1 = (uint)derate_threshold_base;
    if ((in_D1 <= uVar7) ||
       (uVar7 = CONCAT22((short)(uVar7 >> 0x10),throttle_position_value),
       throttle_position_value <=
       the_transmission_pwm_signal_dutycycle_maximum_value_high_time_0_100)) {
      derate_fault_counter_1 = 0;
      derate_fault_counter_2 = 0;
      derate_fault_counter_3 = 0;
      goto LAB_0000eac6;
    }
  }
  uVar9 = (uint)derate_threshold_base;
  uVar1 = (ushort)(uVar7 >> 0x10);
  uVar7 = CONCAT22(uVar1,normal_derate_reference);
  wVar8 = the_load_point_at_which_the_kick_down_signal_activates_0_127;
  if (derate_threshold_base <= normal_derate_reference) {
    wVar8 = derate_fault_counter_threshold_alt;
  }
  if (derate_threshold_monitor_value == 4) {
    if (derate_fault_counter_1 < wVar8) {
      derate_fault_counter_1 = derate_fault_counter_1 + 1;
    }
    else {
      engine_fault_register_a = engine_fault_register_a | 8;
      engine_fault_register_c = engine_fault_register_c | 8;
      derate_fault_controller_value = 0;
    }
  }
  else {
    derate_fault_counter_1 = 0;
  }
  if ((derate_threshold_monitor_value == 6) || (derate_threshold_monitor_value == 5)) {
    if (derate_fault_counter_2 < wVar8) {
      derate_fault_counter_2 = derate_fault_counter_2 + 1;
    }
    else {
      engine_fault_register_a = engine_fault_register_a | 0x10;
      engine_fault_register_c = engine_fault_register_c | 0x10;
      derate_fault_controller_value = 0;
    }
  }
  else {
    derate_fault_counter_2 = 0;
  }
  if (((derate_threshold_monitor_value == 2) || (derate_threshold_monitor_value == 3)) &&
     ((uVar7 = (uint)uVar1 << 0x10, (engine_fault_register_a & 0x10) == 0 ||
      (uVar7 = CONCAT22(uVar1,engine_fault_register_b) & 0xffff0010,
      (engine_fault_register_b & 0x10) == 0)))) {
    uVar2 = (undefined2)(uVar7 >> 0x10);
    uVar7 = CONCAT22(uVar2,engine_fault_register_a) & 0xffff0008;
    if (((engine_fault_register_a & 8) == 0) ||
       (uVar7 = CONCAT22(uVar2,engine_fault_register_b) & 0xffff0008,
       (engine_fault_register_b & 8) == 0)) {
      if (derate_fault_counter_3 < wVar8) {
        derate_fault_counter_3 = derate_fault_counter_3 + 1;
        return CONCAT44(uVar7,uVar9);
      }
      engine_fault_register_a = engine_fault_register_a | 0x20;
      engine_fault_register_c = engine_fault_register_c | 0x20;
      derate_fault_controller_value = 0;
      bVar6 = -((vp44_communication_status & 0x80) != 0);
      _derate_vp44_status_flag = bVar6 & 1;
      return (ulonglong)CONCAT14(bVar6,uVar9) & 0x1ffffffff;
    }
  }
  derate_fault_counter_3 = 0;
  return CONCAT44(uVar7,uVar9);
}



//
// Function: initDerateSystem @ 0x0000eacc
//

ushort initDerateSystem(void)

{
  derate_threshold_state_counter = derate_threshold_calibration + 4;
  if ((fuel_demand_control_flags & 4) != 0) {
    derate_status_flag = 1;
  }
  return fuel_demand_control_flags & 4;
}



//
// Function: diagnosticMemoryAddressResolver @ 0x0000eaf0
// ERROR: Failed to decompile
//

//
// Function: kickdownSignalSlowCycle40Coordinator @ 0x0000eb5a
//

void kickdownSignalSlowCycle40Coordinator(void)

{
  if ((vp44_engine_state != 0xb) &&
     (the_load_point_at_which_the_kick_down_signal_de_activates_0_127 < current_fuel_demand_value))
  {
    timing_table_lookup_result = 0;
    timing_accumulator_flag_mask = 0;
    return;
  }
  kickdown_throttle_input = throttle_position_raw;
  timing_table_lookup_result =
       lookupTableInterpolation((table_interp_args_t *)&ac_control_table_size);
  timing_accumulator_flag_mask = 2;
  return;
}



//
// Function: timingAccumulatorUpdate @ 0x0000ebb0
//

void timingAccumulatorUpdate(void)

{
  fuel_limit_minimum_value = timing_table_lookup_result + fuel_limit_minimum_value;
  fuel_adjustment_active_flag = timing_accumulator_flag_mask | fuel_adjustment_active_flag & 0xfffd;
  return;
}



//
// Function: initAcControlSystem @ 0x0000ebd2
//

void initAcControlSystem(void)

{
  ac_control_kickdown_ptr = (dword)&engine_speed_at_0_fuel_which_activates_kick_down_signal_0_8000;
  ac_control_accel_threshold_ptr = (dword)&accel_threshold_to_disable_a_c_1200_1200;
  ac_control_table_size = 2;
  return;
}



//
// Function: calibrationDataCopyWithChecksum @ 0x0000ebf2
//

undefined4 calibrationDataCopyWithChecksum(void)

{
  ushort extraout_D0u;
  word wVar1;
  dword *pdVar2;
  word *pwVar3;
  dword *pdVar4;
  
  wVar1 = arrayRangeSum((short *)&DAT_00004000,(short *)&calibration_checksum_end_marker);
  if ((wVar1 != calibration_checksum_expected_1) && (calibration_checksum_end_marker != 0xa1a1)) {
    return 1;
  }
  pdVar4 = (dword *)&DAT_00004000;
  for (pdVar2 = &flash_program_block_1_buffer; pdVar2 < (dword *)0x80488c; pdVar2 = pdVar2 + 1) {
    *pdVar2 = *pdVar4;
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    pdVar4 = pdVar4 + 1;
  }
  pdVar4 = &eeprom_insite_data_base_address;
  for (pwVar3 = &flash_program_block_2_buffer; pwVar3 < &calibration_data_copy_status;
      pwVar3 = (word *)((int)pwVar3 + 4)) {
    *(dword *)pwVar3 = *pdVar4;
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    pdVar4 = pdVar4 + 1;
  }
  calibration_checksum_workspace._0_2_ = 1;
  return (uint)extraout_D0u << 0x10;
}



//
// Function: calibrationDataCopySecondary @ 0x0000eca4
//

undefined4 calibrationDataCopySecondary(void)

{
  ushort extraout_D0u;
  word wVar1;
  dword *pdVar2;
  word *pwVar3;
  dword *pdVar4;
  
  wVar1 = arrayRangeSum((short *)&eeprom_secondary_base_address,(short *)0x7e42);
  if (wVar1 != calibration_checksum_expected_2) {
    return 1;
  }
  pdVar4 = &eeprom_secondary_base_address;
  for (pdVar2 = &flash_program_block_1_buffer; pdVar2 < (dword *)0x80488c; pdVar2 = pdVar2 + 1) {
    *pdVar2 = *pdVar4;
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    pdVar4 = pdVar4 + 1;
  }
  pdVar4 = &firmware_vector_table_base;
  for (pwVar3 = &flash_program_block_2_buffer; pwVar3 < &calibration_data_copy_status;
      pwVar3 = (word *)((int)pwVar3 + 4)) {
    *(dword *)pwVar3 = *pdVar4;
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    pdVar4 = pdVar4 + 1;
  }
  calibration_checksum_workspace._0_2_ = 2;
  return (uint)extraout_D0u << 0x10;
}



//
// Function: eepromCalibrationWritePrimary @ 0x0000ed52
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int eepromCalibrationWritePrimary(void)

{
  ushort extraout_D0u;
  int iVar1;
  short sVar2;
  undefined4 unaff_D2;
  char in_XF;
  char in_NF;
  char in_ZF;
  char in_VF;
  byte in_CF;
  char cVar3;
  ushort uVar4;
  ushort uVar5;
  undefined2 uVar6;
  word local_6;
  
  uVar6 = (undefined2)((uint)unaff_D2 >> 0x10);
  uVar4 = (ushort)(byte)(in_XF << 4 | in_NF << 3 | in_ZF << 2 | in_VF << 1 | in_CF);
  if ((eeprom_calibration_check_value_2 + _eeprom_calibration_write_state & 1) == 0) {
    local_6 = _eeprom_calibration_write_state + 1;
  }
  else {
    local_6 = _eeprom_calibration_write_state + 2;
  }
  parameterCircularBufferWrite(0x80367a,(undefined1 *)&local_6,CONCAT22(2,uVar4));
  uVar5 = 0;
  while ((uVar5 < 5000 && (_eeprom_calibration_write_state != local_6))) {
    emptyPlaceholderFunction();
    delayWithWatchdogService(CONCAT22(500,uVar4));
    uVar5 = uVar5 + 1;
  }
  iVar1 = flashEraseFromRam(0x4000);
  if (iVar1 == 0) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    sVar2 = flashProgramFromRam(0x4000,&flash_program_block_1_buffer,CONCAT22(10,uVar6));
    if (sVar2 == 1) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      sVar2 = flashProgramFromRam(0x4400,&flash_program_block_2_buffer,CONCAT22(0x1a42,uVar6));
      cVar3 = sVar2 == 0;
      if (sVar2 == 1) {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        local_6 = arrayRangeSum((short *)&DAT_00004000,(short *)&calibration_checksum_end_marker);
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        uVar5 = (ushort)(byte)(cVar3 << 4 | 8);
        parameterCircularBufferWrite(0x803500,(undefined1 *)&local_6,CONCAT22(2,uVar5));
        uVar4 = 0;
        while ((uVar4 < 5000 && (calibration_checksum_expected_1 != local_6))) {
          emptyPlaceholderFunction();
          delayWithWatchdogService(CONCAT22(500,uVar5));
          uVar4 = uVar4 + 1;
        }
        parameterCircularBufferWrite(0x80367c,&eeprom_calibration_write_state,CONCAT22(2,uVar5));
        uVar4 = 0;
        while ((uVar4 < 5000 &&
               (eeprom_calibration_check_value_1 != _eeprom_calibration_write_state))) {
          emptyPlaceholderFunction();
          delayWithWatchdogService(CONCAT22(500,uVar5));
          uVar4 = uVar4 + 1;
        }
        calibration_checksum_workspace._0_2_ = 1;
        canMemoryPointerTableInit();
        iVar1 = (uint)extraout_D0u << 0x10;
      }
      else {
        iVar1 = 1;
      }
    }
    else {
      iVar1 = 1;
    }
  }
  else {
    iVar1 = 1;
  }
  return iVar1;
}



//
// Function: eepromCalibrationWriteSecondary @ 0x0000ef80
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int eepromCalibrationWriteSecondary(void)

{
  ushort extraout_D0u;
  int iVar1;
  short sVar2;
  undefined4 unaff_D2;
  char in_XF;
  char in_NF;
  char in_ZF;
  char in_VF;
  byte in_CF;
  char cVar3;
  ushort uVar4;
  ushort uVar5;
  undefined2 uVar6;
  word local_6;
  
  uVar6 = (undefined2)((uint)unaff_D2 >> 0x10);
  uVar4 = (ushort)(byte)(in_XF << 4 | in_NF << 3 | in_ZF << 2 | in_VF << 1 | in_CF);
  if ((eeprom_calibration_check_value_2 + _eeprom_calibration_write_state & 1) == 0) {
    local_6 = _eeprom_calibration_write_state + 2;
  }
  else {
    local_6 = _eeprom_calibration_write_state + 1;
  }
  parameterCircularBufferWrite(0x803682,(undefined1 *)&local_6,CONCAT22(2,uVar4));
  uVar5 = 0;
  while ((uVar5 < 5000 && (eeprom_calibration_check_value_2 != local_6))) {
    emptyPlaceholderFunction();
    delayWithWatchdogService(CONCAT22(500,uVar4));
    uVar5 = uVar5 + 1;
  }
  iVar1 = flashEraseFromRam(0x6000);
  if (iVar1 == 0) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    sVar2 = flashProgramFromRam(0x6000,&flash_program_block_1_buffer,CONCAT22(10,uVar6));
    if (sVar2 == 1) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      sVar2 = flashProgramFromRam(0x6400,&flash_program_block_2_buffer,CONCAT22(0x1a42,uVar6));
      cVar3 = sVar2 == 0;
      if (sVar2 == 1) {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        local_6 = arrayRangeSum((short *)&eeprom_secondary_base_address,(short *)0x7e42);
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        uVar5 = (ushort)(byte)(cVar3 << 4 | 8);
        parameterCircularBufferWrite(0x803502,(undefined1 *)&local_6,CONCAT22(2,uVar5));
        uVar4 = 0;
        while ((uVar4 < 5000 && (calibration_checksum_expected_2 != local_6))) {
          emptyPlaceholderFunction();
          delayWithWatchdogService(CONCAT22(500,uVar5));
          uVar4 = uVar4 + 1;
        }
        parameterCircularBufferWrite
                  (0x803684,(undefined1 *)&eeprom_calibration_check_value_2,CONCAT22(2,uVar5));
        uVar4 = 0;
        while ((uVar4 < 5000 &&
               (eeprom_calibration_check_value_3 != eeprom_calibration_check_value_2))) {
          emptyPlaceholderFunction();
          delayWithWatchdogService(CONCAT22(500,uVar5));
          uVar4 = uVar4 + 1;
        }
        calibration_checksum_workspace._0_2_ = 2;
        canMemoryPointerTableInit();
        iVar1 = (uint)extraout_D0u << 0x10;
      }
      else {
        iVar1 = 1;
      }
    }
    else {
      iVar1 = 1;
    }
  }
  else {
    iVar1 = 1;
  }
  return iVar1;
}



//
// Function: validateRedundantSensors @ 0x0000f1ae
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void validateRedundantSensors(void)

{
  undefined4 uVar1;
  ushort uVar2;
  bool bVar3;
  bool bVar4;
  bool bVar5;
  bool bVar6;
  bool bVar7;
  ushort uVar8;
  
  calibration_checksum_workspace._0_2_ = 0;
  fault_flags_active_base = fault_flags_active_base & 0xefff;
  if (calibration_checksum_end_marker == 0xa1a1) {
    calibrationDataCopyWithChecksum();
    calibration_data_copy_status = 0;
  }
  else if ((_eeprom_calibration_write_state != eeprom_calibration_check_value_1) ||
          (eeprom_calibration_check_value_2 != eeprom_calibration_check_value_3)) {
    if (_eeprom_calibration_write_state != eeprom_calibration_check_value_1) {
      if (eeprom_calibration_check_value_2 != eeprom_calibration_check_value_3) {
        fault_flags_active_base = fault_flags_active_base | 0x1000;
        fault_flags_history_base = fault_flags_history_base | 0x1000;
      }
      else {
        uVar1 = calibrationDataCopySecondary();
        if ((short)uVar1 != 0) {
          fault_flags_active_base = fault_flags_active_base | 0x1000;
          fault_flags_history_base = fault_flags_history_base | 0x1000;
        }
      }
    }
    else {
      uVar1 = calibrationDataCopyWithChecksum();
      if ((short)uVar1 != 0) {
        fault_flags_active_base = fault_flags_active_base | 0x1000;
        fault_flags_history_base = fault_flags_history_base | 0x1000;
      }
    }
  }
  else if ((eeprom_calibration_check_value_2 + _eeprom_calibration_write_state & 1) == 0) {
    uVar1 = calibrationDataCopySecondary();
    if ((short)uVar1 != 0) {
      uVar1 = calibrationDataCopyWithChecksum();
      if ((short)uVar1 != 0) {
        fault_flags_active_base = fault_flags_active_base | 0x1000;
        fault_flags_history_base = fault_flags_history_base | 0x1000;
      }
    }
  }
  else {
    uVar1 = calibrationDataCopyWithChecksum();
    if ((short)uVar1 != 0) {
      uVar1 = calibrationDataCopySecondary();
      if ((short)uVar1 != 0) {
        fault_flags_active_base = fault_flags_active_base | 0x1000;
        fault_flags_history_base = fault_flags_history_base | 0x1000;
      }
    }
  }
  bVar6 = vp44_comm_test_flag < vp44_comm_test_sensor_value;
  bVar3 = (short)(vp44_comm_test_flag - vp44_comm_test_sensor_value) < 0;
  if (vp44_comm_test_flag == vp44_comm_test_sensor_value) {
    uVar8 = (ushort)(byte)(bVar6 << 4 | bVar3 << 3 | 4U |
                           SBORROW2(vp44_comm_test_flag,vp44_comm_test_sensor_value) << 1 | bVar6);
    redundant_sensor_validation_index = 0;
    parameterCircularBufferWrite
              (0x80368a,(undefined1 *)&redundant_sensor_validation_index,CONCAT22(2,uVar8));
    uVar2 = 0;
    while ((uVar2 < 5000 && (redundant_sensor_param_1 != redundant_sensor_validation_index))) {
      emptyPlaceholderFunction();
      delayWithWatchdogService(CONCAT22(500,uVar8));
      uVar2 = uVar2 + 1;
    }
    redundant_sensor_validation_index = redundant_sensor_param_3 + 1;
    parameterCircularBufferWrite
              (0x80368e,(undefined1 *)&redundant_sensor_validation_index,CONCAT22(2,uVar8));
    uVar2 = 0;
    while ((uVar2 < 5000 && (redundant_sensor_param_3 != redundant_sensor_validation_index))) {
      emptyPlaceholderFunction();
      delayWithWatchdogService(CONCAT22(500,uVar8));
      uVar2 = uVar2 + 1;
    }
    bVar3 = (uVar8 & 0x10) != 0;
    bVar6 = (uVar8 & 8) != 0;
    bVar4 = (uVar8 & 4) != 0;
    bVar5 = (uVar8 & 2) != 0;
    bVar7 = (uVar8 & 1) != 0;
    fault_flags_active_base = fault_flags_active_base & 0xf7ff;
  }
  else {
    uVar8 = (ushort)(byte)(bVar6 << 4 | bVar3 << 3 |
                           SBORROW2(vp44_comm_test_flag,vp44_comm_test_sensor_value) << 1 | bVar6);
    redundant_sensor_validation_index = redundant_sensor_param_1 + 1;
    parameterCircularBufferWrite
              (0x80368a,(undefined1 *)&redundant_sensor_validation_index,CONCAT22(2,uVar8));
    uVar2 = 0;
    while ((uVar2 < 5000 && (redundant_sensor_param_1 != redundant_sensor_validation_index))) {
      emptyPlaceholderFunction();
      delayWithWatchdogService(CONCAT22(500,uVar8));
      uVar2 = uVar2 + 1;
    }
    redundant_sensor_validation_index = redundant_sensor_param_2 + 1;
    parameterCircularBufferWrite
              (0x80368c,(undefined1 *)&redundant_sensor_validation_index,CONCAT22(2,uVar8));
    uVar2 = 0;
    while ((uVar2 < 5000 && (redundant_sensor_param_2 != redundant_sensor_validation_index))) {
      emptyPlaceholderFunction();
      delayWithWatchdogService(CONCAT22(500,uVar8));
      uVar2 = uVar2 + 1;
    }
    bVar5 = SBORROW2(redundant_sensor_param_1,redundant_sensor_compare_threshold);
    bVar6 = (short)(redundant_sensor_param_1 - redundant_sensor_compare_threshold) < 0;
    bVar4 = redundant_sensor_param_1 == redundant_sensor_compare_threshold;
    if (redundant_sensor_param_1 < redundant_sensor_compare_threshold) {
      fault_flags_active_base = fault_flags_active_base & 0xf7ff;
      bVar3 = true;
      bVar7 = true;
    }
    else {
      fault_flags_active_base = fault_flags_active_base | 0x800;
      fault_flags_history_base = fault_flags_history_base | 0x800;
      bVar3 = false;
      bVar7 = false;
    }
  }
  uVar8 = (ushort)(byte)(bVar3 << 4 | bVar6 << 3 | bVar4 << 2 | bVar5 << 1 | bVar7);
  redundant_sensor_validation_index = redundant_sensor_param_2 + redundant_sensor_param_3;
  parameterCircularBufferWrite
            (0x803686,(undefined1 *)&redundant_sensor_validation_index,CONCAT22(2,uVar8));
  uVar2 = 0;
  while ((uVar2 < 5000 && (vp44_comm_test_flag != redundant_sensor_validation_index))) {
    emptyPlaceholderFunction();
    delayWithWatchdogService(CONCAT22(500,uVar8));
    uVar2 = uVar2 + 1;
  }
  return;
}



//
// Function: firmwareDataCopyToWorkingMemory @ 0x0000f4ea
//

void firmwareDataCopyToWorkingMemory(void)

{
  dword *pdVar1;
  dword *pdVar2;
  
  pdVar1 = (dword *)&firmware_data_source;
  for (pdVar2 = &can_memory_table_start; pdVar2 < (dword *)0x808ab2; pdVar2 = pdVar2 + 1) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    *pdVar2 = *pdVar1;
    pdVar1 = pdVar1 + 1;
  }
  return;
}



//
// Function: pwmFuelDemandOutputCalculator @ 0x0000f524
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint pwmFuelDemandOutputCalculator(void)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar1 = ((uint)current_fuel_demand_value * 0x6400) / 0x1700;
  delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 = (word)uVar1;
  uVar2 = ((uint)diagnostic_fuel_arbitration_output * 0x6400) / 0x1700;
  time_since_rpm_crossed_oil_pres_start_mon_rpm_0_65535 = (word)uVar2;
  uVar3 = uVar2 & 0xffff0000;
  if ((dtc_active_fault_count & 1) == 0) {
    sim_timer_control_register = sim_timer_control_register & 0xffff0000;
  }
  else {
    uVar3 = ((((uint)pwm_output_scaling_factor * (uVar1 & 0xffff)) / 0x6400 & 0xffff) * 8000) / 1000
            & 0xffff | ((uint)pwm_output_scaling_factor * 8000) / 1000 << 0x10;
    sim_timer_control_register = uVar3;
  }
  uVar3 = uVar3 & 0xffff0000;
  if ((dtc_active_fault_count & 2) == 0) {
    _QADC64_DDRQA = _QADC64_DDRQA & 0xffff0000;
  }
  else {
    uVar3 = ((((uint)pwm_output_2_scaling_factor * (uVar2 & 0xffff)) / 0x6400 & 0xffff) * 8000) /
            1000 & 0xffff | ((uint)pwm_output_2_scaling_factor * 8000) / 1000 << 0x10;
    _QADC64_DDRQA = uVar3;
  }
  if (5 < amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535) {
    uVar3 = uVar3 & 0xffff0000;
    if ((dtc_active_fault_count & 4) == 0) {
      tpu_pwm_channel_3_output = tpu_pwm_channel_3_output & 0xffff0000;
    }
    else {
      uVar3 = ((((uint)pwm_output_3_scaling_factor *
                (uint)errors_allowed_timer_running_flag_for_oil_pres_0_1) / 0x6400 & 0xffff) * 8000)
              / 1000 & 0xffff | ((uint)pwm_output_3_scaling_factor * 8000) / 1000 << 0x10;
      tpu_pwm_channel_3_output = uVar3;
    }
  }
  if (5 < amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535) {
    uVar3 = uVar3 & 0xffff0000;
    if ((dtc_active_fault_count & 8) == 0) {
      tpu_pwm_channel_4_output = tpu_pwm_channel_4_output & 0xffff0000;
    }
    else {
      uVar3 = ((((uint)pwm_output_4_scaling_factor *
                (uint)pointer_to_oil_pressure_fuel_fault_log_data_0_2_32) / 0x6400 & 0xffff) * 8000)
              / 1000 & 0xffff | ((uint)pwm_output_4_scaling_factor * 8000) / 1000 << 0x10;
      tpu_pwm_channel_4_output = uVar3;
    }
  }
  if (((dtc_active_fault_count & 0x10) != 0) && (oil_pressure_rpm_fault_delay != 0)) {
    if (0x63ff < oil_pressure_rpm_fault_delay) {
      uVar3 = ((uint)PTGNQPTB * 8000) / 1000;
      QADC64_QADCMCR = -(short)uVar3 - 1;
      _QADC64_QACR2 = 0x7fff8000;
      return uVar3;
    }
    QADC64_QADCMCR = -(short)(((uint)PTGNQPTB * 8000) / 1000) - 1;
    _QADC64_QACR2 =
         (QADC64_QADCMCR & 0x7fff) +
         (((((uint)PTGNQPTB * (uint)oil_pressure_rpm_fault_delay) / 0x6400 & 0xffff) * 8000) / 1000
         & 0xffff) | 0x7fff0000;
    return _QADC64_QACR2;
  }
  _QADC64_QACR2 = 0x7fff;
  return CONCAT22((short)(uVar3 >> 0x10),dtc_active_fault_count) & 0xffff0010;
}



//
// Function: enableFaultFlagScanner @ 0x0000f86a
//

undefined1 enableFaultFlagScanner(void)

{
  fault_flag_scanner_state = fault_flag_scanner_state | 1;
  return 0;
}



//
// Function: waterInFuelDetectionStateInit @ 0x0000f876
//

uint waterInFuelDetectionStateInit(void)

{
  uint in_D0;
  
  if (water_in_fuel_detection_flag == 1) {
    water_in_fuel_detection_flag = 0;
    amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 1;
    calibration_checksum_workspace._2_2_ = 0xeeee;
    return in_D0 & 0xffffff00;
  }
  return 4;
}



//
// Function: waterInFuelFaultClear @ 0x0000f89c
//

undefined1 waterInFuelFaultClear(void)

{
  amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 0;
  water_in_fuel_detection_flag = 1;
  calibration_checksum_workspace._2_2_ = 0xaaaa;
  return 0;
}



//
// Function: waterInFuelFaultValidation @ 0x0000f8b6
//

undefined1 waterInFuelFaultValidation(void)

{
  amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 1;
  if (calibration_checksum_workspace._2_2_ == -0x5556) {
    calibration_checksum_workspace._2_2_ = -0x1112;
    water_in_fuel_detection_flag = 0;
  }
  return 0;
}



//
// Function: activateHighRpmShutdownFlag @ 0x0000f8d8
//

undefined1 activateHighRpmShutdownFlag(void)

{
  high_rpm_shutdown_active_flag = 1;
  return 0;
}



//
// Function: eepromWriteWrapper @ 0x0000f8e4
//

void eepromWriteWrapper(byte *param_1)

{
  ushort in_stack_00000000;
  
  systemResetWithDiagnostic(param_1,(uint)in_stack_00000000);
  return;
}



//
// Function: triggerDiagnosticSystemReset @ 0x0000f8f6
//

void triggerDiagnosticSystemReset(void)

{
  undefined2 in_stack_00000000;
  
  systemResetWithDiagnostic((byte *)0x0,CONCAT22(1,in_stack_00000000));
  return;
}



//
// Function: systemResetWithDiagnostic @ 0x0000f906
//

/* WARNING: This function may have set the stack pointer */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 systemResetWithDiagnostic(byte *param_1,undefined4 param_2)

{
  uint uVar1;
  undefined4 uVar2;
  undefined4 unaff_A2;
  ushort uVar3;
  int local_8;
  
  uVar3 = (ushort)((uint)unaff_A2 >> 0x10);
  if (engine_operating_mode == ENGINE_IDLE) {
    while (uVar1 = circularBufferEmptyCheck(), (char)uVar1 == '\0') {
      emptyPlaceholderFunction();
      watchdogServiceLoop(CONCAT22(500,uVar3));
    }
    local_8 = _loopCounter;
    parameterCircularBufferWrite(0x80352c,(undefined1 *)&local_8,CONCAT22(4,uVar3));
    if (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 == 0) {
      watchdogServiceLoop(CONCAT22(0xfa,uVar3));
    }
    else {
      while (_loop_counter_reference != local_8) {
        emptyPlaceholderFunction();
        watchdogServiceLoop(CONCAT22(500,uVar3));
      }
    }
    if (param_2._1_1_ == '\0') {
      diagnosticMultiPacketResponseBuilder(param_1,(uint)uVar3);
    }
    else {
      diagnosticMessageQueueWrite((uint)uVar3);
    }
    watchdogServiceLoop(CONCAT22(50000,uVar3));
    sim_data_direction_control = sim_data_direction_control & 0xef;
    ioControlAndCanPinSwitching();
    _sim_chip_select_base_reg0 = 0xf9d2;
    uVar2 = (*_DAT_00000008)();
    uVar2 = CONCAT31((int3)((uint)uVar2 >> 8),0xff);
  }
  else {
    uVar2 = 7;
  }
  return uVar2;
}



//
// Function: requestSecuredShutdown @ 0x0000f9e4
//

undefined1 requestSecuredShutdown(void)

{
  secured_shutdown_request_flag = 1;
  return 0;
}



//
// Function: canMessageBufferLogger @ 0x0000f9f0
//

undefined4 canMessageBufferLogger(void)

{
  undefined4 uVar1;
  
  if (system_logging_state == 1) {
    return 7;
  }
  uVar1 = circularBufferWrite();
  if ((char)uVar1 == '\x01') {
    can_buffer_logger_state = 0;
    return 0xb;
  }
  can_buffer_write_pending = 1;
  points_to_engine_sync_fuel_pressure_fuel_minimun_threshold_0_2_32 = 0;
  return CONCAT31((int3)((uint)uVar1 >> 8),0xff);
}



//
// Function: systemFunction8xMaximum @ 0x0000fa40
//

void systemFunction8xMaximum(void)

{
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  return;
}



//
// Function: crc16Calculate @ 0x0000fcb0
//

undefined4 crc16Calculate(byte *param_1,undefined4 param_2)

{
  ushort uVar1;
  undefined4 unaff_D3;
  undefined4 uVar2;
  
  uVar1 = 0;
  uVar2 = CONCAT22((short)((uint)unaff_D3 >> 0x10),param_2._0_2_);
  while ((char)uVar2 != '\0') {
    uVar1 = (&crc16_lookup_table)[(short)((uVar1 ^ *param_1) & 0xff)] ^ uVar1 >> 8;
    param_1 = (byte *)CONCAT31(param_1._0_3_,(char)param_1 + '\x01');
    uVar2 = CONCAT31((int3)((uint)uVar2 >> 8),(char)uVar2 + -1);
  }
  return CONCAT22((short)((uint)uVar2 >> 0x10),uVar1);
}



//
// Function: memoryPatchCrcCalculate @ 0x0000fd02
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 memoryPatchCrcCalculate(void)

{
  byte bVar2;
  ushort uVar1;
  uint unaff_D3;
  uint uVar3;
  word *pwVar4;
  int iVar5;
  
  uVar3 = unaff_D3 & 0xffffff00;
  pwVar4 = &tracks_progress_of_fan_on_due_to_ac_0_3600;
  iVar5 = 0x80d3aa;
  for (bVar2 = 0; bVar2 < _memory_patch_count; bVar2 = bVar2 + 1) {
    uVar3 = CONCAT31((int3)(uVar3 >> 8),*(char *)(iVar5 + 1) + (char)uVar3);
    iVar5 = iVar5 + 6;
  }
  uVar1 = 0;
  while ((char)uVar3 != '\0') {
    uVar1 = (&crc16_lookup_table)[(short)((uVar1 ^ *(byte *)pwVar4) & 0xff)] ^ uVar1 >> 8;
    pwVar4 = (word *)((int)pwVar4 + 1);
    uVar3 = CONCAT31((int3)(uVar3 >> 8),(char)uVar3 + -1);
  }
  return CONCAT22((short)(uVar3 >> 0x10),uVar1);
}



//
// Function: coldStartFuelControlSlowCycle40Coordinator @ 0x0000fd68
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort coldStartFuelControlSlowCycle40Coordinator(void)

{
  short sVar1;
  bool bVar2;
  ushort uVar4;
  ushort uVar5;
  uint uVar3;
  word wVar6;
  word unaff_D2w;
  ushort uVar7;
  int iVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  uint uVar11;
  
  wVar6 = diagnostic_system_flags_1 & 0x800;
  if (((((diagnostic_system_flags_1 & 0x800) == 0) ||
       (wVar6 = fuel_timing_mode_blend_factor_965a,
       fuel_timing_mode_blend_factor_965a < value_used_to_detect_sync_pulse_0_100)) ||
      (wVar6 = current_fuel_demand_value, current_fuel_demand_value < used_in_cranking_mode_0_4000))
     || ((wVar6 = current_engine_rpm, current_engine_rpm <= cold_start_rpm_threshold_high ||
         (replaced_old_crank_timer_count2_0 <= current_engine_rpm)))) {
    cold_start_fuel_control_result = 0;
    oil_pressure_protection_snapshot = 0;
    _cold_start_fuel_control_mode = 0;
    return wVar6;
  }
  cold_start_rpm_snapshot = current_engine_rpm;
  cold_start_rpm_snapshot_3 = current_engine_rpm;
  cold_start_rpm_snapshot_2 = current_engine_rpm;
  cold_start_rpm_snapshot_1 = current_engine_rpm;
  cold_start_fuel_demand_snapshot = current_fuel_demand_value;
  if (cold_start_fuel_control_enable_flag != 0 || temp_below_which_cold_crank_can_run_50_293 != 0) {
    if (((fault_status_flags_2 & 0x200) == 0) || ((accelerator_pedal_position & 0x200) == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if (!bVar2) {
      if (((fault_status_flags_2 & 0x400) == 0) || ((accelerator_pedal_position & 0x400) == 0)) {
        bVar2 = false;
      }
      else {
        bVar2 = true;
      }
      if (!bVar2) {
        if (((fault_status_flags_2 & 4) == 0) || ((accelerator_pedal_position & 4) == 0)) {
          bVar2 = false;
        }
        else {
          bVar2 = true;
        }
        if (bVar2) {
LAB_0000fe82:
          if (cold_start_fuel_control_enable_flag == 0) goto LAB_0000fff4;
        }
        else {
          if (((fault_status_flags_2 & 8) == 0) || ((accelerator_pedal_position & 8) == 0)) {
            bVar2 = false;
          }
          else {
            bVar2 = true;
          }
          if (bVar2) goto LAB_0000fe82;
        }
        if (cold_start_fuel_control_enable_flag == 0) {
          cold_start_sensor_reading_sum = insite_diagnostic_reading + diagnostic_sensor_reading;
        }
        else {
          cold_start_sensor_reading_sum = diagnostic_sensor_reading;
        }
        cold_start_sensor_sum_saved = cold_start_sensor_reading_sum;
        uVar4 = lookupTableInterpolation((table_interp_args_t *)&anc_altitude_table_1_size);
        uVar9 = tableInterpolationLookup((short *)&anc_disable_duration_table_size);
        uVar10 = tableInterpolationLookup((short *)&anc_speed_limit_table_1_size);
        uVar5 = (ushort)((ulonglong)uVar10 >> 0x20);
        uVar3 = proportionalCalculation
                          ((uint)cold_start_sensor_reading_sum,
                           (uint)(ushort)((ulonglong)uVar9 >> 0x20),0x400);
        if (uVar3 < 0xbb81) {
          cold_start_fuel_control_state = (word)uVar3;
        }
        else {
          cold_start_fuel_control_state = 48000;
        }
        wVar6 = cold_start_fuel_control_state;
        if (0 < (short)cold_start_fuel_limit_value) {
          uVar11 = 0x100;
          uVar3 = proportionalCalculation
                            ((int)(short)cold_start_fuel_limit_value * (uint)uVar4,0x100,0x4444);
          uVar3 = proportionalCalculation
                            ((uint)cold_start_fuel_control_state,(uVar3 & 0xffff) + 0x100,uVar11);
        }
        if (uVar3 < 0xbb81) {
          cold_start_fuel_control_state = (word)uVar3;
        }
        else {
          cold_start_fuel_control_state = 48000;
        }
        if (cold_start_fuel_control_state < uVar5) {
          iVar8 = 0x7fffffff;
          uVar7 = uVar5 - cold_start_fuel_control_state;
        }
        else {
          uVar7 = cold_start_fuel_control_state - uVar5;
          iVar8 = -0x80000000;
        }
        if (temp_below_which_cold_crank_can_run_50_293 < uVar7) {
          if ((wVar6 != 0) && (uVar4 != 0)) {
            iVar8 = rpmFuelCalculation((int)(short)(uVar5 - cold_start_fuel_control_state),0x4444,
                                       (uint)uVar4 * (uint)wVar6);
          }
          _cold_start_fuel_control_mode = 1;
          if (iVar8 < 0xab) {
            if (iVar8 < -0xaa) {
              unaff_D2w = 0xff56;
            }
            else {
              unaff_D2w = (word)iVar8;
            }
          }
          else {
            unaff_D2w = 0xaa;
          }
        }
        else {
          unaff_D2w = 0;
          _cold_start_fuel_control_mode = 1;
        }
      }
    }
  }
LAB_0000fff4:
  if (cold_start_fuel_control_enable_flag != 0 || temp_below_which_cold_crank_can_run_50_293 != 0) {
    if (((fault_status_flags_2 & 0x200) == 0) || ((accelerator_pedal_position & 0x200) == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if (!bVar2) {
      if (((fault_status_flags_2 & 0x400) == 0) || ((accelerator_pedal_position & 0x400) == 0)) {
        bVar2 = false;
      }
      else {
        bVar2 = true;
      }
      if (!bVar2) {
        if (((fault_status_flags_2 & 4) == 0) || ((accelerator_pedal_position & 4) == 0)) {
          bVar2 = false;
        }
        else {
          bVar2 = true;
        }
        if ((!bVar2) || (cold_start_fuel_control_enable_flag != 0)) {
          if (((fault_status_flags_2 & 8) == 0) || ((accelerator_pedal_position & 8) == 0)) {
            bVar2 = false;
          }
          else {
            bVar2 = true;
          }
          if ((!bVar2) || (cold_start_fuel_control_enable_flag != 0)) goto LAB_000101fa;
        }
      }
    }
  }
  if (((fault_flags_active_base & 0x2000) == 0) || ((fault_flags_enabled_base & 0x2000) == 0)) {
    bVar2 = false;
  }
  else {
    bVar2 = true;
  }
  if (!bVar2) {
    if (((fault_flags_active_base & 0x4000) == 0) || ((fault_flags_enabled_base & 0x4000) == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if (!bVar2) {
      if (the_value_above_set_speed_where_e_brakes_will_turn_off_regard_0_5_10 == 0) {
        if (time_constant_compared_with_prior_pulse_time_in_final_cold_sy_400_0 <
            time_constant_compared_with_prior_pulse_slope_in_final_cold_0_4000) {
          uVar3 = 0x7fffffff;
        }
        else {
          uVar3 = 0x80000000;
        }
      }
      else {
        iVar8 = rpmFuelCalculation(((uint)current_engine_rpm * (uint)current_fuel_demand_value) /
                                   0x1266 & 0xffff,
                                   (uint)
                                   time_constant_compared_with_prior_pulse_slope_in_final_cold_0_4000
                                   - (uint)
                                     time_constant_compared_with_prior_pulse_time_in_final_cold_sy_400_0
                                   ,(uint)
                                    the_value_above_set_speed_where_e_brakes_will_turn_off_regard_0_5_10
                                  );
        uVar3 = (uint)time_constant_compared_with_prior_pulse_time_in_final_cold_sy_400_0 + iVar8;
      }
      if ((int)uVar3 < 0x7f81) {
        if ((int)uVar3 < 0xa00) {
          uVar3 = 0xa00;
        }
      }
      else {
        uVar3 = 0x7f80;
      }
      rpm_delta_for_timing = (word)uVar3;
      if ((uint)engine_speed_limit_below_which_the_cold_crank_sync_determina_0_8000 +
          (uint)intake_manifold_temp_raw < (uVar3 & 0xffff)) {
        sVar1 = intake_manifold_temp_raw - rpm_delta_for_timing;
        uVar4 = lookupTableInterpolation((table_interp_args_t *)&anc_altitude_table_3_size);
        iVar8 = rpmFuelCalculation((uint)uVar4,(int)sVar1,0x7800);
        if (iVar8 < 0xab) {
          if (iVar8 < -0xaa) {
            unaff_D2w = 0xff56;
          }
          else {
            unaff_D2w = (word)iVar8;
          }
        }
        else {
          unaff_D2w = 0xaa;
        }
        _cold_start_fuel_control_mode = 2;
      }
      else {
        unaff_D2w = 0;
        _cold_start_fuel_control_mode = 2;
      }
    }
  }
LAB_000101fa:
  if ((short)unaff_D2w < (short)used_in_cranking_mode_0_4000) {
    oil_pressure_protection_snapshot = used_in_cranking_mode_0_4000;
  }
  else if (((short)unaff_D2w < 1) ||
          ((current_engine_rpm < replaced_old_crank_timer_count1_0 &&
           (value_used_to_detect_sync_pulse_0_100 < current_engine_rpm)))) {
    oil_pressure_protection_snapshot = unaff_D2w;
    if ((int)(uint)number_of_sync_errors_above_which_crank_fueling_will_be_inhib_0_200 <
        (int)(short)unaff_D2w) {
      oil_pressure_protection_snapshot =
           number_of_sync_errors_above_which_crank_fueling_will_be_inhib_0_200;
    }
  }
  else {
    oil_pressure_protection_snapshot = 0;
  }
  if (temp_below_which_cold_crank_can_run_50_293 != 0) {
    if (((fault_status_flags_2 & 0x200) == 0) || ((accelerator_pedal_position & 0x200) == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if (!bVar2) {
      if (((fault_status_flags_2 & 0x400) == 0) || ((accelerator_pedal_position & 0x400) == 0)) {
        bVar2 = false;
      }
      else {
        bVar2 = true;
      }
      if (!bVar2) {
        if (((fault_status_flags_2 & 4) == 0) || ((accelerator_pedal_position & 4) == 0)) {
          bVar2 = false;
        }
        else {
          bVar2 = true;
        }
        if ((!bVar2) || (cold_start_fuel_control_enable_flag != 0)) {
          if (((fault_status_flags_2 & 8) == 0) || ((accelerator_pedal_position & 8) == 0)) {
            uVar4 = 0;
          }
          else {
            uVar4 = 1;
          }
          if (uVar4 == 0) {
            cold_start_fuel_control_result = 8;
            return 0;
          }
          if (cold_start_fuel_control_enable_flag != 0) {
            cold_start_fuel_control_result = 8;
            return uVar4;
          }
        }
      }
    }
  }
  if (((fault_flags_active_base & 0x2000) == 0) || ((fault_flags_enabled_base & 0x2000) == 0)) {
    uVar4 = 0;
  }
  else {
    uVar4 = 1;
  }
  if (uVar4 == 0) {
    if (((fault_flags_active_base & 0x4000) == 0) || ((fault_flags_enabled_base & 0x4000) == 0)) {
      uVar4 = 0;
    }
    else {
      uVar4 = 1;
    }
    if (uVar4 == 0) {
      cold_start_fuel_control_result = 8;
      return 0;
    }
  }
  oil_pressure_protection_snapshot = 0;
  _cold_start_fuel_control_mode = 0;
  cold_start_fuel_control_result = 0;
  return uVar4;
}



//
// Function: timingAccumulatorClampedUpdate @ 0x00010366
//

void timingAccumulatorClampedUpdate(void)

{
  cold_start_fuel_limit_value = fuel_limit_minimum_value;
  if ((short)(oil_pressure_protection_snapshot + fuel_limit_minimum_value) < 0) {
    fuel_limit_minimum_value = 0;
  }
  else {
    fuel_limit_minimum_value = oil_pressure_protection_snapshot + fuel_limit_minimum_value;
  }
  fuel_adjustment_active_flag =
       cold_start_fuel_control_result | fuel_adjustment_active_flag & 0xfff7;
  return;
}



//
// Function: initAncSpeedLimitAndAltitudeDerate @ 0x000103a2
//

void initAncSpeedLimitAndAltitudeDerate(void)

{
  cold_start_rpm_snapshot_2 = current_engine_rpm;
  anc_duty_cycle_ptr = (dword)&duty_cycle_conversion_factor_for_cool_temp_gauge_hot_state_0_9;
  anc_min_active_time_ptr =
       (dword)&minimum_amount_of_time_which_the_anc_speed_limit_will_be_active_0_20;
  anc_altitude_table_1_size = 2;
  cold_start_rpm_snapshot_3 = current_engine_rpm;
  anc_disable_duration_ptr =
       (dword)&duration_anc_speed_limit_will_be_disabled_after_a_bare_engine_a_0_20;
  anc_disable_duration_table_size = 2;
  cold_start_sensor_sum_saved = cold_start_sensor_reading_sum;
  anc_altitude_table_1_ptr = 0x807a66;
  anc_altitude_table_1_base = 2;
  anc_altitude_table_2_ptr = 0x807a6e;
  cold_start_rpm_snapshot = current_engine_rpm;
  anc_default_fueling_ptr =
       (dword)&default_fueling_to_be_used_by_altitude_derate_if_ambient_air_p_0_100;
  anc_altitude_table_3_ptr = 0x807ad8;
  anc_altitude_table_3_size = 2;
  cold_start_rpm_snapshot_1 = current_engine_rpm;
  anc_speed_limit_table_1_ptr = 0x807af4;
  anc_speed_limit_table_1_size = 2;
  cold_start_fuel_demand_snapshot = current_fuel_demand_value;
  anc_speed_limit_table_2_ptr = 0x807b10;
  anc_speed_limit_table_2_base = 2;
  anc_speed_limit_table_3_ptr = 0x807b20;
  return;
}



//
// Function: circularBufferWriteWithStatus @ 0x00010466
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void circularBufferWriteWithStatus(void)

{
  int *piVar1;
  
  piVar1 = (int *)&vp44_buffer_start;
  do {
    while( true ) {
      if ((*piVar1 == 0) || (&vp44_buffer_start + (uint)vp44_buffer_count * 4 <= piVar1)) {
        return;
      }
      if (_vp44_transmission_index != 0) break;
      *_vp44_current_read_address = *(undefined1 *)*piVar1;
      piVar1 = piVar1 + 1;
      _vp44_transmission_index = 1;
    }
    _vp44_current_read_address = _vp44_current_read_address + 1;
    if (_vp44_end_address < _vp44_current_read_address) {
      _vp44_current_read_address = _vp44_base_address;
    }
    *_vp44_current_read_address = *(undefined1 *)*piVar1;
    piVar1 = piVar1 + 1;
    if ((_vp44_current_read_address == _vp44_current_write_address) &&
       (_vp44_current_write_address = _vp44_current_write_address + 1,
       _vp44_end_address < _vp44_current_write_address)) {
      _vp44_current_write_address = _vp44_base_address;
    }
  } while (_vp44_current_read_address != _vp44_transmission_address);
  _vp44_state_machine_index = 3;
  return;
}



//
// Function: vp44_communication_state_machine @ 0x00010504
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint vp44_communication_state_machine(undefined4 param_1)

{
  int iVar1;
  undefined2 uVar2;
  undefined4 in_D0;
  uint uVar3;
  uint uVar4;
  int *piVar5;
  
  piVar5 = (int *)&vp44_buffer_start;
  uVar2 = (undefined2)((uint)in_D0 >> 0x10);
  uVar4 = CONCAT22(uVar2,vp44_status_flags_1) & 0xffff0100;
  if ((vp44_status_flags_1 & 0x100) != 0) {
    uVar4 = CONCAT22(uVar2,_vp44_command_id);
    if ((_vp44_command_id == param_1._0_2_) && (_vp44_buffer_start != 0)) {
      if (_vp44_init_flag == 0) {
        if (1 < _vp44_buffer_size) {
          _vp44_init_flag = 1;
        }
        if ((_vp44_state_machine_index == 3) && (_vp44_comm_mode == 0)) {
          _vp44_state_machine_index = 0;
        }
        uVar4 = _vp44_state_machine_index;
        if (_vp44_state_machine_index < 4) {
          uVar4 = CONCAT22((short)(_vp44_state_machine_index >> 0x10),
                           (&switchD_00010596::switchdataD_0001059a)[_vp44_state_machine_index]);
          switch(_vp44_state_machine_index) {
          case 0:
            _vp44_transmission_active = 1;
            for (; (*piVar5 != 0 && (piVar5 < (int *)0x804c68)); piVar5 = piVar5 + 1) {
              vp44_buffer_count = vp44_buffer_count + 1;
            }
            iVar1 = _vp44_base_address - 0x2000U % (uint)vp44_buffer_count;
            _vp44_end_address = iVar1 + 0x1fff;
            uVar3 = 0x2000 / vp44_buffer_count;
            vp44_block_size = (word)uVar3;
            vp44_total_data_size = vp44_block_size * vp44_buffer_count;
            _vp44_current_read_address = _vp44_base_address;
            _vp44_current_write_address = _vp44_base_address;
            _vp44_transmission_index = 0;
            if (_vp44_comm_mode == 0) {
              _vp44_state_machine_index = 1;
              _vp44_transmission_address = iVar1 + 0x2000;
              uVar4 = circularBufferWriteWithStatus();
            }
            else {
              if (2 < _vp44_comm_state) {
                _vp44_comm_state = 0;
              }
              uVar4 = (uint)_vp44_comm_state;
              if (_vp44_comm_state == 0) {
                uVar4 = 3;
                _vp44_state_machine_index = 3;
              }
              else if (_vp44_comm_state == 1) {
                _vp44_state_machine_index = 2;
                _vp44_transmission_address =
                     (_vp44_base_address + ((int)uVar3 >> 1) * (uint)vp44_buffer_count) - 1;
                uVar4 = circularBufferWriteWithStatus();
              }
              else if (_vp44_comm_state == 2) {
                _vp44_state_machine_index = 2;
                _vp44_transmission_address = _vp44_end_address;
                uVar4 = circularBufferWriteWithStatus();
              }
            }
            break;
          case 1:
            if (_vp44_comm_mode == 0) {
              uVar4 = circularBufferWriteWithStatus();
            }
            else {
              if (2 < _vp44_comm_state) {
                _vp44_comm_state = 0;
              }
              uVar4 = (uint)_vp44_comm_state;
              if (_vp44_comm_state == 0) {
                uVar4 = 3;
                _vp44_state_machine_index = 3;
              }
              else if (_vp44_comm_state == 1) {
                _vp44_state_machine_index = 2;
                vp44_next_read_address = _vp44_current_read_address + 1;
                if (_vp44_end_address < vp44_next_read_address) {
                  vp44_next_read_address = _vp44_base_address;
                }
                _vp44_transmission_address =
                     _vp44_current_read_address +
                     ((int)(uint)vp44_block_size >> 1) * (uint)vp44_buffer_count;
                if (_vp44_end_address < _vp44_transmission_address) {
                  _vp44_transmission_address = _vp44_transmission_address - vp44_total_data_size;
                }
                uVar4 = circularBufferWriteWithStatus();
              }
              else if (_vp44_comm_state == 2) {
                _vp44_state_machine_index = 2;
                _vp44_transmission_address = _vp44_end_address;
                _vp44_current_read_address = _vp44_base_address;
                _vp44_current_write_address = _vp44_base_address;
                _vp44_transmission_index = 0;
                uVar4 = circularBufferWriteWithStatus();
              }
            }
            break;
          case 2:
            uVar4 = circularBufferWriteWithStatus();
            break;
          case 3:
            vp44_buffer_count = 0;
            _vp44_transmission_active = 0;
          }
        }
      }
      else {
        _vp44_init_flag = _vp44_init_flag + 1;
        uVar4 = CONCAT22(uVar2,_vp44_init_flag);
        if (_vp44_buffer_size <= _vp44_init_flag) {
          _vp44_init_flag = 0;
        }
      }
    }
  }
  return uVar4;
}



//
// Function: initVp44BufferAddresses @ 0x0001078e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initVp44BufferAddresses(void)

{
  _vp44_base_address = 0x809d8c;
  _can1_timer_buffer_init_value = &vp44_buffer_start;
  return;
}



//
// Function: engineRunTimeHistogramAccumulator @ 0x000107a4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint engineRunTimeHistogramAccumulator(void)

{
  int *piVar1;
  bool bVar2;
  undefined4 in_D0;
  dword dVar3;
  uint uVar4;
  byte bVar5;
  char cVar6;
  char cVar7;
  word *pwVar8;
  undefined8 uVar9;
  
  dVar3 = CONCAT22((short)((uint)in_D0 >> 0x10),engine_operating_mode_flags) & 0xffff0001;
  if (((engine_operating_mode_flags & 1) != 0) && (engine_operating_mode != ENGINE_IDLE)) {
    if (engine_runtime_total_counter == 0) {
      engine_run_counter_snapshot_0 = _engineRunCounter;
    }
    if ((hour_meter_conversion_data == 0) &&
       ((engine_runtime_histogram_counter == 0 ||
        (hour_meter_conversion_state <= engine_runtime_histogram_counter)))) {
      engine_run_counter_snapshot_1 = _engineRunCounter;
    }
    else if ((engine_runtime_histogram_counter == 0) &&
            (hour_meter_conversion_state <= hour_meter_conversion_data)) {
      engine_run_counter_snapshot_2 = _engineRunCounter;
    }
    if ((current_engine_rpm < engine_rpm_histogram_upper_threshold) &&
       (engine_rpm_histogram_lower_threshold <= current_engine_rpm)) {
      engine_runtime_histogram_accumulator = calculated_fuel_timing_value;
    }
    else {
      if (current_engine_rpm < engine_rpm_histogram_upper_threshold) {
        engine_rpm_histogram_threshold_select = engine_rpm_histogram_lower_threshold;
      }
      else {
        engine_rpm_histogram_threshold_select = engine_rpm_histogram_upper_threshold;
      }
      rpm_histogram_threshold_saved = engine_rpm_histogram_threshold_select;
      if (fuel_timing_mode_blend_factor_965a == 0x4000) {
        uVar9 = tableInterpolationLookup((short *)&engine_runtime_histogram_config_type_a);
        engine_runtime_histogram_accumulator = (word)((ulonglong)uVar9 >> 0x20);
      }
      else if (fuel_timing_mode_blend_factor_965a == 0) {
        uVar9 = tableInterpolationLookup((short *)&hour_meter_table_3_size);
        engine_runtime_histogram_accumulator = (word)((ulonglong)uVar9 >> 0x20);
      }
      else {
        uVar9 = tableInterpolationLookup((short *)&engine_runtime_histogram_config_type_a);
        hour_meter_tick_divider = (word)((ulonglong)uVar9 >> 0x20);
        uVar9 = tableInterpolationLookup((short *)&hour_meter_table_3_size);
        engine_runtime_histogram_interpolation_b = (word)((ulonglong)uVar9 >> 0x20);
        engine_runtime_histogram_accumulator =
             (short)((uint)fuel_timing_mode_blend_factor_965a * (uint)hour_meter_tick_divider >> 0xe
                    ) +
             (short)((uint)engine_runtime_histogram_interpolation_b *
                     (0x4000 - (uint)fuel_timing_mode_blend_factor_965a) >> 0xe);
      }
    }
    if (engine_runtime_histogram_accumulator == fsmxthfl_calc_input) {
      engine_runtime_histogram_delta = (dword)runtime_histogram_offset_value;
    }
    else {
      engine_runtime_histogram_delta =
           (int)(((uint)current_fuel_demand_value - (uint)fsmxthfl_calc_input) * 10000) /
           (int)((uint)engine_runtime_histogram_accumulator - (uint)fsmxthfl_calc_input);
    }
    if ((int)engine_runtime_histogram_delta < 0) {
      engine_runtime_histogram_value = 0;
      if (current_engine_rpm < engine_rpm_histogram_upper_threshold) {
        engine_runtime_histogram_index = 0x31;
      }
      else {
        engine_runtime_histogram_index = 0x32;
      }
    }
    else {
      engine_runtime_histogram_value = engine_runtime_histogram_delta._2_2_;
      cVar7 = '\b';
      cVar6 = '\x06';
      bVar2 = false;
      bVar5 = 1;
      pwVar8 = &hysteresis_added_to_postheat_stage_rpm_transitions_0_4500;
      while ((bVar5 < 9 && (!bVar2))) {
        if (current_engine_rpm <= *pwVar8) {
          bVar2 = true;
          if (bVar5 == 1) {
            cVar7 = '\x01';
          }
          else {
            cVar7 = bVar5 - 1;
          }
        }
        bVar5 = bVar5 + 1;
        pwVar8 = pwVar8 + 1;
      }
      bVar2 = false;
      bVar5 = 1;
      pwVar8 = &runtime_histogram_base_value;
      while ((bVar5 < 7 && (!bVar2))) {
        if (engine_runtime_histogram_delta._2_2_ <= *pwVar8) {
          bVar2 = true;
          if (bVar5 == 1) {
            cVar6 = '\x01';
          }
          else {
            cVar6 = bVar5 - 1;
          }
        }
        bVar5 = bVar5 + 1;
        pwVar8 = pwVar8 + 1;
      }
      engine_runtime_histogram_index = cVar7 + ('\x06' - cVar6) * '\b';
    }
    if (engine_runtime_total_counter < 3600000000) {
      piVar1 = (int *)((short)(ushort)engine_runtime_histogram_index * 4 + 0x804aee);
      *piVar1 = *piVar1 + 1;
      engine_runtime_total_counter = engine_runtime_total_counter + 1;
    }
    dVar3 = hour_meter_conversion_data;
    if ((hour_meter_conversion_data < hour_meter_conversion_state) &&
       (hour_meter_conversion_data != 0)) {
      engine_runtime_histogram_mode = INCREMENT;
    }
    else if ((hour_meter_conversion_data == 0) &&
            ((engine_runtime_histogram_counter == 0 ||
             (dVar3 = engine_runtime_histogram_counter,
             hour_meter_conversion_state <= engine_runtime_histogram_counter)))) {
      engine_runtime_histogram_mode = INCREMENT;
    }
    else if (engine_runtime_histogram_counter < hour_meter_conversion_state) {
      engine_runtime_histogram_mode = DECREMENT;
      dVar3 = engine_runtime_histogram_counter;
    }
    else {
      engine_runtime_histogram_mode = HISTOGRAM_IDLE;
      dVar3 = engine_runtime_histogram_counter;
    }
    if (engine_runtime_histogram_mode == INCREMENT) {
      uVar4 = (uint)engine_runtime_histogram_index;
      *(int *)(&engine_runtime_histogram_index + (short)(ushort)engine_runtime_histogram_index * 4)
           = *(int *)(&engine_runtime_histogram_index +
                     (short)(ushort)engine_runtime_histogram_index * 4) + 1;
      hour_meter_conversion_data = hour_meter_conversion_data + 1;
      return uVar4;
    }
    if (engine_runtime_histogram_mode == DECREMENT) {
      dVar3 = (dword)engine_runtime_histogram_index;
      piVar1 = (int *)((short)(ushort)engine_runtime_histogram_index * 4 + 0x809be4);
      *piVar1 = *piVar1 + 1;
      engine_runtime_histogram_counter = engine_runtime_histogram_counter + 1;
    }
  }
  return dVar3;
}



//
// Function: initHourMeterConversionData @ 0x00010ad8
//

void initHourMeterConversionData(void)

{
  byte bVar1;
  dword *pdVar2;
  dword *pdVar3;
  
  rpm_histogram_threshold_saved = engine_rpm_histogram_lower_threshold;
  hour_meter_table_1_ptr = 0x807f42;
  engine_runtime_histogram_config_type_a = 2;
  hour_meter_table_1_limit = 400;
  hour_meter_table_2_ptr = 0x807f68;
  hour_meter_table_2_base = 2;
  hour_meter_intake_temp_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  engine_rpm_histogram_threshold_select = engine_rpm_histogram_lower_threshold;
  hour_meter_table_3_ptr = 0x808002;
  hour_meter_table_3_size = 2;
  hour_meter_table_3_limit = 400;
  hour_meter_table_4_ptr = 0x808028;
  hour_meter_table_4_base = 2;
  hour_meter_table_5_ptr = 0x808032;
  hour_meter_conversion_state = (uint)hour_meter_multiplier * 36000;
  hour_meter_tick_counter = hour_meter_multiplier * 0x3c;
  hour_meter_conversion_data = hour_meter_conversion_state;
  if (hour_meter_stored_ticks < hour_meter_tick_counter) {
    hour_meter_conversion_data = ((uint)hour_meter_stored_ticks * 36000) / 0x3c;
  }
  engine_runtime_histogram_counter = hour_meter_conversion_state;
  if (histogram_stored_ticks < hour_meter_tick_counter) {
    engine_runtime_histogram_counter = ((uint)histogram_stored_ticks * 36000) / 0x3c;
  }
  hour_meter_conversion_init_value_1 = runtime_histogram_array_1 * 2;
  hour_meter_conversion_init_value_2 = runtime_histogram_array_2 * 2;
  bVar1 = 1;
  pdVar2 = &hour_meter_conversion_data_1;
  pdVar3 = &hour_meter_conversion_data_2;
  do {
    *pdVar2 = ((uint)(&runtime_histogram_array_1)[(short)(ushort)bVar1] * 36000) / 0x3c;
    *pdVar3 = ((uint)(&runtime_histogram_array_2)[(short)(ushort)bVar1] * 36000) / 0x3c;
    bVar1 = bVar1 + 1;
    pdVar2 = pdVar2 + 1;
    pdVar3 = pdVar3 + 1;
  } while (bVar1 < 0x33);
  return;
}



//
// Function: writeHourMeterConversionData @ 0x00010c98
//

void writeHourMeterConversionData(void)

{
  byte bVar1;
  dword *pdVar2;
  dword *pdVar3;
  
  if (hour_meter_conversion_data < hour_meter_conversion_state) {
    hour_meter_stored_ticks =
         (word)((uint)(&hour_meter_conversion_base + hour_meter_conversion_data * 0xf) / 36000);
  }
  else {
    hour_meter_stored_ticks = hour_meter_tick_counter;
  }
  if (engine_runtime_histogram_counter < hour_meter_conversion_state) {
    histogram_stored_ticks =
         (word)((uint)(&hour_meter_conversion_base + engine_runtime_histogram_counter * 0xf) / 36000
               );
  }
  else {
    histogram_stored_ticks = hour_meter_tick_counter;
  }
  bVar1 = 1;
  pdVar2 = &hour_meter_conversion_data_1;
  pdVar3 = &hour_meter_conversion_data_2;
  do {
    (&runtime_histogram_array_1)[(short)(ushort)bVar1] =
         (word)((uint)(&hour_meter_conversion_base + *pdVar2 * 0xf) / 36000);
    (&runtime_histogram_array_2)[(short)(ushort)bVar1] =
         (word)((uint)(&hour_meter_conversion_base + *pdVar3 * 0xf) / 36000);
    bVar1 = bVar1 + 1;
    pdVar2 = pdVar2 + 1;
    pdVar3 = pdVar3 + 1;
  } while (bVar1 < 0x33);
  return;
}



//
// Function: canBusConfigTypeSelector @ 0x00010d78
//

undefined4 canBusConfigTypeSelector(undefined4 param_1)

{
  char cVar1;
  
  cVar1 = (char)((uint)param_1 >> 0x10);
  if (cVar1 == (char)the_can_bus_configuration_register_0_255) {
    return 1;
  }
  if (cVar1 == (char)the_can_bit_timing_0_register_0_255) {
    return 2;
  }
  if (cVar1 == (char)the_can_bit_timing_1_register_0_255) {
    return 3;
  }
  return 4;
}



//
// Function: speedDifferenceInterpolator @ 0x00010da4
//

void speedDifferenceInterpolator(undefined4 param_1)

{
  undefined8 uVar1;
  undefined2 uVar2;
  
  speed_diff_interp_input = param_1._0_2_;
  uVar2 = 0x80;
  uVar1 = tableInterpolationLookup((short *)&manifold_temp_table_1_type);
  safeDivideWithClamp((short)((short)((ulonglong)uVar1 >> 0x20) -
                             (speed_difference_interpolation_result + param_1._2_2_)) * 0x6400,
                      CONCAT22(the_maximum_speed_a_customer_may_program_to_correspond_with_s_1_5_15
                               - boost_pressure_protection_state_bda0,uVar2));
  return;
}



//
// Function: speedBasedParameterLookup @ 0x00010e02
//

void speedBasedParameterLookup(void)

{
  speed_based_parameter_lookup_result = governor_rpm_error_value;
  manifold_temp_lookup_result_1 =
       lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_2_type);
  speed_based_parameter_lookup_result = speed_lookup_parameter_value;
  manifold_temp_lookup_result_2 =
       lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_2_type);
  speed_based_parameter_lookup_result = CRACSWAC;
  boost_pressure_protection_state_bda0 =
       lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_2_type);
  speed_based_parameter_lookup_result = CRCNDTRF;
  DPFLPSWD = lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_2_type);
  speed_based_parameter_lookup_result =
       the_minimum_speed_a_customer_may_program_to_correspond_with_s_1_5_15;
  manifold_temp_lookup_result =
       lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_2_type);
  return;
}



//
// Function: multiSpeedParameterInterpolation @ 0x00010e70
//

void multiSpeedParameterInterpolation(void)

{
  multi_speed_throttle_input = throttle_position_raw;
  speed_difference_interpolation_result =
       lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_3_type);
  speedBasedParameterLookup();
  speed_difference_interp_result_3 =
       speedDifferenceInterpolator(CONCAT22(governor_rpm_error_value,manifold_temp_lookup_result_1))
  ;
  speed_difference_interp_result_4 =
       speedDifferenceInterpolator
                 (CONCAT22(the_minimum_speed_a_customer_may_program_to_correspond_with_s_1_5_15,
                           manifold_temp_lookup_result));
  manifold_temp_calculated =
       speedDifferenceInterpolator
                 (CONCAT22(speed_lookup_parameter_value,manifold_temp_lookup_result_2));
  speed_difference_interp_result_1 =
       speedDifferenceInterpolator(CONCAT22(CRACSWAC,boost_pressure_protection_state_bda0));
  speed_difference_interp_result_2 = speedDifferenceInterpolator(CONCAT22(CRCNDTRF,DPFLPSWD));
  return;
}



//
// Function: fuelDemandPercentageCalculator @ 0x00010f08
//

void fuelDemandPercentageCalculator(void)

{
  int iVar1;
  undefined2 uVar2;
  
  fuel_demand_percentage_current = fsmxthfl_calc_input;
  speed_based_parameter_lookup_result = CRACSWAC;
  uVar2 = 0x80;
  boost_pressure_protection_state_bda0 =
       lookupTableInterpolation((table_interp_args_t *)&manifold_temp_table_2_type);
  iVar1 = safeDivideWithClamp(((int)(short)current_fuel_demand_value -
                              (int)(short)fuel_demand_percentage_current) * 0x6400,
                              CONCAT22(the_maximum_speed_a_customer_may_program_to_correspond_with_s_1_5_15
                                       - boost_pressure_protection_state_bda0,uVar2));
  fuel_demand_percentage = (word)iVar1;
  return;
}



//
// Function: initIntakeManifoldTemperatureLimits @ 0x00010f76
//

void initIntakeManifoldTemperatureLimits(void)

{
  manifold_temp_table_1_type = 2;
  manifold_temp_table_1_x_ptr = 0x807f42;
  manifold_temp_table_1_count = 400;
  manifold_temp_table_1_y_type = 2;
  manifold_temp_table_1_y_ptr = 0x807f68;
  manifold_temp_table_1_z_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  manifold_temp_table_3_type = 2;
  manifold_temp_table_3_x_ptr = 0x808862;
  manifold_temp_table_3_z_ptr = 0x808876;
  manifold_temp_table_2_type = 2;
  manifold_temp_table_2_x_ptr = 0x80883a;
  manifold_temp_table_2_z_ptr = 0x80884e;
  speedBasedParameterLookup();
  return;
}



//
// Function: diagnosticCodeDebounceHandler @ 0x00010fee
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticCodeDebounceHandler(undefined4 param_1)

{
  int iVar1;
  short sVar2;
  undefined4 unaff_D2;
  byte bVar3;
  
  bVar3 = (byte)((uint)param_1 >> 0x10);
  if ((((*(byte *)((short)((param_1._0_2_ & 0xff) * 5) * 2 + 0x804fcc) & 1) == 0) &&
      (*(char *)((int)&diagnostic_sensor_data_ptr + (uint)bVar3 * 6 + 1) != '\0')) &&
     ((&diagnostic_pid_dtc_index)[(short)((param_1._0_2_ & 0xff) * 5) * 2] != 0)) {
    iVar1 = (int)(short)((ushort)*(byte *)((int)&diagnostic_sensor_data_ptr + (uint)bVar3 * 6 + 1)
                        << 3);
    if (((*(int *)(&ivs_switch_status_when_throttle_validation_process_error_true_false +
                  (short)((param_1._0_2_ & 0xff) * 5)) == 0) &&
        (*(uint *)(iVar1 + 0x806354) <=
         (uint)(_loopCounter - *(int *)((short)((param_1._0_2_ & 0xff) * 5) * 2 + 0x804fc4)))) ||
       ((*(int *)(&ivs_switch_status_when_throttle_validation_process_error_true_false +
                 (short)((param_1._0_2_ & 0xff) * 5)) != 0 &&
        (*(uint *)(iVar1 + 0x806358) <=
         (uint)(_loopCounter -
               *(int *)(&ivs_switch_status_when_throttle_validation_process_error_true_false +
                       (short)((param_1._0_2_ & 0xff) * 5))))))) {
      sVar2 = (param_1._0_2_ & 0xff) * 10;
      *(int *)((int)&ivs_switch_status_when_throttle_validation_process_error_true_false +
              (int)sVar2) = _loopCounter;
      if ((&diagnostic_pid_dtc_index)[sVar2] != 0) {
        (&diagnostic_pid_dtc_index)[sVar2] = (&diagnostic_pid_dtc_index)[sVar2] - 1;
      }
      if ((&diagnostic_pid_dtc_index)[sVar2] == 0) {
        diagnosticTableEntryClear
                  (CONCAT22(param_1._0_2_,(short)((uint)unaff_D2 >> 0x10)) & 0xffffff);
        if ((*(char *)((int)&diagnostic_sensor_data_ptr + (uint)bVar3 * 6) != '\0') &&
           ((*(ushort *)(&dtc_fault_table_base + (uint)bVar3 * 6) & 0x40) == 0)) {
          insite_fault_detail_index = insite_fault_detail_index - 1;
        }
        diagnostic_active_code_count = diagnostic_active_code_count - 1;
        diagnostic_code_status_count = diagnostic_code_status_count - 1;
        (&diagnostic_active_code_count)[_diagnostic_queue_index] =
             (&diagnostic_active_code_count)[(short)diagnostic_queue_iterator_index];
        iVar1 = (int)(short)diagnostic_queue_iterator_index;
        diagnostic_queue_iterator_index = diagnostic_queue_iterator_index - 1;
        (&diagnostic_code_status_count)[_diagnostic_queue_index] =
             (&diagnostic_code_status_count)[iVar1];
        _diagnostic_queue_index = _diagnostic_queue_index + -1;
      }
    }
  }
  return;
}



//
// Function: phase2_sensor_data_processor @ 0x00011060
//

void phase2_sensor_data_processor(void)

{
  int iVar1;
  short sVar2;
  short in_D0w;
  byte unaff_D2b;
  int unaff_A3;
  short *unaff_A4;
  int *unaff_A5;
  undefined2 in_stack_00000000;
  
  if (((*(int *)(&ivs_switch_status_when_throttle_validation_process_error_true_false +
                (short)((ushort)unaff_D2b * 5)) == 0) &&
      (*(uint *)(in_D0w + 0x806354) <=
       (uint)(*unaff_A5 - *(int *)((short)((ushort)unaff_D2b * 5) * 2 + 0x804fc4)))) ||
     ((*(int *)(&ivs_switch_status_when_throttle_validation_process_error_true_false +
               (short)((ushort)unaff_D2b * 5)) != 0 &&
      (*(uint *)(in_D0w + 0x806358) <=
       (uint)(*unaff_A5 -
             *(int *)(&ivs_switch_status_when_throttle_validation_process_error_true_false +
                     (short)((ushort)unaff_D2b * 5))))))) {
    sVar2 = (ushort)unaff_D2b * 10;
    *(int *)((int)&ivs_switch_status_when_throttle_validation_process_error_true_false + (int)sVar2)
         = *unaff_A5;
    if ((&diagnostic_pid_dtc_index)[sVar2] != 0) {
      (&diagnostic_pid_dtc_index)[sVar2] = (&diagnostic_pid_dtc_index)[sVar2] - 1;
    }
    if ((&diagnostic_pid_dtc_index)[sVar2] == 0) {
      diagnosticTableEntryClear((uint)CONCAT12(unaff_D2b,in_stack_00000000));
      if ((*(char *)(unaff_A3 + 4 + (uint)unaff_D2b * 6) != '\0') &&
         ((*(ushort *)(unaff_A3 + 2 + (uint)unaff_D2b * 6) & 0x40) == 0)) {
        insite_fault_detail_index = insite_fault_detail_index - 1;
      }
      diagnostic_active_code_count = diagnostic_active_code_count - 1;
      diagnostic_code_status_count = diagnostic_code_status_count - 1;
      (&diagnostic_active_code_count)[*unaff_A4] =
           (&diagnostic_active_code_count)[(short)diagnostic_queue_iterator_index];
      iVar1 = (int)(short)diagnostic_queue_iterator_index;
      diagnostic_queue_iterator_index = diagnostic_queue_iterator_index - 1;
      (&diagnostic_code_status_count)[*unaff_A4] = (&diagnostic_code_status_count)[iVar1];
      *unaff_A4 = *unaff_A4 + -1;
    }
  }
  return;
}



//
// Function: diagnosticQueueIterator @ 0x000111a2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticQueueIterator(void)

{
  ushort uVar1;
  uint uVar2;
  uint unaff_D2;
  
  uVar2 = unaff_D2 >> 0x10;
  uVar1 = _diagnostic_queue_index + 1;
  if (diagnostic_queue_iterator_index < uVar1) {
    _diagnostic_queue_index = 0;
  }
  else {
    unaff_D2 = (uint)(&diagnostic_active_code_count)[(short)uVar1];
    _diagnostic_queue_index = uVar1;
  }
  diagnosticCodeDebounceHandler(CONCAT22(CONCAT11((char)(uVar1 >> 8),(char)unaff_D2),(short)uVar2));
  return;
}



//
// Function: oldestDiagnosticTimestampSearch @ 0x000111de
//

short oldestDiagnosticTimestampSearch(undefined4 param_1)

{
  short sVar1;
  short sVar2;
  short sVar3;
  uint uVar4;
  short sVar5;
  
  uVar4 = 0xffffffff;
  sVar5 = -1;
  sVar2 = 0;
  sVar3 = 0;
  do {
    sVar1 = *(short *)((int)&dtc_timestamp_array + (int)sVar3) * 10;
    if ((*(byte *)(sVar1 + 0x804fcc) == param_1._0_2_) && (*(uint *)(sVar1 + 0x804fc4) < uVar4)) {
      uVar4 = *(uint *)(sVar1 + 0x804fc4);
      sVar5 = sVar2;
    }
    sVar3 = sVar3 + 0x30;
    sVar2 = sVar2 + 1;
  } while (sVar2 < 0x14);
  return sVar5;
}



//
// Function: diagnosticCodeRegistrar @ 0x0001124a
//

void diagnosticCodeRegistrar(undefined4 param_1)

{
  ushort uVar1;
  undefined4 unaff_D2;
  short sVar2;
  short sVar3;
  undefined2 uVar4;
  
  uVar4 = (undefined2)((uint)unaff_D2 >> 0x10);
  sVar2 = 0;
  sVar3 = 0;
  do {
    if (param_1._0_2_ == *(short *)((int)&dtc_timestamp_array + (int)sVar3)) {
      diagnosticTableSnapshotCapture(CONCAT22(sVar2,param_1._0_2_));
      return;
    }
    sVar3 = sVar3 + 0x30;
    sVar2 = sVar2 + 1;
  } while (sVar2 < 0x14);
  sVar2 = 0;
  sVar3 = 0;
  do {
    if (*(short *)((int)&dtc_timestamp_array + (int)sVar3) == 0x7d) {
      diagnosticTableSnapshotCapture(CONCAT22(sVar2,param_1._0_2_));
      return;
    }
    sVar3 = sVar3 + 0x30;
    sVar2 = sVar2 + 1;
  } while (sVar2 < 0x14);
  uVar1 = oldestDiagnosticTimestampSearch(CONCAT22(2,uVar4));
  if (uVar1 < 0x14) {
    sVar2 = *(short *)(&dtc_timestamp_array + (short)(uVar1 * 6) * 2);
    diagnosticTableSnapshotCapture(CONCAT22(uVar1,param_1._0_2_));
    *(undefined1 *)((short)(sVar2 * 5) * 2 + 0x804fcc) = 0;
    return;
  }
  uVar1 = oldestDiagnosticTimestampSearch(CONCAT22(3,uVar4));
  if (uVar1 < 0x14) {
    sVar2 = *(short *)(&dtc_timestamp_array + (short)(uVar1 * 6) * 2);
    diagnosticTableSnapshotCapture(CONCAT22(uVar1,param_1._0_2_));
    *(undefined1 *)((short)(sVar2 * 5) * 2 + 0x804fcc) = 1;
  }
  return;
}



//
// Function: diagnosticCodeClearHandler @ 0x0001133c
//

void diagnosticCodeClearHandler(void)

{
  int iVar1;
  bool bVar2;
  undefined4 unaff_D2;
  byte bVar3;
  undefined2 uVar4;
  
  uVar4 = (undefined2)((uint)unaff_D2 >> 0x10);
  if ((diagnostic_code_clear_handler_state != 0) && (diagnostic_code_clear_handler_state < 0x7d)) {
    bVar2 = false;
    bVar3 = 0;
    while (!bVar2) {
      bVar3 = bVar3 + 1;
      if ((uint)diagnostic_active_code_count == bVar3 - 1) {
        bVar2 = true;
      }
      else if ((&diagnostic_active_code_count)[(short)(ushort)bVar3] ==
               diagnostic_code_clear_handler_state) {
        if ((*(char *)((int)&diagnostic_sensor_data_ptr +
                      (uint)diagnostic_code_clear_handler_state * 6) != '\0') &&
           ((*(ushort *)(&dtc_fault_table_base + (uint)diagnostic_code_clear_handler_state * 6) &
            0x40) == 0)) {
          insite_fault_detail_index = insite_fault_detail_index - 1;
        }
        bVar2 = true;
        diagnostic_active_code_count = diagnostic_active_code_count - 1;
        diagnostic_code_status_count = diagnostic_code_status_count - 1;
        (&diagnostic_active_code_count)[(short)(ushort)bVar3] =
             (&diagnostic_active_code_count)[(short)diagnostic_queue_iterator_index];
        iVar1 = (int)(short)diagnostic_queue_iterator_index;
        diagnostic_queue_iterator_index = diagnostic_queue_iterator_index - 1;
        (&diagnostic_code_status_count)[(short)(ushort)bVar3] =
             (&diagnostic_code_status_count)[iVar1];
        diagnosticTableEntryClear(CONCAT22(diagnostic_code_clear_handler_state,uVar4));
      }
    }
    diagnostic_code_clear_handler_state = 0;
    return;
  }
  if (diagnostic_code_clear_handler_state == 0) {
    for (bVar3 = 1; bVar3 <= diagnostic_active_code_count; bVar3 = bVar3 + 1) {
      diagnosticTableEntryClear
                ((uint)CONCAT12((&diagnostic_active_code_count)[(short)(ushort)bVar3],uVar4));
    }
    diagnostic_active_code_count = 0;
    diagnostic_code_status_count = 0;
    diagnostic_queue_iterator_index = 0;
    insite_fault_detail_index = 0;
    diagnostic_code_clear_handler_state = 0;
  }
  return;
}



//
// Function: diagnosticCodeMaskedClear @ 0x0001147c
//

void diagnosticCodeMaskedClear(void)

{
  int iVar1;
  undefined4 unaff_D2;
  byte bVar2;
  undefined2 uVar3;
  
  uVar3 = (undefined2)((uint)unaff_D2 >> 0x10);
  if ((insite_pid_dtc_handler_state & 0xc0) == 0x40) {
    for (bVar2 = 1; bVar2 <= diagnostic_active_code_count; bVar2 = bVar2 + 1) {
      iVar1 = (int)(short)((ushort)(&diagnostic_active_code_count)[(short)(ushort)bVar2] * 6);
      if ((*(byte *)((int)&diagnostic_sensor_data_ptr + iVar1) ==
           diagnostic_code_clear_handler_state) &&
         (((int)(uint)*(ushort *)(&dtc_fault_table_base + iVar1) >> 7 & 0x3fU) ==
          (insite_pid_dtc_handler_state & 0x3f))) {
        diagnosticTableEntryClear
                  ((uint)CONCAT12((&diagnostic_active_code_count)[(short)(ushort)bVar2],uVar3));
        (&diagnostic_active_code_count)[(short)(ushort)bVar2] =
             (&diagnostic_active_code_count)[(short)diagnostic_queue_iterator_index];
        iVar1 = (int)(short)diagnostic_queue_iterator_index;
        diagnostic_queue_iterator_index = diagnostic_queue_iterator_index - 1;
        (&diagnostic_code_status_count)[(short)(ushort)bVar2] =
             (&diagnostic_code_status_count)[iVar1];
        diagnostic_active_code_count = diagnostic_active_code_count - 1;
        diagnostic_code_status_count = diagnostic_code_status_count - 1;
        bVar2 = bVar2 - 1;
      }
    }
    diagnostic_code_clear_handler_state = 0;
    return;
  }
  for (bVar2 = 1; bVar2 <= diagnostic_active_code_count; bVar2 = bVar2 + 1) {
    diagnosticTableEntryClear
              ((uint)CONCAT12((&diagnostic_active_code_count)[(short)(ushort)bVar2],uVar3));
  }
  diagnostic_active_code_count = 0;
  diagnostic_code_status_count = 0;
  diagnostic_queue_iterator_index = 0;
  insite_fault_detail_index = 0;
  diagnostic_code_clear_handler_state = 0;
  return;
}



//
// Function: diagnosticStateMachineProcessor @ 0x000115b2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticStateMachineProcessor(void)

{
  int iVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  bool bVar5;
  undefined4 unaff_D2;
  byte bVar6;
  ushort uVar7;
  ushort uVar8;
  undefined2 uVar9;
  
  uVar9 = (undefined2)((uint)unaff_D2 >> 0x10);
  uVar2 = (&fault_flags_active_base)[(short)diagnostic_fault_group_index];
  uVar3 = (&fault_flags_history_base)[(short)diagnostic_fault_group_index];
  (&fault_flags_history_base)[(short)diagnostic_fault_group_index] = 0;
  uVar7 = 1;
  uVar8 = 0;
  do {
    if ((uVar7 & (uVar3 | uVar2)) == 0) {
      if (((((uVar7 & (&diagnostic_fault_group_bitmask_array)[(short)diagnostic_fault_group_index])
             != 0) &&
           (uVar4 = *(ushort *)((short)(uVar8 + diagnostic_fault_group_index * 0x10) * 2 + 0x806374)
           , uVar4 < 0x7d)) &&
          ((uVar7 & (&fault_flags_enabled_base)[(short)diagnostic_fault_group_index]) != 0)) &&
         ((*(char *)((short)uVar4 + 0x804f46) != '\0' &&
          (*(char *)((short)uVar4 + 0x804f46) = *(char *)((short)uVar4 + 0x804f46) + -1,
          *(char *)((short)uVar4 + 0x804f46) == '\0')))) {
        *(undefined1 *)((short)(uVar4 * 5) * 2 + 0x804fcc) = 2;
        *(undefined4 *)((short)(uVar4 * 5) * 2 + 0x804fc4) = _loopCounter;
        bVar5 = false;
        bVar6 = 0;
        while (!bVar5) {
          bVar6 = bVar6 + 1;
          if ((uint)diagnostic_pending_code_count == bVar6 - 1) {
            bVar5 = true;
          }
          else if ((&diagnostic_pending_code_count)[(short)(ushort)bVar6] == uVar4) {
            bVar5 = true;
            if ((*(char *)((int)&diagnostic_sensor_data_ptr + (uint)uVar4 * 6) != '\0') &&
               ((*(ushort *)(&dtc_fault_table_base + (uint)uVar4 * 6) & 0x40) == 0)) {
              insite_fault_detail_state = insite_fault_detail_state - 1;
              circularBufferPush(&
                                 time_key_switch_is_on_and_ecm_is_running_boot_or_application_0_2_29
                                 ,CONCAT22(uVar4,uVar9) & 0xffffff);
            }
            diagnostic_pending_code_count = diagnostic_pending_code_count - 1;
            diagnostic_pending_list_count = diagnostic_pending_list_count - 1;
            (&diagnostic_pending_code_count)[(short)(ushort)bVar6] =
                 (&diagnostic_pending_code_count)[(short)diagnostic_state_machine_index];
            iVar1 = (int)(short)diagnostic_state_machine_index;
            diagnostic_state_machine_index = diagnostic_state_machine_index - 1;
            (&diagnostic_pending_list_count)[(short)(ushort)bVar6] =
                 (&diagnostic_pending_list_count)[iVar1];
          }
        }
        if (diagnostic_active_code_count != 0x1f) {
          diagnostic_active_code_count = diagnostic_active_code_count + 1;
          diagnostic_code_status_count = diagnostic_code_status_count + 1;
          diagnostic_queue_iterator_index = diagnostic_queue_iterator_index + 1;
          (&diagnostic_active_code_count)[(short)diagnostic_queue_iterator_index] = (byte)uVar4;
          (&diagnostic_code_status_count)[(short)diagnostic_queue_iterator_index] =
               (&diagnostic_fault_parameter_array)[(uint)uVar4 * 3];
          if ((*(char *)((int)&diagnostic_sensor_data_ptr + (uint)uVar4 * 6) != '\0') &&
             ((*(ushort *)(&dtc_fault_table_base + (uint)uVar4 * 6) & 0x40) == 0)) {
            insite_fault_detail_index = insite_fault_detail_index + 1;
          }
        }
        diagnostic_active_fault_counter = diagnostic_active_fault_counter - 1;
      }
    }
    else {
      uVar4 = *(ushort *)((short)(uVar8 + diagnostic_fault_group_index * 0x10) * 2 + 0x806374);
      if ((((uVar4 < 0x7d) &&
           ((uVar7 & (&diagnostic_fault_group_bitmask_array)[(short)diagnostic_fault_group_index])
            == 0)) && (diagnostic_pending_code_count != 0x1f)) &&
         ((uVar7 & (&fault_flags_enabled_base)[(short)diagnostic_fault_group_index]) != 0)) {
        if ((&diagnostic_pid_dtc_index)[(short)(uVar4 * 5) * 2] != 0xff) {
          (&diagnostic_pid_dtc_index)[(short)(uVar4 * 5) * 2] =
               (&diagnostic_pid_dtc_index)[(short)(uVar4 * 5) * 2] + 1;
        }
        if (*(char *)((short)uVar4 + 0x804f46) == '\0') {
          diagnosticCodeRegistrar(CONCAT22(uVar4,uVar9));
          *(undefined1 *)((short)(uVar4 * 5) * 2 + 0x804fcc) = 3;
          *(undefined4 *)((short)(uVar4 * 5) * 2 + 0x804fc4) = _loopCounter;
          (&ivs_switch_status_when_throttle_validation_process_error_true_false + (short)(uVar4 * 5)
          )[0] = 0;
          (&ivs_switch_status_when_throttle_validation_process_error_true_false + (short)(uVar4 * 5)
          )[1] = 0;
          bVar5 = false;
          bVar6 = 0;
          while (!bVar5) {
            bVar6 = bVar6 + 1;
            if ((uint)diagnostic_active_code_count == bVar6 - 1) {
              bVar5 = true;
            }
            else if ((&diagnostic_active_code_count)[(short)(ushort)bVar6] == uVar4) {
              bVar5 = true;
              if ((*(char *)((int)&diagnostic_sensor_data_ptr + (uint)uVar4 * 6) != '\0') &&
                 ((*(ushort *)(&dtc_fault_table_base + (uint)uVar4 * 6) & 0x40) == 0)) {
                insite_fault_detail_index = insite_fault_detail_index - 1;
              }
              diagnostic_active_code_count = diagnostic_active_code_count - 1;
              diagnostic_code_status_count = diagnostic_code_status_count - 1;
              (&diagnostic_active_code_count)[(short)(ushort)bVar6] =
                   (&diagnostic_active_code_count)[(short)diagnostic_queue_iterator_index];
              iVar1 = (int)(short)diagnostic_queue_iterator_index;
              diagnostic_queue_iterator_index = diagnostic_queue_iterator_index - 1;
              (&diagnostic_code_status_count)[(short)(ushort)bVar6] =
                   (&diagnostic_code_status_count)[iVar1];
            }
          }
          diagnostic_pending_code_count = diagnostic_pending_code_count + 1;
          diagnostic_pending_list_count = diagnostic_pending_list_count + 1;
          diagnostic_state_machine_index = diagnostic_state_machine_index + 1;
          (&diagnostic_pending_code_count)[(short)diagnostic_state_machine_index] = (byte)uVar4;
          (&diagnostic_pending_list_count)[(short)diagnostic_state_machine_index] =
               (&diagnostic_fault_parameter_array)[(uint)uVar4 * 3];
          if ((*(char *)((int)&diagnostic_sensor_data_ptr + (uint)uVar4 * 6) != '\0') &&
             ((*(ushort *)(&dtc_fault_table_base + (uint)uVar4 * 6) & 0x40) == 0)) {
            insite_fault_detail_state = insite_fault_detail_state + 1;
            circularBufferPush(&time_key_switch_is_on_and_ecm_is_running_boot_or_application_0_2_29,
                               (uint)(uint3)(CONCAT12((byte)uVar4,uVar9) | 0x800000));
          }
          diagnostic_active_fault_counter = diagnostic_active_fault_counter + 1;
        }
        if (*(char *)((short)uVar4 + 0x804f46) != -1) {
          *(char *)((short)uVar4 + 0x804f46) = *(char *)((short)uVar4 + 0x804f46) + '\x01';
        }
      }
    }
    uVar7 = uVar7 * 2;
    uVar8 = uVar8 + 1;
  } while (uVar8 < 0x10);
  (&diagnostic_fault_group_bitmask_array)[(short)diagnostic_fault_group_index] = uVar3 | uVar2;
  return;
}



//
// Function: faultFlagScannerAndProcessor @ 0x00011a0a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void faultFlagScannerAndProcessor(void)

{
  ushort uVar1;
  int iVar2;
  ushort uVar3;
  word *pwVar4;
  
  for (iVar2 = 0;
      ((((&fault_flags_active_base)[(short)diagnostic_fault_group_index] == 0 &&
        ((&fault_flags_history_base)[(short)diagnostic_fault_group_index] == 0)) &&
       ((&diagnostic_fault_group_bitmask_array)[(short)diagnostic_fault_group_index] == 0)) &&
      (iVar2 < 0x20)); iVar2 = iVar2 + 1) {
    diagnostic_fault_group_index = diagnostic_fault_group_index + 1;
    if (0x1f < diagnostic_fault_group_index) {
      diagnostic_fault_group_index = 0;
    }
  }
  if (iVar2 < 0x20) {
    diagnosticStateMachineProcessor();
    diagnostic_fault_group_index = diagnostic_fault_group_index + 1;
    if (0x1f < diagnostic_fault_group_index) {
      diagnostic_fault_group_index = 0;
    }
  }
  if ((fault_flag_scanner_state & 1) == 0) {
    if ((fault_flag_scanner_state & 2) != 0) {
      diagnosticCodeMaskedClear();
      fault_flag_scanner_state = 0;
    }
  }
  else {
    diagnosticCodeClearHandler();
    fault_flag_scanner_state = 0;
  }
  if (0x18 < (uint)(_loopCounter - _fault_scanner_loop_timestamp)) {
    uVar1 = 1;
    uVar3 = 0;
    pwVar4 = &fault_flag_bitmap_table_1_base;
    do {
      if (((uint)(&vp44_communication_status)[(int)(uint)*pwVar4 >> 3] & 1 << (*pwVar4 & 7)) == 0) {
        _fault_flag_snapshot_register_3 = ~uVar1 & _fault_flag_snapshot_register_3;
      }
      else {
        _fault_flag_snapshot_register_3 = uVar1 | _fault_flag_snapshot_register_3;
      }
      uVar1 = uVar1 * 2;
      pwVar4 = pwVar4 + 1;
      uVar3 = uVar3 + 1;
    } while (uVar3 < 0x10);
    uVar1 = 1;
    uVar3 = 0;
    pwVar4 = &fault_flag_bitmap_table_2_base;
    do {
      if (((uint)(&vp44_communication_status)[(int)(uint)*pwVar4 >> 3] & 1 << (*pwVar4 & 7)) == 0) {
        _fault_flag_snapshot_register_2 = ~uVar1 & _fault_flag_snapshot_register_2;
      }
      else {
        _fault_flag_snapshot_register_2 = uVar1 | _fault_flag_snapshot_register_2;
      }
      uVar1 = uVar1 * 2;
      pwVar4 = pwVar4 + 1;
      uVar3 = uVar3 + 1;
    } while (uVar3 < 0x10);
    uVar1 = 1;
    uVar3 = 0;
    pwVar4 = &fault_flag_bitmap_table_3_base;
    do {
      if (((uint)(&vp44_communication_status)[(int)(uint)*pwVar4 >> 3] & 1 << (*pwVar4 & 7)) == 0) {
        _fault_flag_snapshot_register_1 = ~uVar1 & _fault_flag_snapshot_register_1;
      }
      else {
        _fault_flag_snapshot_register_1 = uVar1 | _fault_flag_snapshot_register_1;
      }
      uVar1 = uVar1 * 2;
      pwVar4 = pwVar4 + 1;
      uVar3 = uVar3 + 1;
    } while (uVar3 < 0x10);
    diagnosticQueueIterator();
    _fault_scanner_loop_timestamp = _loopCounter;
  }
  return;
}



//
// Function: insitePidDtcHandler @ 0x00011ba0
//

void insitePidDtcHandler(undefined4 param_1)

{
  bool bVar1;
  short sVar2;
  byte bVar3;
  word *pwVar4;
  
  bVar1 = false;
  insite_parameter_lookup_state = 0;
  pwVar4 = &diagnostic_fault_parameter_array;
  sVar2 = 0;
  for (bVar3 = 0; (!bVar1 && (bVar3 < 0x7d)); bVar3 = bVar3 + 1) {
    if (((char)((uint)param_1 >> 0x10) == *(char *)(pwVar4 + 2)) &&
       (((insite_pid_dtc_handler_state & 0x3f) == ((int)(uint)pwVar4[1] >> 7 & 0x3fU) &&
        ((&diagnostic_pid_dtc_index)[sVar2] != 0)))) {
      insite_parameter_lookup_state = *pwVar4;
      bVar1 = true;
    }
    sVar2 = sVar2 + 10;
    pwVar4 = pwVar4 + 3;
  }
  return;
}



//
// Function: initHourMeterSystem @ 0x00011c0c
//

void initHourMeterSystem(void)

{
  undefined2 in_stack_00000000;
  
  circularBufferInit(&time_key_switch_is_on_and_ecm_is_running_boot_or_application_0_2_29,0x80bdb6,
                     CONCAT22(10,in_stack_00000000));
  return;
}



//
// Function: vp44_status_data_collector @ 0x00011c28
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort vp44_status_data_collector(void)

{
  uint uVar1;
  uint uVar2;
  undefined4 unaff_D2;
  short local_12;
  uint local_10;
  undefined4 local_c;
  undefined4 local_8;
  
  local_8 = CONCAT13(qsm_test_reg_low,
                     CONCAT12(qsm_test_reg_high,CONCAT11(qsm_config_reg_low,qsm_config_reg_high)));
  local_c._1_3_ = (uint3)CONCAT11(qsm_int_vector_reg,qsm_int_level_reg);
  local_c = CONCAT13(sim_rsr,local_c._1_3_);
  local_10 = (uint)sim_swsr;
  vp44_status_buffer_start = qsm_config_reg_high;
  vp44_status_byte1 = qsm_config_reg_low;
  vp44_status_byte2 = qsm_test_reg_high;
  vp44_status_byte3 = qsm_test_reg_low;
  vp44_status_byte4 = qsm_int_level_reg;
  vp44_status_byte5 = qsm_int_vector_reg;
  vp44_status_byte6 = 0;
  vp44_status_byte7 = sim_rsr;
  vp44_status_byte8 = sim_swsr;
  (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] = _vp44_xor_mask_1 ^ local_8;
  *(uint *)(&vp44_extended_array_0 + (short)(ushort)vp44_buffer_index * 4) =
       _vp44_xor_mask_2 ^ local_c;
  *(uint *)(&vp44_third_array_0 + (short)(ushort)vp44_buffer_index * 4) =
       _high_limit_for_cruise_rsg_error_delta_0_255 ^ local_10;
  if ((vp44_flag_register_1 & 0x400) != 0) {
    (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] =
         (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] ^ 0x400;
  }
  if ((vp44_flag_register_1 & 0x800) != 0) {
    (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] =
         (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] ^ 0x800;
  }
  if ((_vp44_flag_register_2 & 1) != 0) {
    (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] =
         (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] ^ 2;
  }
  if ((_vp44_flag_register_2 & 2) != 0) {
    (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] =
         (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] ^ 4;
  }
  if ((_vp44_flag_register_2 & 4) != 0) {
    (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] =
         (&vp44_status_array_0)[(short)(ushort)vp44_buffer_index] ^ 8;
  }
  uVar2 = _vp44_status_array_3 | _vp44_status_array_2 | _vp44_status_array_1 | vp44_status_array_0;
  uVar1 = _vp44_status_array_3 & _vp44_status_array_2 & _vp44_status_array_1 & vp44_status_array_0;
  local_8._3_1_ = (byte)uVar2;
  local_c._3_1_ = (byte)uVar1;
  vp44_communication_status =
       ((byte)local_c | (byte)local_8 & vp44_communication_status) & ~_vp44_mask_array[1] |
       vp44_forced_status_1 & _vp44_mask_array[1];
  local_8._2_1_ = (byte)(uVar2 >> 8);
  local_c._2_1_ = (byte)(uVar1 >> 8);
  derate_status_byte =
       *_vp44_mask_array & vp44_forced_status_2 |
       ~*_vp44_mask_array & (local_c._2_1_ | local_8._2_1_ & derate_status_byte);
  local_8._1_1_ = (byte)(uVar2 >> 0x10);
  local_c._1_1_ = (byte)(uVar1 >> 0x10);
  vp44_sensor_history_state =
       (local_c._1_1_ | local_8._1_1_ & vp44_sensor_history_state) & ~_vp44_mask_array[3] |
       vp44_forced_status_3 & _vp44_mask_array[3];
  local_8._0_1_ = (byte)(uVar2 >> 0x18);
  local_c._0_1_ = (byte)(uVar1 >> 0x18);
  vp44_sensor_diagnostic_state_bdc9 =
       vp44_forced_status_4 & _vp44_mask_array[2] |
       ~_vp44_mask_array[2] & (local_c._0_1_ | local_8._0_1_ & vp44_sensor_diagnostic_state_bdc9);
  uVar2 = _vp44_extended_array_3 |
          _vp44_extended_array_2 | _vp44_extended_array_1 | _vp44_extended_array_0;
  uVar1 = _vp44_extended_array_3 &
          _vp44_extended_array_2 & _vp44_extended_array_1 & _vp44_extended_array_0;
  local_8._3_1_ = (byte)uVar2;
  local_c._3_1_ = (byte)uVar1;
  io_control_state_delay =
       ((byte)local_c | (byte)local_8 & io_control_state_delay) & ~_vp44_mask_array[5] |
       vp44_forced_status_5 & _vp44_mask_array[5];
  local_8._2_1_ = (byte)(uVar2 >> 8);
  local_c._2_1_ = (byte)(uVar1 >> 8);
  vp44_io_can_fault_state =
       vp44_forced_status_6 & _vp44_mask_array[4] |
       ~_vp44_mask_array[4] & (local_c._2_1_ | local_8._2_1_ & vp44_io_can_fault_state);
  if (_vp44_extended_processing_enable != 0) {
    local_8._1_1_ = (byte)(uVar2 >> 0x10);
    local_c._1_1_ = (byte)(uVar1 >> 0x10);
    sensor_status_register =
         (local_c._1_1_ | local_8._1_1_ & sensor_status_register) & ~_vp44_mask_array[7] |
         vp44_forced_status_7 & _vp44_mask_array[7];
  }
  local_8._0_1_ = (byte)(uVar2 >> 0x18);
  local_c._0_1_ = (byte)(uVar1 >> 0x18);
  vp44_extended_status_byte_4 =
       (local_c._0_1_ | local_8._0_1_ & vp44_extended_status_byte_4) & ~_vp44_mask_array[6] |
       vp44_forced_status_8 & _vp44_mask_array[6];
  local_8 = vp44_third_array_3 | vp44_third_array_2 | vp44_third_array_1 | _vp44_third_array_0;
  local_c = vp44_third_array_3 & vp44_third_array_2 & vp44_third_array_1 & _vp44_third_array_0;
  vp44_status_history_flag =
       ((byte)local_c | (byte)local_8 & vp44_status_history_flag) & ~_vp44_mask_array[9] |
       vp44_forced_status_9 & _vp44_mask_array[9];
  if ((_vp44_comm_bit0_prev_state != 0) && ((vp44_communication_status & 1) == 0)) {
    local_12 = vp44_comm_bit0_counter + 1;
    parameterCircularBufferWrite
              (0x803678,(undefined1 *)&local_12,CONCAT22(2,(short)((uint)unaff_D2 >> 0x10)));
  }
  _vp44_comm_bit0_prev_state = (byte)-((vp44_communication_status & 1) != 0) & 1;
  if (_vp44_extended_processing_enable != 0) {
    if ((vp44_communication_status & 8) == 0) {
      sensor_status_register = sensor_status_register & 0xef;
    }
    else {
      sensor_status_register = sensor_status_register | 0x10;
    }
    if ((vp44_communication_status & 4) == 0) {
      sensor_status_register = sensor_status_register & 0xfb;
    }
    else {
      sensor_status_register = sensor_status_register | 4;
    }
    if ((vp44_communication_status & 2) == 0) {
      sensor_status_register = sensor_status_register & 0xfe;
    }
    else {
      sensor_status_register = sensor_status_register | 1;
    }
    if (((vp44_communication_status & 2) == 0) || ((vp44_communication_status & 4) == 0)) {
      sensor_status_register = sensor_status_register & 0xdf;
    }
    else {
      sensor_status_register = sensor_status_register & 0xfa | 0x20;
    }
    if ((vp44_communication_status & 4) == 0) {
      vp44_comm_bit2_debounce_timer = 0;
      if (vp44_sensor_type_selector == 1) {
        sensor_status_register = sensor_status_register & 0xfd;
      }
      else {
        sensor_status_register = sensor_status_register & 0xf7;
      }
    }
    else {
      vp44_comm_bit2_debounce_timer = vp44_comm_bit2_debounce_timer + 1;
      if ((0x18 < vp44_comm_bit2_debounce_timer) &&
         (vp44_comm_bit2_debounce_timer = 0x19, (sensor_status_register & 0x20) == 0)) {
        if (vp44_sensor_type_selector == 1) {
          sensor_status_register = sensor_status_register | 2;
        }
        else {
          sensor_status_register = sensor_status_register | 8;
        }
      }
    }
    if ((vp44_communication_status & 2) == 0) {
      vp44_comm_bit1_debounce_timer = 0;
      if (vp44_sensor_type_selector == 1) {
        sensor_status_register = sensor_status_register & 0xf7;
      }
      else {
        sensor_status_register = sensor_status_register & 0xfd;
      }
    }
    else {
      vp44_comm_bit1_debounce_timer = vp44_comm_bit1_debounce_timer + 1;
      if ((0x18 < vp44_comm_bit1_debounce_timer) &&
         (vp44_comm_bit1_debounce_timer = 0x19, (sensor_status_register & 0x20) == 0)) {
        if (vp44_sensor_type_selector == 1) {
          sensor_status_register = sensor_status_register | 8;
        }
        else {
          sensor_status_register = sensor_status_register | 2;
        }
      }
    }
  }
  if (((vp44_sensor_diagnostic_state_bdc9 & 1) != 0) == ((vp44_sensor_history_state & 0x20) != 0)) {
    vp44_sensor_fault_debounce_timer = vp44_sensor_fault_debounce_timer + 1;
    if (0x31 < vp44_sensor_fault_debounce_timer) {
      engine_fault_register_a = engine_fault_register_a | 0x800;
      engine_fault_register_c = engine_fault_register_c | 0x800;
    }
  }
  else {
    vp44_sensor_fault_debounce_timer = 0;
    if (((engine_fault_register_a & 0x800) != 0) && ((engine_fault_register_c & 0x800) == 0)) {
      engine_fault_register_a = engine_fault_register_a & 0xf7ff;
    }
  }
  if (((derate_status_byte & 0x20) == 0) || ((derate_status_byte & 0x40) == 0)) {
    vp44_derate_fault_debounce_timer = 0;
    if (((io_fault_status_reg_4 & 2) != 0) && ((io_fault_latch_reg_4 & 2) == 0)) {
      io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfffd;
    }
  }
  else {
    vp44_derate_fault_debounce_timer = vp44_derate_fault_debounce_timer + 1;
    if (0x31 < vp44_derate_fault_debounce_timer) {
      io_fault_status_reg_4 = io_fault_status_reg_4 | 2;
      io_fault_latch_reg_4 = io_fault_latch_reg_4 | 2;
    }
  }
  emptyStubFunction4();
  if ((vp44_flag_register_1 & 0x10) == 0) {
    if ((vp44_sensor_history_state & 2) == 0) {
      vp44_fuel_temperature_state = vp44_fuel_temperature_state & 0xfe;
    }
    else {
      vp44_fuel_temperature_state = vp44_fuel_temperature_state | 1;
    }
  }
  else if ((vp44_sensor_diagnostic_state_bdc9 & 4) == 0) {
    vp44_fuel_temperature_state = vp44_fuel_temperature_state & 0xfe;
  }
  else {
    vp44_fuel_temperature_state = vp44_fuel_temperature_state | 1;
  }
  vp44_buffer_index = vp44_buffer_index + 1;
  if (3 < vp44_buffer_index) {
    vp44_buffer_index = 0;
  }
  return vp44_flag_register_1 & 0x10;
}



//
// Function: ioControlAndCanPinSwitching @ 0x000122d0
//

void ioControlAndCanPinSwitching(void)

{
  SIM_CAN_CONTROL_PORT_1 = io_control_source_register;
  SIM_CAN_CONTROL_PORT_2 = io_control_flags & 0xfe | ~io_control_flags & 1;
  sim_rsr = sim_data_direction_control;
  if ((~can_pin_switching_control_flags & 0x20) == 0) {
    can1_canidar2 = can1_canidar2 & 0xf3ff | 0x800;
  }
  else {
    can1_canidar2 = can1_canidar2 & 0xf3ff | 0x400;
  }
  return;
}



//
// Function: initVP44StatusMonitoring @ 0x00012356
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initVP44StatusMonitoring(void)

{
  byte bVar1;
  
  _vp44_mask_array = 0x8035ee;
  bVar1 = 0;
  do {
    vp44_status_data_collector();
    bVar1 = bVar1 + 1;
  } while (bVar1 < 4);
  return;
}



//
// Function: initCANBus @ 0x00012376
//

void initCANBus(void)

{
  qsm_sci_control_0_high = 0xf;
  qsm_sci_control_0_low = 0x80;
  qsm_sci_control_1_high = 0x80;
  SIM_CAN_CONTROL_PORT_1 = 0;
  sim_data_direction_control = sim_data_direction_control | 0x10;
  can1_cantbsel = can1_cantbsel & 0xdfff;
  can1_canidmr2 = can1_canidmr2 & 0xdfff;
  can1_canidac = can1_canidac & 0xff0f | 0xe0;
  IMB_PICR = 0x113;
  can1_canidmr0 = can1_canidmr0 & 0xf3ff | 0x400;
  do {
  } while ((IMB_PITR & 0x8000) != 0);
  do {
  } while ((IMB_PITR & 0x8000) == 0);
  do {
  } while ((IMB_PITR & 0x8000) != 0);
  SIM_CAN_CONTROL_PORT_2 = SIM_CAN_CONTROL_PORT_2 & 0x7f | 0x80;
  can1_canidar2 = can1_canidar2 & 0xf3ff | 0x400;
  can_pin_switching_control_flags = can_pin_switching_control_flags | 0x20;
  io_control_source_register = io_control_source_register & 0xfa | 0x80;
  io_control_flags = io_control_flags | 1;
  output_control_status_byte = output_control_status_byte | 1;
  ioControlAndCanPinSwitching();
  return;
}



//
// Function: emptyStubFunction4 @ 0x00012482
//

void emptyStubFunction4(void)

{
  return;
}



//
// Function: diagnosticCommandDispatcher @ 0x00012484
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticCommandDispatcher(void)

{
  undefined1 uVar1;
  char cVar2;
  ushort uVar3;
  uint uVar4;
  char securityCheckResult;
  char cVar6;
  undefined4 uVar5;
  undefined4 unaff_D2;
  byte bVar7;
  byte *pbVar8;
  byte subFunctionCode;
  undefined2 uVar9;
  ushort uVar10;
  undefined2 local_18;
  byte abStack_16 [10];
  undefined4 local_c;
  byte *messageDataPtr;
  ushort responsePrefix;
  char messageLength;
  
  uVar3 = hardware_timer_register._0_2_;
  responsePrefix = (ushort)((uint)unaff_D2 >> 0x10);
  if ((can_buffer_write_pending != 0) && (uVar4 = circularBufferEmptyCheck(), (char)uVar4 != '\0'))
  {
    can_buffer_write_pending = 0;
    diagnosticMessageQueueWrite((uint)responsePrefix);
  }
  do {
    if ((499 < (int)((uint)hardware_timer_register._0_2_ - (uint)uVar3)) ||
       ((_can_tx_message_type == _enables_input_of_eps_period_data_to_pptb_0_1 &&
        (tpu_transmission_active_flag != 1)))) {
      return;
    }
    messageLength = *_enables_input_of_eps_period_data_to_pptb_0_1;
    messageDataPtr._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
    cVar6 = (char)messageDataPtr;
    messageDataPtr._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
    messageDataPtr = (byte *)CONCAT31(messageDataPtr._0_3_,(char)messageDataPtr + '\x01');
    if (*messageDataPtr < 8) {
      if ((_diagnostic_service_enable_flags & 1) != 0) {
        switch(*messageDataPtr) {
        case 3:
          messageDataPtr = (byte *)CONCAT31(messageDataPtr._0_3_,cVar6 + '\x02');
          bVar7 = 0;
          pbVar8 = abStack_16;
          do {
            *pbVar8 = *messageDataPtr;
            messageDataPtr = (byte *)CONCAT31(messageDataPtr._0_3_,(char)messageDataPtr + '\x01');
            bVar7 = bVar7 + 1;
            pbVar8 = pbVar8 + 1;
          } while (bVar7 < 10);
          securityCheckResult = systemSecurityCheckStub_AlwaysPasses();
          if (securityCheckResult == '\0') {
            switch(*messageDataPtr) {
            case 0x40:
              cVar6 = waterInFuelFaultClear();
              break;
            case 0x41:
              cVar6 = waterInFuelFaultValidation();
              break;
            case 0x42:
              cVar6 = activateHighRpmShutdownFlag();
              break;
            case 0x43:
              cVar6 = triggerDiagnosticSystemReset();
              break;
            default:
              cVar6 = '\x18';
              break;
            case 0x50:
              cVar6 = '\0';
              break;
            case 0x51:
              uVar4 = memoryPatchingSystem();
              cVar6 = (char)uVar4;
              break;
            case 0x52:
              cVar6 = requestSecuredShutdown();
              break;
            case 0x53:
              cVar6 = '\x04';
              break;
            case 0x54:
              uVar5 = canMessageBufferLogger();
              cVar6 = (char)uVar5;
            }
            if (cVar6 != -1) {
              diagnosticMessageQueueWrite((uint)CONCAT12(cVar6,responsePrefix));
            }
          }
          else {
            diagnosticMessageQueueWrite(CONCAT22(3,responsePrefix));
          }
          break;
        case 4:
          messageDataPtr = (byte *)CONCAT31(messageDataPtr._0_3_,cVar6 + '\x02');
          switch(*messageDataPtr) {
          case 100:
            systemControl64();
            break;
          case 0x65:
            uVar10 = 0;
            enableFaultFlagScanner();
            diagnosticMessageQueueWrite((uint)uVar10);
            break;
          case 0x66:
            diagnostic_command_state = 0;
            diagnosticMessageQueueWrite((uint)responsePrefix);
            break;
          default:
            diagnosticMessageQueueWrite(CONCAT22(0x18,responsePrefix));
            break;
          case 0x69:
            uVar9 = 0;
            uVar4 = waterInFuelDetectionStateInit();
            diagnosticMessageQueueWrite((uint)CONCAT12((char)uVar4,uVar9));
            break;
          case 0x70:
          case 0x72:
          case 0x76:
            diagnosticMessageQueueWrite(CONCAT22(4,responsePrefix));
            break;
          case 0x71:
            diagnostic_command_state = diagnostic_command_state | 1;
            diagnosticMessageQueueWrite((uint)responsePrefix);
            break;
          case 0x73:
            diagnostic_command_state = diagnostic_command_state | 2;
            diagnosticMessageQueueWrite((uint)responsePrefix);
            break;
          case 0x74:
            systemControl74();
            break;
          case 0x75:
            systemControl75();
          }
          break;
        case 5:
          messageDataPtr = (byte *)CONCAT31(messageDataPtr._0_3_,cVar6 + '\x02');
          if (((*messageDataPtr & 0xf) == 0) && ((*messageDataPtr & 0xf0) != 0xf0)) {
            cVar2 = messageLength + -1 + cVar6;
            local_c = (undefined1 *)CONCAT31(messageDataPtr._0_3_,cVar2);
            uVar1 = *local_c;
            local_c = (undefined1 *)CONCAT31(messageDataPtr._0_3_,cVar2 + '\x01');
            local_18 = CONCAT11(*local_c,uVar1);
            local_c = (undefined1 *)CONCAT31(messageDataPtr._0_3_,cVar6 + '\x03');
            uVar5 = crc16Calculate((byte *)CONCAT22((short)((uint)
                                                  _enables_input_of_eps_period_data_to_pptb_0_1 >>
                                                  0x10),(short)local_c),
                                   (uint)CONCAT12(messageLength + -4,responsePrefix));
            if ((short)uVar5 != local_18) {
              diagnosticMessageQueueWrite(CONCAT22(0x14,responsePrefix));
              break;
            }
          }
          bVar7 = *messageDataPtr & 0xf0;
          if (bVar7 == 0x60) {
            diagnosticMemoryReadHandler(CONCAT22(3,responsePrefix));
          }
          else if (bVar7 == 0xc0) {
            diagnosticMemoryReadHandler(CONCAT22(2,responsePrefix));
          }
          else if (bVar7 == 0x80) {
            diagnosticMemoryWriteHandler(CONCAT22(4,responsePrefix));
          }
          else if (bVar7 == 0xe0) {
            diagnosticMemoryReadHandler(CONCAT22(1,responsePrefix));
          }
          else if (bVar7 == 0xa0) {
            diagnosticMemoryWriteHandler(CONCAT22(2,responsePrefix));
          }
          else if (bVar7 == 0xf0) {
            multiPacketTransmitHandler();
          }
          else if (bVar7 == 0xb0) {
            multiPacketReceiveHandler();
          }
          else {
            diagnosticMessageQueueWrite(CONCAT22(4,responsePrefix));
          }
          break;
        case 6:
          messageDataPtr = (byte *)CONCAT31(messageDataPtr._0_3_,cVar6 + '\x02');
          if ((*messageDataPtr == 0x74) && (tpu_diagnostic_retry_counter != 0)) {
            diagnosticMessageQueueWrite(CONCAT22(1,responsePrefix));
            tpu_diagnostic_retry_counter = tpu_diagnostic_retry_counter - 1;
            diag_multipacket_transmit_pending = 0;
            if (multi_packet_receive_state != 0) {
              memoryPatchCountDecrement();
              multi_packet_receive_state = 0;
            }
          }
        }
      }
    }
    else if (*messageDataPtr < 0x80) {
      if (((0x44 < *messageDataPtr) && (*messageDataPtr < 0x57)) &&
         ((_diagnostic_service_enable_flags & 4) != 0)) {
        switch(*messageDataPtr) {
        case 0x4a:
          fuelArbitratorControlService();
          break;
        case 0x4c:
          extendedDiagnosticService4C();
          break;
        case 0x4f:
          extendedDiagnosticService4F();
          break;
        case 0x51:
          extendedDiagnosticService51();
        }
      }
    }
    else if ((_diagnostic_service_enable_flags & 2) != 0) {
      insiteLiveDataHandler();
    }
    _enables_input_of_eps_period_data_to_pptb_0_1 =
         (char *)CONCAT31(_enables_input_of_eps_period_data_to_pptb_0_1,
                          messageLength + '\x01' + CSSYSSCM);
    tpu_transmission_active_flag = 0;
    tpu_cier = tpu_cier | 0x20;
  } while( true );
}



//
// Function: safeDivideWithClamp @ 0x00012966
//

int safeDivideWithClamp(uint param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  
  if ((((int)param_1 < 0) || (param_2 < 0)) && ((-1 < (int)param_1 || (-1 < param_2)))) {
    if (param_2._0_2_ * -0x8000 < 0) {
      uVar1 = param_2._0_2_ * 0x8000;
    }
    else {
      uVar1 = param_2._0_2_ * -0x8000;
    }
    uVar2 = param_1;
    if ((int)param_1 < 0) {
      uVar2 = -param_1;
    }
    if (uVar2 < uVar1) {
      return (int)param_1 / (int)param_2._0_2_;
    }
    return CONCAT22((short)(uVar1 >> 0x10),0x8000);
  }
  if (param_2._0_2_ * 0x7fff < 0) {
    uVar1 = param_2._0_2_ * -0x7fff;
  }
  else {
    uVar1 = param_2._0_2_ * 0x7fff;
  }
  uVar2 = param_1;
  if ((int)param_1 < 0) {
    uVar2 = -param_1;
  }
  if (uVar2 < uVar1) {
    return (int)param_1 / (int)param_2._0_2_;
  }
  return CONCAT22((short)(uVar1 >> 0x10),0x7fff);
}



//
// Function: clampedDivisionCalculator @ 0x00012a26
//

uint clampedDivisionCalculator(uint param_1,uint param_2,int param_3)

{
  undefined2 uVar1;
  undefined4 in_D0;
  uint uVar2;
  uint uVar3;
  
  uVar1 = (undefined2)((uint)in_D0 >> 0x10);
  if ((((int)param_1 < 0) || ((int)param_2 < 0)) && ((-1 < (int)param_1 || (-1 < (int)param_2)))) {
    if (-1 < param_3) {
      return CONCAT22(uVar1,param_3._0_2_);
    }
    if ((int)param_2._0_2_ * (int)param_3._0_2_ < 0) {
      uVar2 = -((int)param_2._0_2_ * (int)param_3._0_2_);
    }
    else {
      uVar2 = (int)param_2._0_2_ * (int)param_3._0_2_;
    }
    uVar3 = param_1;
    if ((int)param_1 < 0) {
      uVar3 = -param_1;
    }
    if (uVar3 < uVar2) {
      uVar2 = (int)param_1 / (int)param_2._0_2_;
      if ((short)uVar2 < param_2._2_2_) {
        return uVar2;
      }
      return CONCAT22((short)(uVar2 >> 0x10),param_2._2_2_);
    }
    return CONCAT22((short)(uVar2 >> 0x10),param_3._0_2_);
  }
  if (param_2._2_2_ < 1) {
    return CONCAT22(uVar1,param_2._2_2_);
  }
  if ((int)param_2._0_2_ * (int)param_2._2_2_ < 0) {
    uVar2 = -((int)param_2._0_2_ * (int)param_2._2_2_);
  }
  else {
    uVar2 = (int)param_2._0_2_ * (int)param_2._2_2_;
  }
  uVar3 = param_1;
  if ((int)param_1 < 0) {
    uVar3 = -param_1;
  }
  if (uVar3 < uVar2) {
    uVar2 = (int)param_1 / (int)param_2._0_2_;
    if (param_3._0_2_ < (short)uVar2) {
      return uVar2;
    }
    return CONCAT22((short)(uVar2 >> 0x10),param_3._0_2_);
  }
  return CONCAT22((short)(uVar2 >> 0x10),param_2._2_2_);
}



//
// Function: param_address_calc @ 0x00012afa
//

uint param_address_calc(uint param_1,undefined4 param_2)

{
  if ((uint)param_2._0_2_ * 0xffff <= param_1) {
    return CONCAT22((short)((uint)param_2._0_2_ * 0xffff >> 0x10),0xffff);
  }
  return param_1 / param_2._0_2_;
}



//
// Function: limitedDivisionCalculator @ 0x00012b30
//

uint limitedDivisionCalculator(uint param_1,uint param_2,undefined4 param_3)

{
  uint uVar1;
  
  uVar1 = (uint)param_2._0_2_ * (param_2 & 0xffff);
  if (uVar1 <= param_1) {
    return CONCAT22((short)(uVar1 >> 0x10),param_2._2_2_);
  }
  uVar1 = param_1 / param_2._0_2_;
  if ((ushort)uVar1 <= param_3._0_2_) {
    return CONCAT22((short)(uVar1 >> 0x10),param_3._0_2_);
  }
  return uVar1;
}



//
// Function: multiPacketTransmitHandler @ 0x00012b74
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void multiPacketTransmitHandler(void)

{
  undefined1 uVar1;
  dword dVar2;
  char cVar3;
  char cVar6;
  int iVar4;
  undefined4 uVar5;
  undefined4 unaff_D2;
  byte bVar7;
  byte bVar8;
  byte bVar9;
  undefined2 uVar10;
  undefined4 local_c;
  undefined4 local_8;
  
  dVar2 = can_transmit_buffer_ptr;
  uVar10 = (undefined2)((uint)unaff_D2 >> 0x10);
  diag_multipacket_transmit_pending = 0;
  if (*_enables_input_of_eps_period_data_to_pptb_0_1 == '\x06') {
    local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
    cVar3 = (char)local_8;
    local_8._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
    local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x03');
    uVar1 = *local_8;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar3 + '\x04');
    diag_transfer_state_t_0080d3f8.target_address = CONCAT11(*local_8,uVar1);
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar3 + '\x05');
    cVar6 = diagnosticMemoryAddressResolver(0x80);
    if (cVar6 == '\0') {
      bVar8 = *local_8;
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar3 + '\x06');
      diag_transfer_state_t_0080d3f8.byte_count = CONCAT11(*local_8,bVar8);
      if (diag_transfer_state_t_0080d3f8.byte_count < 0xf) {
        bVar9 = bVar8 + 6;
      }
      else {
        bVar9 = 0x14;
        bVar8 = 0xe;
        diag_multipacket_transmit_pending = 1;
      }
      if ((int)dVar2 < _can_transmit_length) {
        iVar4 = (_can_transmit_length - dVar2) + -2;
      }
      else {
        iVar4 = (_can_transmit_length - dVar2) + 0xfe;
      }
      if ((int)(uint)bVar9 < iVar4) {
        local_c._3_1_ = (char)dVar2;
        cVar3 = (char)local_c;
        local_c._0_3_ = (undefined3)(dVar2 >> 8);
        local_c = (byte *)CONCAT31(local_c._0_3_,(char)local_c + '\x01');
        *local_c = 7;
        local_c = (byte *)CONCAT31(local_c._0_3_,cVar3 + '\x02');
        *local_c = bVar8 | 0xb0;
        local_c = (byte *)CONCAT31(local_c._0_3_,cVar3 + '\x03');
        uVar5 = addressRangeValidator
                          (diag_transfer_state_t_0080d3f8.data_pointer,
                           CONCAT22(diag_transfer_state_t_0080d3f8.byte_count,uVar10));
        cVar6 = (char)uVar5;
        if ((cVar6 == '\t') || (cVar6 == '\n')) {
          diagnosticMessageQueueWrite((uint)CONCAT12(cVar6,uVar10));
          diag_multipacket_transmit_pending = 0;
        }
        else {
          *local_c = (undefined1)diag_transfer_state_t_0080d3f8.target_address;
          local_c = (byte *)CONCAT31(local_c._0_3_,cVar3 + '\x04');
          *local_c = diag_transfer_state_t_0080d3f8.target_address._0_1_;
          local_c = (byte *)CONCAT31(local_c._0_3_,cVar3 + '\x05');
          *local_c = (undefined1)diag_transfer_state_t_0080d3f8.byte_count;
          local_c = (byte *)CONCAT31(local_c._0_3_,cVar3 + '\x06');
          *local_c = diag_transfer_state_t_0080d3f8.byte_count._0_1_;
          local_c = (byte *)CONCAT31(local_c._0_3_,cVar3 + '\a');
          for (bVar7 = 0; bVar7 < bVar8; bVar7 = bVar7 + 1) {
            uVar1 = *(undefined1 *)diag_transfer_state_t_0080d3f8.data_pointer;
            diag_transfer_state_t_0080d3f8.data_pointer =
                 diag_transfer_state_t_0080d3f8.data_pointer + 1;
            *local_c = uVar1;
            local_c = (byte *)CONCAT31(local_c._0_3_,(char)local_c + '\x01');
          }
          diag_transfer_state_t_0080d3f8.byte_count =
               diag_transfer_state_t_0080d3f8.byte_count - bVar8;
          *(byte *)dVar2 = bVar9;
          *local_c = 0;
          can_transmit_buffer_ptr = (dword)local_c;
          tpuTransmissionTrigger();
          diag_multipacket_transmit_pending = 1;
        }
      }
      else {
        diag_multipacket_transmit_pending = 0;
        diagnosticMessageQueueWrite(CONCAT22(4,uVar10));
        io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
        io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
      }
    }
    else {
      diagnosticMessageQueueWrite(CONCAT22(8,uVar10));
    }
  }
  else {
    diagnosticMessageQueueWrite(CONCAT22(4,uVar10));
  }
  return;
}



//
// Function: multiPacketReceiveHandler @ 0x00012d76
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void multiPacketReceiveHandler(void)

{
  undefined1 uVar1;
  byte bVar2;
  short sVar3;
  dword dVar4;
  undefined4 uVar5;
  char cVar6;
  undefined4 unaff_D2;
  byte bVar7;
  ushort uVar8;
  undefined2 local_a;
  undefined4 local_8;
  
  uVar8 = (ushort)((uint)unaff_D2 >> 0x10);
  local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
  cVar6 = (char)local_8;
  local_8._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x02');
  bVar2 = *local_8 & 0xf;
  if (multi_packet_receive_state == 1) {
    if ((uint)*_enables_input_of_eps_period_data_to_pptb_0_1 - (uint)bVar2 == 4) {
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x03');
      uVar1 = *local_8;
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x04');
      local_a = CONCAT11(*local_8,uVar1);
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x05');
      if (local_a == diag_transfer_state_t_0080d3f8.target_address) {
        switch(diag_transfer_state_t_0080d3f8.target_address) {
        case 0x15:
        case 0x17:
        case 0x18:
        case 0x19:
          for (bVar7 = 0; bVar7 < bVar2; bVar7 = bVar7 + 1) {
            dVar4 = diag_transfer_state_t_0080d3f8.data_pointer + 1;
            *(byte *)diag_transfer_state_t_0080d3f8.data_pointer = *local_8;
            diag_transfer_state_t_0080d3f8.data_pointer = dVar4;
            local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
          }
          diag_transfer_state_t_0080d3f8._10_2_ =
               diag_transfer_state_t_0080d3f8._10_2_ - (ushort)bVar2;
          if (diag_transfer_state_t_0080d3f8._10_2_ == 0) {
            multi_packet_receive_state = 0;
          }
          break;
        default:
          uVar5 = addressRangeValidator
                            (diag_transfer_state_t_0080d3f8.data_pointer,
                             CONCAT22(diag_transfer_state_t_0080d3f8._10_2_,uVar8));
          if (((char)uVar5 == '\x03') || ((char)uVar5 == '\x05')) {
            (&timer_used_to_disable_rsg_when_veh_and_eng_speeds_disagree_0_100)
            [(short)(_memory_patch_count * 3)] =
                 (ushort)bVar2 +
                 (&timer_used_to_disable_rsg_when_veh_and_eng_speeds_disagree_0_100)
                 [(short)(_memory_patch_count * 3)];
            for (bVar7 = 0; bVar7 < bVar2; bVar7 = bVar7 + 1) {
              dVar4 = can_rx_buffer_ptr + 1;
              *(byte *)can_rx_buffer_ptr = *local_8;
              can_rx_buffer_ptr = dVar4;
              local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
            }
            diag_transfer_state_t_0080d3f8._10_2_ =
                 diag_transfer_state_t_0080d3f8._10_2_ - (ushort)bVar2;
            if (diag_transfer_state_t_0080d3f8._10_2_ == 0) {
              multi_packet_receive_state = 0;
            }
          }
          else {
            for (bVar7 = 0; bVar7 < bVar2; bVar7 = bVar7 + 1) {
              dVar4 = diag_transfer_state_t_0080d3f8.data_pointer + 1;
              *(byte *)diag_transfer_state_t_0080d3f8.data_pointer = *local_8;
              diag_transfer_state_t_0080d3f8.data_pointer = dVar4;
              local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
            }
            diag_transfer_state_t_0080d3f8._10_2_ =
                 diag_transfer_state_t_0080d3f8._10_2_ - (ushort)bVar2;
            if (diag_transfer_state_t_0080d3f8._10_2_ == 0) {
              multi_packet_receive_state = 0;
            }
          }
        }
        diagnosticMessageQueueWrite((uint)uVar8);
      }
      else {
        _memory_patch_count = _memory_patch_count - 1;
        can_rx_buffer_ptr =
             can_rx_buffer_ptr - *(ushort *)((short)(_memory_patch_count * 3) * 2 + 0x80d3aa);
        multi_packet_receive_state = 0;
        diagnosticMessageQueueWrite(CONCAT22(4,uVar8));
      }
    }
    else {
      diagnosticMessageQueueWrite(CONCAT22(4,uVar8));
    }
  }
  else if ((uint)*_enables_input_of_eps_period_data_to_pptb_0_1 - (uint)bVar2 == 6) {
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x03');
    uVar1 = *local_8;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x04');
    diag_transfer_state_t_0080d3f8.target_address = CONCAT11(*local_8,uVar1);
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x05');
    diag_transfer_state_t_0080d3f8.rx_active_flag = *local_8;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\x06');
    diag_transfer_state_t_0080d3f8.tx_active_flag = *local_8;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar6 + '\a');
    cVar6 = diagnosticMemoryAddressResolver(0x80);
    if (cVar6 == '\0') {
      switch(diag_transfer_state_t_0080d3f8.target_address) {
      case 0x15:
      case 0x17:
      case 0x18:
      case 0x19:
        for (bVar7 = 0; bVar7 < bVar2; bVar7 = bVar7 + 1) {
          dVar4 = diag_transfer_state_t_0080d3f8.data_pointer + 1;
          *(byte *)diag_transfer_state_t_0080d3f8.data_pointer = *local_8;
          diag_transfer_state_t_0080d3f8.data_pointer = dVar4;
          local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
        }
        diag_transfer_state_t_0080d3f8._10_2_ =
             diag_transfer_state_t_0080d3f8._10_2_ - (ushort)bVar2;
        if (diag_transfer_state_t_0080d3f8._10_2_ != 0) {
          multi_packet_receive_state = 1;
        }
        break;
      default:
        uVar5 = addressRangeValidator
                          (diag_transfer_state_t_0080d3f8.data_pointer,
                           CONCAT22(diag_transfer_state_t_0080d3f8._10_2_,uVar8));
        cVar6 = (char)uVar5;
        if ((cVar6 == '\x05') || (cVar6 == '\x03')) {
          if ((10 < _memory_patch_count + 1) ||
             ((int)(0x80d3a5 - can_rx_buffer_ptr) <=
              (int)(uint)(ushort)diag_transfer_state_t_0080d3f8._10_2_)) {
            diagnosticMessageQueueWrite(CONCAT22(0xe,uVar8));
            return;
          }
          *(dword *)(&timer_used_to_disable_rsg_when_gear_ratio_changes_0_100 +
                    (short)(_memory_patch_count * 3)) = diag_transfer_state_t_0080d3f8.data_pointer;
          sVar3 = _memory_patch_count * 3;
          _memory_patch_count = _memory_patch_count + 1;
          *(ushort *)(sVar3 * 2 + 0x80d3aa) = (ushort)bVar2;
          for (bVar7 = 0; bVar7 < bVar2; bVar7 = bVar7 + 1) {
            dVar4 = can_rx_buffer_ptr + 1;
            *(byte *)can_rx_buffer_ptr = *local_8;
            can_rx_buffer_ptr = dVar4;
            local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
          }
          diag_transfer_state_t_0080d3f8._10_2_ =
               diag_transfer_state_t_0080d3f8._10_2_ - (ushort)bVar2;
          if (diag_transfer_state_t_0080d3f8._10_2_ != 0) {
            multi_packet_receive_state = 1;
          }
        }
        else {
          if (cVar6 != '\0') {
            if (cVar6 != '\n') {
              diagnosticMessageQueueWrite(CONCAT22(9,uVar8));
              return;
            }
            diagnosticMessageQueueWrite(CONCAT22(10,uVar8));
            return;
          }
          for (bVar7 = 0; bVar7 < bVar2; bVar7 = bVar7 + 1) {
            dVar4 = diag_transfer_state_t_0080d3f8.data_pointer + 1;
            *(byte *)diag_transfer_state_t_0080d3f8.data_pointer = *local_8;
            diag_transfer_state_t_0080d3f8.data_pointer = dVar4;
            local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
          }
          if (diag_transfer_state_t_0080d3f8._10_2_ != 0) {
            multi_packet_receive_state = 1;
          }
        }
      }
      diagnosticMessageQueueWrite((uint)uVar8);
    }
    else {
      diagnosticMessageQueueWrite(CONCAT22(8,uVar8));
    }
  }
  else {
    diagnosticMessageQueueWrite(CONCAT22(4,uVar8));
  }
  return;
}



//
// Function: circularBufferEmptyCheck @ 0x00013134
//

uint circularBufferEmptyCheck(void)

{
  uint in_D0;
  
  if (circular_buffer_count == 0) {
    return 1;
  }
  return in_D0 & 0xffffff00;
}



//
// Function: parameterCircularBufferWrite @ 0x00013144
//

uint parameterCircularBufferWrite(int param_1,undefined1 *param_2,undefined4 param_3)

{
  word wVar1;
  uint uVar2;
  
  if ((uint)param_3._0_2_ + (uint)circular_buffer_count < 0x201) {
    parameter_circular_buffer_value = (short)(param_1 + -0x8034f6) - 2;
    uVar2 = CONCAT22((short)((uint)(param_1 + -0x8034f6) >> 0x10),parameter_circular_buffer_value);
    (&circular_buffer_metadata)[circular_buffer_write_index] = parameter_circular_buffer_value;
    for (; param_3._0_2_ != 0; param_3._0_2_ = param_3._0_2_ - 1) {
      (&circular_buffer_data)[(short)circular_buffer_write_index] = *param_2;
      wVar1 = (short)(param_1 + -0x8034f6) - 2;
      uVar2 = CONCAT22((short)((uint)(param_1 + -0x8034f6) >> 0x10),wVar1);
      (&circular_buffer_metadata)[circular_buffer_write_index] = wVar1;
      circular_buffer_write_index = circular_buffer_write_index + 1 & 0x1ff;
      circular_buffer_count = circular_buffer_count + 1;
      param_1 = param_1 + 1;
      param_2 = param_2 + 1;
    }
    return uVar2 & 0xffffff00;
  }
  return 1;
}



//
// Function: circularBufferWrite @ 0x000131d6
// ERROR: Failed to decompile
//

//
// Function: emptyPlaceholderFunction @ 0x00013240
//

void emptyPlaceholderFunction(void)

{
  return;
}



//
// Function: tpuTransmissionTrigger @ 0x00013242
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void tpuTransmissionTrigger(void)

{
  if (((tpu_channel_state_value == 1) && ((tpu_cfsr0 & 0x20) == 0)) &&
     (tpu_channel_enable_state == 0)) {
    tpu_cfsr1 = (word)*_track_the_time_when_throttle_is_less_than_a_threshold_0_30;
    tpu_channel_enable_state = 1;
    tpu_channel_int_select = 0xfc8a;
    tpu_channel_priority_select = tpu_channel_priority_select & 0x7fff | 0x4000;
    tpu_channel_state_value = 0;
    _tpu_transmission_state_machine = 0;
    tpu_transmission_byte_counter = 1;
    tpu_transmission_state = *_track_the_time_when_throttle_is_less_than_a_threshold_0_30;
    tpu_cier = tpu_cier | 0x20;
  }
  return;
}



//
// Function: engine_fault_monitoring_and_rpm_calculation @ 0x000132c8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint engine_fault_monitoring_and_rpm_calculation(void)

{
  uint uVar1;
  
  if (_engine_fault_timer_1 == 0) {
    if (_engine_rpm_calculation_param_1 != 0) {
      _engine_rpm_calculation_param_1 = 0;
      canControllerConfigInit();
    }
  }
  else {
    _engine_fault_timer_1 = _engine_fault_timer_1 + -1;
    _engine_rpm_calculation_param_1 = (word)(_CRGNSC / engine_divisor_param_1);
  }
  if (_engine_fault_timer_2 == 0) {
    if (_engine_rpm_calculation_param_2 != 0) {
      _engine_rpm_calculation_param_2 = 0;
      canRpmModeConfigInit();
    }
  }
  else {
    _engine_fault_timer_2 = _engine_fault_timer_2 + -1;
    if ((_engine_system_status_flags & 0xc) != 0) {
      _engine_rpm_calculation_param_2 =
           (word)(_engine_calculation_constant_1 / _engine_divisor_param_2);
    }
  }
  if (_engine_fault_timer_3 == 0) {
    if (_engine_rpm_calculation_param_3 != 0) {
      _engine_rpm_calculation_param_3 = 0;
    }
  }
  else {
    _engine_fault_timer_3 = _engine_fault_timer_3 + -1;
  }
  if ((_engine_fault_timer_1 == 0) && (current_engine_rpm != 0)) {
    if (engine_fault_counter_1 < _engine_fault_threshold_1) {
      engine_fault_counter_1 = engine_fault_counter_1 + 1;
    }
    else {
      engine_fault_status_register_1 = engine_fault_status_register_1 | 0x1000;
      engine_fault_status_register_2 = engine_fault_status_register_2 | 0x1000;
    }
  }
  else if ((_engine_fault_timer_1 != 0) &&
          ((engine_fault_counter_1 = 0, (engine_fault_status_register_1 & 0x1000) != 0 &&
           ((engine_fault_status_register_2 & 0x1000) == 0)))) {
    engine_fault_status_register_1 = engine_fault_status_register_1 & 0xefff;
  }
  if ((((_engine_system_status_flags & 0xc) == 0) || (_engine_fault_timer_2 != 0)) ||
     (current_engine_rpm == 0)) {
    if (((_engine_fault_timer_2 != 0) &&
        (engine_fault_counter_2 = 0, (engine_fault_status_register_1 & 0x400) != 0)) &&
       ((engine_fault_status_register_2 & 0x400) == 0)) {
      engine_fault_status_register_1 = engine_fault_status_register_1 & 0xfbff;
    }
  }
  else if (engine_fault_counter_2 < _engine_fault_threshold_2) {
    engine_fault_counter_2 = engine_fault_counter_2 + 1;
  }
  else {
    engine_fault_status_register_1 = engine_fault_status_register_1 | 0x400;
    engine_fault_status_register_2 = engine_fault_status_register_2 | 0x400;
  }
  if ((_engine_fault_timer_3 == 0) && (current_engine_rpm != 0)) {
    if (engine_fault_counter_3 <
        mph_above_which_throttle_faults_can_be_logged_for_uncalibrated_0_255) {
      engine_fault_counter_3 = engine_fault_counter_3 + 1;
    }
    else {
      engine_fault_status_register_3 = engine_fault_status_register_3 | 4;
      engine_fault_status_register_4 = engine_fault_status_register_4 | 4;
    }
  }
  else if ((_engine_fault_timer_3 != 0) &&
          ((engine_fault_counter_3 = 0, (engine_fault_status_register_3 & 4) != 0 &&
           ((engine_fault_status_register_4 & 4) == 0)))) {
    engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfffb;
  }
  if (((rpm_timer_capture_mode == 1) &&
      (engine_fault_counter_4 = 0, (engine_fault_status_register_1 & 0x4000) != 0)) &&
     ((engine_fault_status_register_2 & 0x4000) == 0)) {
    engine_fault_status_register_1 = engine_fault_status_register_1 & 0xbfff;
  }
  if ((rpm_timer_capture_mode == 0) && (current_engine_rpm != 0)) {
    if (engine_fault_counter_4 <
        flag_to_delay_resetting_of_throttle_min_when_sampled_thrott_true_false) {
      engine_fault_counter_4 = engine_fault_counter_4 + 1;
    }
    else {
      engine_fault_status_register_1 = engine_fault_status_register_1 | 0x4000;
      engine_fault_status_register_2 = engine_fault_status_register_2 | 0x4000;
    }
  }
  else if ((rpm_timer_capture_mode == 0) &&
          ((engine_fault_counter_4 = 0, (engine_fault_status_register_1 & 0x4000) != 0 &&
           ((engine_fault_status_register_2 & 0x4000) == 0)))) {
    engine_fault_status_register_1 = engine_fault_status_register_1 & 0xbfff;
  }
  if ((((rpm_timer_capture_state == CAPTURING) || (rpm_timer_capture_state == INITIALIZING)) &&
      (engine_fault_counter_5 = 0, (engine_fault_status_register_1 & 0x800) != 0)) &&
     ((engine_fault_status_register_2 & 0x800) == 0)) {
    engine_fault_status_register_1 = engine_fault_status_register_1 & 0xf7ff;
  }
  (*_engine_callback_function_ptr)();
  uVar1 = (uint)engine_rpm_source_selector;
  if (engine_rpm_source_selector == 0) {
    if (_engine_fault_timer_1 == 0) {
      current_engine_fuel_demand = 0;
      current_engine_rpm = 0;
      current_engine_rpm_raw = 0;
    }
    else {
      current_engine_fuel_demand = _engine_rpm_calculation_param_1;
      current_engine_rpm = coreTableInterpolation();
      uVar1 = _engine_rpm_base_frequency / _engine_rpm_divisor_1;
      current_engine_rpm_raw = (word)uVar1;
    }
  }
  else if (engine_rpm_source_selector == 1) {
    if (_engine_fault_timer_2 == 0) {
      current_engine_fuel_demand = 0;
      current_engine_rpm = 0;
      current_engine_rpm_raw = 0;
    }
    else {
      current_engine_fuel_demand = _engine_rpm_calculation_param_2;
      current_engine_rpm = coreTableInterpolation();
      uVar1 = _engine_rpm_base_frequency / _engine_rpm_divisor_2;
      current_engine_rpm_raw = (word)uVar1;
    }
  }
  else if (engine_rpm_source_selector == 2) {
    if (_engine_fault_timer_3 == 0) {
      current_engine_fuel_demand = 0;
      current_engine_rpm = 0;
      current_engine_rpm_raw = 0;
    }
    else {
      current_engine_fuel_demand = _engine_rpm_calculation_param_3;
      uVar1 = coreTableInterpolation();
      current_engine_rpm_raw = (word)uVar1;
      current_engine_rpm = current_engine_rpm_raw;
    }
  }
  if (_engine_override_enable != 0) {
    current_engine_rpm_raw = _engine_override_rpm_value;
    current_engine_fuel_demand = _engine_override_rpm_value;
    current_engine_rpm = _engine_override_rpm_value;
  }
  if (engine_operating_mode == ENGINE_IDLE) {
    uVar1 = vp44_communication_status & 1;
    if ((vp44_communication_status & 1) == 0) {
      system_logging_state = 0;
    }
    else {
      system_logging_state = 2;
    }
  }
  else {
    system_logging_state = 1;
  }
  if (current_engine_rpm_raw < 0x800) {
    engine_fault_rpm_source_value = CCMNFLLM;
    rpm_based_limit_2 = rpm_fault_limit_calibration;
    return uVar1;
  }
  if (current_engine_rpm_raw < 0xff8) {
    engine_fault_rpm_source_value = (word)((int)(uint)CCMNFLLM >> 1);
    rpm_based_limit_2 = (word)((int)(uint)rpm_fault_limit_calibration >> 1);
    return (int)(uint)rpm_fault_limit_calibration >> 1;
  }
  if (0x17ff < current_engine_rpm_raw) {
    engine_fault_rpm_source_value = (word)((int)(uint)CCMNFLLM >> 3);
    rpm_based_limit_2 = (word)((int)(uint)rpm_fault_limit_calibration >> 3);
    return (int)(uint)rpm_fault_limit_calibration >> 3;
  }
  engine_fault_rpm_source_value = (word)((int)(uint)CCMNFLLM >> 2);
  rpm_based_limit_2 = (word)((int)(uint)rpm_fault_limit_calibration >> 2);
  return (int)(uint)rpm_fault_limit_calibration >> 2;
}



//
// Function: engineRpmSourceInit @ 0x000137ac
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineRpmSourceInit(void)

{
  _engine_rpm_source_init_value = 0;
  engine_rpm_source_max_ptr = (dword)&CCMXFLLM;
  engine_fault_rpm_source_value = CCMNFLLM;
  _engine_callback_function_ptr = &LAB_000137d8;
  engine_rpm_source_selector = 0;
  return;
}



//
// Function: canControllerConfigInit @ 0x00013890
//

void canControllerConfigInit(void)

{
  switch((undefined1)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000) {
  case 0:
    can1TimerBufferInit();
    delayWithWatchdogServiceWrapper();
    emptyStubFunction5();
    return;
  case 1:
    can1TimerBufferInitAlt();
    can1MessageTransmitInit();
    emptyStubFunction6();
    return;
  case 2:
    can1TimerBufferInitDivided();
    can1MessageTransmitInit2();
    emptyStubFunction7();
    return;
  case 3:
    can1TimerBufferInitConditional();
    delayWithWatchdogServiceWrapper2();
    emptyStubFunction8();
  }
  return;
}



//
// Function: canRpmModeConfigInit @ 0x000138fe
//

void canRpmModeConfigInit(void)

{
  if (minimum_allowable_fueling_for_this_algorithm_to_operate_0_100 == 1) {
    dutyCycleMonitorCanInit();
    return;
  }
  if (minimum_allowable_fueling_for_this_algorithm_to_operate_0_100 != 2) {
    if (minimum_allowable_fueling_for_this_algorithm_to_operate_0_100 != 0) {
      return;
    }
    dutyCycleMonitorAltCanInit();
    return;
  }
  dutyCycleMonitorBufferInit();
  return;
}



//
// Function: rpmBasedFuelLimitCalculator @ 0x00013930
//

void rpmBasedFuelLimitCalculator(void)

{
  if (((engine_operating_mode == LOW_RPM_RUNNING) || (engine_operating_mode == TRANSITIONAL_MODE_6))
     || (engine_operating_mode == TRANSITIONAL_MODE_7)) {
    rpm_based_fuel_limit_state = shutdown_protection_state_1 + frictional_load_calculator_state;
    if (rpm_fuel_limit_state_max < rpm_based_fuel_limit_state) {
      rpm_based_fuel_limit_state = rpm_fuel_limit_state_max;
    }
    rpm_based_fuel_limit_threshold = shutdown_protection_state_2 + frictional_load_fuel_offset;
    if (rpm_fuel_limit_threshold_max < rpm_based_fuel_limit_threshold) {
      rpm_based_fuel_limit_threshold = rpm_fuel_limit_threshold_max;
    }
    if (current_engine_rpm < rpm_based_fuel_limit_state) {
      fuel_demand_override = rpm_based_fuel_limit_threshold;
      return;
    }
    if ((rpm_based_fuel_limit_state <= current_engine_rpm) &&
       (current_engine_rpm <= rpm_source_selector_value)) {
      fuel_demand_override =
           (short)((((uint)current_engine_rpm - (uint)rpm_based_fuel_limit_state) *
                   ((uint)fuel_timing_mode_blend_factor_c806 + (uint)rpm_fuel_limit_blend_offset)) /
                  (uint)(ushort)(rpm_source_selector_value - rpm_based_fuel_limit_state)) +
           (short)(((uint)rpm_based_fuel_limit_threshold *
                   ((uint)rpm_source_selector_value - (uint)current_engine_rpm)) /
                  (uint)(ushort)(rpm_source_selector_value - rpm_based_fuel_limit_state));
    }
  }
  return;
}



//
// Function: fuelTimingModeBlendCalculator @ 0x00013a1e
//

void fuelTimingModeBlendCalculator(void)

{
  short sVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  
  if (fuel_timing_mode_blend_factor_965a == 0x4000) {
    fuel_timing_blend_rpm_input_1 = rpm_source_selector_value;
    fuel_timing_blend_offset_input_1 =
         fuel_timing_mode_blend_factor_c806 + rpm_fuel_limit_blend_offset;
    uVar2 = tableInterpolationLookup((short *)&load_trending_table_2_size);
    fuel_timing_blend_rpm_component = (word)((ulonglong)uVar2 >> 0x20);
  }
  else if (fuel_timing_mode_blend_factor_965a == 0) {
    fuel_timing_blend_rpm_input_2 = rpm_source_selector_value;
    fuel_timing_blend_offset_input_2 =
         fuel_timing_mode_blend_factor_c806 + rpm_fuel_limit_blend_offset;
    uVar2 = tableInterpolationLookup((short *)&load_trending_table_4_size);
    fuel_timing_blend_rpm_component =
         (word)((uint)(ushort)((ulonglong)uVar2 >> 0x20) *
                (0x4000 - (uint)fuel_timing_mode_blend_factor_965a) >> 0xe);
  }
  else {
    fuel_timing_blend_rpm_input_1 = rpm_source_selector_value;
    fuel_timing_blend_offset_input_1 =
         fuel_timing_mode_blend_factor_c806 + rpm_fuel_limit_blend_offset;
    uVar2 = tableInterpolationLookup((short *)&load_trending_table_2_size);
    fuel_timing_blend_rpm_input_2 = rpm_source_selector_value;
    fuel_timing_blend_offset_input_2 =
         fuel_timing_mode_blend_factor_c806 + rpm_fuel_limit_blend_offset;
    uVar3 = tableInterpolationLookup((short *)&load_trending_table_4_size);
    fuel_timing_blend_rpm_component =
         (short)((uint)fuel_timing_mode_blend_factor_965a * (uint)(ushort)((ulonglong)uVar2 >> 0x20)
                >> 0xe) +
         (short)((uint)(ushort)((ulonglong)uVar3 >> 0x20) *
                 (0x4000 - (uint)fuel_timing_mode_blend_factor_965a) >> 0xe);
  }
  if ((uint)fuel_timing_mode_blend_factor_c806 + (uint)rpm_fuel_limit_blend_offset <
      (uint)upper_limit_at_which_loading_trigger_is_satisfied_in_trendin_0_127_5) {
    fuel_timing_intake_temp_input = intake_manifold_temp_raw;
    sVar1 = lookupTableInterpolation((table_interp_args_t *)&load_trending_lower_limit_size);
    fuel_timing_intake_temp_correction =
         sVar1 - (short)((int)((int)&fuel_timing_mode_blend_table - (uint)rpm_source_selector_init)
                        / (int)(short)rpm_divisor_value);
    if ((short)fuel_timing_intake_temp_correction < 0) {
      fuel_timing_intake_temp_correction = 0;
    }
  }
  else {
    fuel_timing_intake_temp_correction = 0;
  }
  fuel_timing_blend_throttle_input = throttle_position_raw;
  fuel_timing_blend_lookup_result =
       lookupTableInterpolation((table_interp_args_t *)&load_trending_table_1_size);
  if ((ushort)(fuel_timing_blend_lookup_result + fuel_timing_blend_rpm_component) <=
      fuel_timing_intake_temp_correction) {
    fuel_timing_mode_blend_value = fuel_timing_intake_temp_correction;
    return;
  }
  fuel_timing_mode_blend_value = fuel_timing_blend_lookup_result + fuel_timing_blend_rpm_component;
  return;
}



//
// Function: rpmBasedFuelTimingInterpolation @ 0x00013bd8
//

void rpmBasedFuelTimingInterpolation(void)

{
  if (((engine_operating_mode == LOW_RPM_RUNNING) || (engine_operating_mode == TRANSITIONAL_MODE_6))
     || (engine_operating_mode == TRANSITIONAL_MODE_7)) {
    fuelTimingModeBlendCalculator();
    if (current_engine_rpm < frictional_load_interpolation_value) {
      timing_advance_value = frictional_load_torque_interpolator_result;
      return;
    }
    if ((frictional_load_interpolation_value <= current_engine_rpm) &&
       (current_engine_rpm <= rpm_source_selector_value)) {
      timing_advance_value =
           frictional_load_torque_interpolator_result +
           (short)(((int)(short)(fuel_timing_mode_blend_value -
                                frictional_load_torque_interpolator_result) *
                   (int)(short)(current_engine_rpm - frictional_load_interpolation_value)) /
                  (int)(short)(rpm_source_selector_value - frictional_load_interpolation_value));
    }
  }
  return;
}



//
// Function: frictionalLoadInterpolationCalculator @ 0x00013c6a
//

uint frictionalLoadInterpolationCalculator(void)

{
  ushort uVar1;
  undefined2 uVar2;
  uint in_D0;
  uint uVar3;
  
  uVar3 = in_D0 & 0xffff0000;
  if (((engine_fault_status_register_1 & 1) == 0) ||
     (uVar3 = CONCAT22((short)(in_D0 >> 0x10),engine_fault_confirmation_register) & 0xffff0001,
     (engine_fault_confirmation_register & 1) == 0)) {
    uVar2 = (undefined2)(uVar3 >> 0x10);
    uVar3 = CONCAT22(uVar2,engine_fault_status_register_1) & 0xffff0002;
    if ((((engine_fault_status_register_1 & 2) == 0) ||
        (uVar3 = CONCAT22(uVar2,engine_fault_confirmation_register) & 0xffff0002,
        (engine_fault_confirmation_register & 2) == 0)) &&
       (throttle_frictional_load_lower_threshold <= throttle_position_raw)) {
      if (throttle_frictional_load_upper_threshold < throttle_position_raw) {
        frictional_load_fuel_offset = frictional_load_fuel_init;
        frictional_load_calculator_state = frictional_load_state_init;
        return uVar3;
      }
      uVar1 = throttle_frictional_load_upper_threshold - throttle_frictional_load_lower_threshold;
      frictional_load_fuel_offset =
           (short)((((uint)throttle_frictional_load_upper_threshold - (uint)throttle_position_raw) *
                   (uint)rpm_fuel_limit_threshold_max) / (uint)uVar1) +
           (short)((((uint)throttle_position_raw - (uint)throttle_frictional_load_lower_threshold) *
                   (uint)frictional_load_fuel_init) / (uint)uVar1);
      uVar3 = (((uint)throttle_frictional_load_upper_threshold - (uint)throttle_position_raw) *
              (uint)rpm_fuel_limit_state_max) / (uint)uVar1;
      frictional_load_calculator_state =
           (short)uVar3 +
           (short)((((uint)throttle_position_raw - (uint)throttle_frictional_load_lower_threshold) *
                   (uint)frictional_load_state_init) / (uint)uVar1);
      return uVar3;
    }
  }
  frictional_load_fuel_offset = rpm_fuel_limit_threshold_max;
  frictional_load_calculator_state = rpm_fuel_limit_state_max;
  return uVar3;
}



//
// Function: rpmSourceSelectorForFrictionalLoad @ 0x00013d66
//

void rpmSourceSelectorForFrictionalLoad(void)

{
  if (rpm_source_selector_flag == 1) {
    rpm_source_selector_value = rpm_source_selector_init;
    return;
  }
  rpm_source_selector_value = governor_rpm_error_value;
  return;
}



//
// Function: frictionalLoadTorqueInterpolator @ 0x00013d86
//

uint frictionalLoadTorqueInterpolator(void)

{
  ushort uVar1;
  undefined2 uVar2;
  uint in_D0;
  uint uVar3;
  
  uVar3 = in_D0 & 0xffff0000;
  if (((fault_flags_active_base & 0x2000) == 0) ||
     (uVar3 = CONCAT22((short)(in_D0 >> 0x10),fault_flags_enabled_base) & 0xffff2000,
     (fault_flags_enabled_base & 0x2000) == 0)) {
    uVar2 = (undefined2)(uVar3 >> 0x10);
    uVar3 = CONCAT22(uVar2,fault_flags_active_base) & 0xffff4000;
    if ((((fault_flags_active_base & 0x4000) == 0) ||
        (uVar3 = CONCAT22(uVar2,fault_flags_enabled_base) & 0xffff4000,
        (fault_flags_enabled_base & 0x4000) == 0)) &&
       (intake_temp_frictional_load_threshold <= intake_manifold_temp_raw)) {
      if (DCMNLDTB < intake_manifold_temp_raw) {
        frictional_load_torque_interpolator_result = frictional_load_torque_init;
        frictional_load_interpolation_value =
             jcomm_frict_load_line_slope_slope_used_to_calculate_frictiona_0_1_05;
        return uVar3;
      }
      uVar1 = DCMNLDTB - intake_temp_frictional_load_threshold;
      frictional_load_torque_interpolator_result =
           (short)((((uint)DCMNLDTB - (uint)intake_manifold_temp_raw) *
                   (uint)jcomm_frict_load_at_600_rpm_point_used_to_calculate_frictional_0_100) /
                  (uint)uVar1) +
           (short)((((uint)intake_manifold_temp_raw - (uint)intake_temp_frictional_load_threshold) *
                   (uint)frictional_load_torque_init) / (uint)uVar1);
      uVar3 = (((uint)DCMNLDTB - (uint)intake_manifold_temp_raw) *
              (uint)jcomm_peak_torque_tau_0_torque_rating_of_engine_associated_wi_0_5000) /
              (uint)uVar1;
      frictional_load_interpolation_value =
           (short)uVar3 +
           (short)((((uint)intake_manifold_temp_raw - (uint)intake_temp_frictional_load_threshold) *
                   (uint)jcomm_frict_load_line_slope_slope_used_to_calculate_frictiona_0_1_05) /
                  (uint)uVar1);
      return uVar3;
    }
  }
  frictional_load_torque_interpolator_result =
       jcomm_frict_load_at_600_rpm_point_used_to_calculate_frictional_0_100;
  frictional_load_interpolation_value =
       jcomm_peak_torque_tau_0_torque_rating_of_engine_associated_wi_0_5000;
  return uVar3;
}



//
// Function: peakTorqueFuelCorrection @ 0x00013e82
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void peakTorqueFuelCorrection(void)

{
  if ((engine_running_timer_threshold < engine_running_mode_timer) &&
     (peak_torque_correction_applied_flag == 0)) {
    peak_torque_correction_state =
         jcomm_peak_torque_min_fueling_tau_0_frict_load_fuel_at_peak_to_0_100 + JCPKT0RP;
    peak_torque_correction_applied_flag = 1;
  }
  if (current_engine_rpm == 0) {
    peak_torque_correction_state = JCPKT0RP;
  }
  _peak_torque_engine_mode_input = engine_operating_mode;
  return;
}



//
// Function: engineModeTransitionStateUpdater @ 0x00013ecc
//

void engineModeTransitionStateUpdater(void)

{
  if (((engine_operating_mode == LOW_RPM_RUNNING) || (engine_operating_mode == TRANSITIONAL_MODE_6))
     || (engine_operating_mode == TRANSITIONAL_MODE_7)) {
    engine_mode_transition_state = fuel_limit_minimum_value;
    fuel_limit_minimum_value = timing_advance_value;
    fuel_demand_source_id = ENGINE_MODE_TRANSITION;
    fuel_adjustment_active_flag = 0;
  }
  return;
}



//
// Function: engineModeTransitionHandler @ 0x00013f06
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineModeTransitionHandler(void)

{
  if (((_engine_operating_mode_previous == 1) && (engine_operating_mode == LOW_RPM_RUNNING)) ||
     ((_engine_operating_mode_previous == 3 && (engine_operating_mode == TRANSITIONAL_MODE_7)))) {
    frictionalLoadInterpolationCalculator();
    frictionalLoadTorqueInterpolator();
    rpmSourceSelectorForFrictionalLoad();
  }
  peakTorqueFuelCorrection();
  _engine_operating_mode_previous = engine_operating_mode;
  return;
}



//
// Function: shutdownProtectionSlowCycle40Coordinator @ 0x00013f46
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void shutdownProtectionSlowCycle40Coordinator(void)

{
  if ((engine_operating_mode == TRANSITIONAL_MODE_6) &&
     (current_engine_rpm < rpm_based_fuel_limit_state)) {
    if ((int)(uint)shutdown_protection_step_2 <
        (int)((uint)max_number_of_shutdowns_before_restart_is_not_allowed_0_255 -
             (uint)shutdown_protection_state_2)) {
      shutdown_protection_state_2 = shutdown_protection_step_2 + shutdown_protection_state_2;
    }
    else {
      shutdown_protection_state_2 = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
    }
    if ((int)(uint)shutdown_protection_step_1 <
        (int)((uint)oil_pressure_precrank_status - (uint)shutdown_protection_state_1)) {
      shutdown_protection_state_1 = shutdown_protection_step_1 + shutdown_protection_state_1;
    }
    else {
      shutdown_protection_state_1 = oil_pressure_precrank_status;
    }
  }
  if ((_engine_mode_previous_0 == 7) && (engine_operating_mode == ENGINE_IDLE)) {
    shutdown_protection_state_2 = 0;
    shutdown_protection_state_1 = 0;
  }
  _engine_mode_previous_0 = engine_operating_mode;
  return;
}



//
// Function: frictionalLoadTorqueManagementSlowCycle40Coordinator @ 0x00013fe2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void frictionalLoadTorqueManagementSlowCycle40Coordinator(void)

{
  if ((((engine_operating_mode == LOW_RPM_RUNNING) || (engine_operating_mode == TRANSITIONAL_MODE_6)
       ) && (frictional_load_torque_in_fueling_at_breakpoint_4_engine_rpm_0_100 < current_engine_rpm
            )) &&
     (fuel_timing_mode_blend_factor_c806 =
           frictional_load_torque_in_fueling_at_breakpoint_5_engine_rpm_0_100 +
           fuel_timing_mode_blend_factor_c806,
     frictional_load_torque_in_fueling_at_rated_engine_rpm_0_100 <
     fuel_timing_mode_blend_factor_c806)) {
    fuel_timing_mode_blend_factor_c806 = frictional_load_torque_in_fueling_at_rated_engine_rpm_0_100
    ;
  }
  if ((_engine_mode_previous_1 != 3) && (engine_operating_mode == HIGH_RPM_RUNNING)) {
    fuel_timing_mode_blend_factor_c806 = 0;
  }
  _engine_mode_previous_1 = engine_operating_mode;
  return;
}



//
// Function: engineOperatingModeStateTrackingSlowCycle40Coordinator @ 0x0001403e
//

void engineOperatingModeStateTrackingSlowCycle40Coordinator(void)

{
  if (engine_operating_mode == HIGH_RPM_RUNNING) {
    engine_running_mode_timer = engine_running_mode_timer + 1;
  }
  if (engine_operating_mode == ENGINE_IDLE) {
    engine_running_mode_timer = 0;
    peak_torque_correction_applied_flag = 0;
  }
  if (engine_operating_mode == LOW_RPM_RUNNING) {
    engine_rpm_cranking_threshold = engine_rpm_cranking_threshold + 1;
  }
  else if ((engine_mode_previous_state_2d2 == 7) && (engine_operating_mode == ENGINE_IDLE)) {
    engine_rpm_cranking_threshold = 0;
  }
  engine_mode_previous_state_2d2 = engine_operating_mode;
  return;
}



//
// Function: frictionalLoadTorqueTransitionHandler @ 0x00014090
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void frictionalLoadTorqueTransitionHandler(void)

{
  if (((_engine_mode_previous_2 == 3) && (engine_operating_mode == TRANSITIONAL_MODE_7)) &&
     (engine_running_timer_threshold < engine_running_mode_timer)) {
    shutdown_protection_state_2 = frictional_load_torque_table_value;
    shutdown_protection_state_1 = frictional_load_torque_in_fueling_at_breakpoint_3_engine_rpm_0_100
    ;
  }
  _engine_mode_previous_2 = engine_operating_mode;
  return;
}



//
// Function: initLoadTrendingSystem @ 0x000140ce
//

void initLoadTrendingSystem(void)

{
  load_trending_kickdown_ptr =
       (dword)&engine_speed_at_0_fuel_which_activates_kick_down_signal_0_8000;
  load_trending_accel_ptr = (dword)&accel_threshold_to_disable_a_c_1200_1200;
  load_trending_table_1_size = 2;
  load_trending_lower_limit_ptr =
       (dword)&lower_limit_at_which_loading_trigger_is_satisfied_in_trendin_0_127_5;
  load_trending_count_min_ptr = (dword)&count_minimum_for_percent_load_to_be_low_0_100;
  load_trending_lower_limit_size = 2;
  load_trending_table_1_ptr = 0x8080c2;
  load_trending_table_2_size = 2;
  load_trending_table_2_ptr = 0x8080e8;
  load_trending_table_2_base = 2;
  load_trending_table_3_ptr = 0x808100;
  load_trending_table_4_ptr = 0x80828c;
  load_trending_table_4_size = 2;
  load_trending_table_5_ptr = 0x8082b2;
  load_trending_table_5_base = 2;
  load_trending_table_6_ptr = 0x8082ca;
  return;
}



//
// Function: engineOperatingModeStateMachine @ 0x00014174
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineOperatingModeStateMachine(void)

{
  switch(engine_operating_mode) {
  case ENGINE_IDLE:
    if ((engine_rpm_idle_threshold < current_engine_rpm) && (engine_startup_inhibit_flag == 0)) {
      engine_operating_mode = LOW_RPM_RUNNING;
    }
    else if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
            (high_rpm_shutdown_active_flag == 1)) {
      engine_operating_mode = FAULT_EMERGENCY;
    }
    break;
  case LOW_RPM_RUNNING:
    if (engine_rpm_idle_threshold < current_engine_rpm) {
      if (current_engine_rpm < rpm_source_selector_value) {
        if (jcomm_peak_fueling_tau_0_max_fueling_on_100_throttle_curve_fo_0_100 <
            engine_rpm_cranking_threshold) {
          engine_operating_mode = TRANSITIONAL_MODE_6;
        }
        else if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
                (high_rpm_shutdown_active_flag == 1)) {
          engine_operating_mode = FAULT_EMERGENCY;
        }
      }
      else {
        engine_operating_mode = HIGH_RPM_RUNNING;
      }
    }
    else {
      engine_operating_mode = ENGINE_IDLE;
    }
    break;
  case HIGH_RPM_RUNNING:
    if (vp44_injection_system_active == 1) {
      engine_operating_mode = VP44_INJECTION_ACTIVE;
    }
    else if (peak_torque_correction_state < current_engine_rpm) {
      if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
         (high_rpm_shutdown_active_flag == 1)) {
        engine_operating_mode = FAULT_EMERGENCY;
      }
      else if (current_engine_rpm <
               _user_inversion_bit_mask_for_the_ac_high_pressure_swit_invert_no_invert) {
        engine_overspeed_counter = 0;
      }
      else {
        engine_overspeed_counter = engine_overspeed_counter + 1;
        if (engine_overspeed_counter_limit < engine_overspeed_counter) {
          engine_operating_mode = HIGH_PERFORMANCE;
          engine_overspeed_counter = 0;
        }
      }
    }
    else {
      engine_operating_mode = TRANSITIONAL_MODE_7;
    }
    break;
  case VP44_INJECTION_ACTIVE:
    if (vp44_injection_system_active == 0) {
      engine_operating_mode = HIGH_RPM_RUNNING;
    }
    else if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
            (high_rpm_shutdown_active_flag == 1)) {
      engine_operating_mode = FAULT_EMERGENCY;
    }
    break;
  case HIGH_PERFORMANCE:
    if (current_engine_rpm < engine_rpm_overspeed_exit_threshold) {
      engine_operating_mode = HIGH_RPM_RUNNING;
    }
    else if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
            (high_rpm_shutdown_active_flag == 1)) {
      engine_operating_mode = FAULT_EMERGENCY;
    }
    engine_fault_status_register_1 = engine_fault_status_register_1 | 0x8000;
    engine_fault_status_register_2 = engine_fault_status_register_2 | 0x8000;
    if (overspeed_event_active_flag == 0) {
      overspeed_event_active_flag = 1;
      *(undefined4 *)((short)overspeed_event_buffer_index * 8 + 0x804c68) = _loopCounter;
      *(undefined2 *)((short)overspeed_event_buffer_index * 8 + 0x804c6e) = 0;
      *(word *)((short)overspeed_event_buffer_index * 8 + 0x804c6c) = current_engine_rpm;
    }
    else if (*(ushort *)((short)overspeed_event_buffer_index * 8 + 0x804c6c) < current_engine_rpm) {
      *(word *)((short)overspeed_event_buffer_index * 8 + 0x804c6c) = current_engine_rpm;
    }
    break;
  case TRANSITIONAL_MODE_6:
    if (engine_rpm_idle_threshold < current_engine_rpm) {
      if (current_engine_rpm < rpm_source_selector_value) {
        if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
           (high_rpm_shutdown_active_flag == 1)) {
          engine_operating_mode = FAULT_EMERGENCY;
        }
      }
      else {
        engine_operating_mode = HIGH_RPM_RUNNING;
      }
    }
    else {
      engine_operating_mode = ENGINE_IDLE;
    }
    break;
  case TRANSITIONAL_MODE_7:
    if (engine_rpm_idle_threshold < current_engine_rpm) {
      if (current_engine_rpm < rpm_source_selector_value) {
        if ((((vp44_communication_status & 1) == 0) && (secured_shutdown_request_flag == 0)) ||
           (high_rpm_shutdown_active_flag == 1)) {
          engine_operating_mode = FAULT_EMERGENCY;
        }
      }
      else {
        engine_operating_mode = HIGH_RPM_RUNNING;
      }
    }
    else {
      engine_operating_mode = ENGINE_IDLE;
    }
    break;
  case FAULT_EMERGENCY:
    if ((((high_rpm_shutdown_active_flag == 1) && (current_engine_rpm == 0)) ||
        ((high_rpm_shutdown_active_flag == 0 && ((vp44_communication_status & 1) != 0)))) &&
       ((engine_operating_mode = ENGINE_IDLE, current_engine_rpm == 0 &&
        (high_rpm_shutdown_active_flag == 1)))) {
      high_rpm_shutdown_active_flag = 0;
    }
    if (((current_engine_rpm == 0) && ((vp44_communication_status & 1) == 0)) &&
       (secured_shutdown_request_flag == 0)) {
      engine_shutdown_complete_flag = 1;
    }
    break;
  default:
    engine_operating_mode = ENGINE_IDLE;
  }
  if (((engine_operating_mode != HIGH_PERFORMANCE) &&
      ((engine_fault_status_register_1 & 0x8000) != 0)) &&
     ((engine_fault_status_register_2 & 0x8000) == 0)) {
    engine_fault_status_register_1 = engine_fault_status_register_1 & 0x7fff;
    *(word *)((short)overspeed_event_buffer_index * 8 + 0x804c6e) =
         system_time_seconds_counter -
         *(short *)((short)overspeed_event_buffer_index * 8 + 0x804c6a);
    overspeed_event_active_flag = 0;
    overspeed_event_buffer_index = (ushort)(overspeed_event_buffer_index + 1) % 5;
  }
  if (((vp44_communication_status & 1) != 0) && (vp44_communication_status_latch == 0)) {
    secured_shutdown_request_flag = 0;
  }
  vp44_communication_status_latch = -((vp44_communication_status & 1) != 0) & 1;
  return;
}



//
// Function: engineOperatingModeInit @ 0x00014536
//

void engineOperatingModeInit(void)

{
  engine_operating_mode = ENGINE_IDLE;
  vp44_communication_status_latch = 0;
  return;
}



//
// Function: engineProtectionMultiStateSlowCycle40Coordinator @ 0x00014546
//

ushort engineProtectionMultiStateSlowCycle40Coordinator(void)

{
  PROTECTION_STATE PVar1;
  
  if ((diagnostic_system_flags_2 & 0x10) == 0) {
    fuel_arbitrator_threshold_1 = oil_pressure_precrank_status;
    protection_shutdown_fuel_limit = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
    protection_mode_state = 0;
    lamp_3_blink_trigger = 0;
    PVar1 = FAULT_DURATION_COUNT;
  }
  else {
    PVar1 = protection_state_machine_index;
    switch(protection_state_machine_index) {
    case FAULT_DURATION_COUNT:
      PVar1 = protectionState0FaultDurationCounter();
      break;
    case DIAGNOSTIC_VALIDATE:
      PVar1 = protectionState1DiagnosticValidator();
      break;
    case THRESHOLD_CALC:
      PVar1 = protectionState2ThresholdCalculator();
      break;
    case PRIMARY_RPM_MONITOR:
      protectionState3aPrimaryCoordinator();
      PVar1 = protectionState3bRpmMonitor();
      break;
    case EMERGENCY_HANDLER:
      PVar1 = protectionState4EmergencyHandler();
    }
    protection_state_machine_index = protection_state_machine_index + DIAGNOSTIC_VALIDATE;
    if (EMERGENCY_HANDLER < protection_state_machine_index) {
      protection_state_machine_index = FAULT_DURATION_COUNT;
      return PVar1;
    }
  }
  return PVar1;
}



//
// Function: protectionThresholdCalculationHelper @ 0x000145d4
//

ushort protectionThresholdCalculationHelper
                 (int param_1,int param_2,ushort *param_3,undefined4 param_4)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  
  if (param_4._0_2_ == 0) {
    uVar3 = *param_3;
    uVar1 = *(ushort *)(param_2 + 6);
    uVar2 = *(ushort *)(param_1 + 2);
    uVar4 = *(ushort *)(param_1 + 6);
  }
  else {
    uVar3 = param_3[1];
    uVar1 = *(ushort *)(param_2 + 8);
    uVar2 = *(ushort *)(param_1 + 4);
    uVar4 = *(ushort *)(param_1 + 8);
  }
  if (uVar2 < uVar1) {
    uVar4 = uVar4 + uVar3;
    if (0x100 < uVar4) {
      uVar4 = 0x100;
    }
  }
  else if (uVar4 < uVar3) {
    uVar4 = uVar3 - uVar4;
  }
  else {
    uVar4 = 0;
  }
  return uVar4;
}



//
// Function: protectionPercentageCalculator @ 0x0001462e
//

undefined4 protectionPercentageCalculator(undefined4 param_1,undefined4 param_2)

{
  int iVar1;
  short sVar2;
  
  iVar1 = ((int)(short)(param_1._0_2_ - param_1._2_2_) << 8) /
          (int)(short)(param_2._0_2_ - param_1._2_2_);
  sVar2 = (short)iVar1;
  if (sVar2 < 0x101) {
    if (sVar2 < 0) {
      sVar2 = 0;
    }
  }
  else {
    sVar2 = 0x100;
  }
  return CONCAT22((short)((uint)iVar1 >> 0x10),sVar2);
}



//
// Function: engineProtectionSystemInit @ 0x00014664
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineProtectionSystemInit(void)

{
  _protection_state_rpm_threshold = &vp44_sensor_history_state;
  pwm_timer_output_value = 0x2000;
  _pwm_timer_counter = 0x804c90;
  _pwm_timer_state = &throttle_position_raw;
  engine_protection_oil_pressure_ptr_1 = (dword)&dzg_threshold_level_2;
  engine_protection_oil_pressure_ptr_2 =
       (dword)&time_abuse_event_must_be_continuously_present_before_it_will_b_0_100;
  engine_protection_oil_pressure_ptr_3 =
       (dword)&time_that_must_elasp_since_last_event_to_consider_an_abuse_0_100000;
  engine_protection_boost_ptr_1 = 0x804cb8;
  engine_protection_boost_ptr_2 = 0x804cb8;
  engine_protection_boost_ptr_3 = (dword)&vp44_injection_timing_state;
  engine_protection_intake_temp_ptr_1 =
       (dword)&time_abuse_event_must_be_continuously_present_before_it_will_0_100;
  engine_protection_intake_temp_ptr_2 =
       (dword)&time_that_must_elasp_since_last_event_to_consider_an_abuse_0_100000;
  engine_protection_intake_temp_ptr_3 = 0x807db4;
  engine_protection_coolant_ptr_1 = 0x804ce0;
  engine_protection_coolant_ptr_2 = 0x804ce0;
  engine_protection_coolant_ptr_3 = (dword)&insite_parameter_display_value;
  engine_protection_fuel_temp_ptr_1 = (dword)&dzg_pressure_threshold_high;
  engine_protection_fuel_temp_ptr_2 = (dword)&eps_main_lost_duration_0_20;
  engine_protection_sensor_ptr_1 = 0x804d08;
  engine_protection_sensor_ptr_2 = 0x804d30;
  engine_protection_sensor_ptr_3 = (dword)&rpm_histogram_temp_value;
  engine_protection_shutdown_ptr_1 = 0x807df0;
  engine_protection_shutdown_ptr_2 = 0x807df2;
  engine_protection_derate_ptr_1 = 0x804d58;
  engine_protection_derate_ptr_2 = 0x80c98c;
  engine_protection_limit_ptr_1 = 0x80c988;
  engine_protection_state_ptr_1 = (dword)&engine_fluid_level_temp_data;
  engine_protection_state_ptr_2 = 0x807e50;
  protectionThresholdPointerInit();
  initShutdownLimitVariables();
  protection_state_machine_index = FAULT_DURATION_COUNT;
  return;
}



//
// Function: protectionConditionEvaluator @ 0x000147b6
//

uint protectionConditionEvaluator(ushort *param_1,undefined4 *param_2,undefined4 param_3)

{
  ushort uVar1;
  ushort uVar2;
  uint in_D0;
  uint uVar3;
  ushort unaff_D3w;
  
  uVar1 = *param_1;
  if ((uVar1 & 0x30) == 0) {
    uVar2 = *(ushort *)*param_2;
    if (param_3._0_2_ == 0) {
      if (param_3._2_2_ == 0) {
        unaff_D3w = **(ushort **)((int)param_2 + 10);
      }
      else if (param_3._2_2_ == 2) {
        unaff_D3w = param_1[8];
      }
    }
    else if (param_3._2_2_ == 0) {
      unaff_D3w = **(ushort **)((int)param_2 + 0x12);
    }
    else if (param_3._2_2_ == 2) {
      unaff_D3w = param_1[9];
    }
    uVar3 = in_D0 & 0xffff0000;
    if ((uVar1 & 4) == 0) {
      if (uVar2 < unaff_D3w) {
        return 1;
      }
    }
    else if (unaff_D3w <= uVar2) {
      return 1;
    }
  }
  else {
    uVar3 = (byte)-((*(ushort *)(param_2 + 1) & *(ushort *)*param_2) != 0) & 1;
    if (uVar3 == ((byte)-((uVar1 & 0x10) != 0) & 1)) {
      return 1;
    }
  }
  return uVar3 & 0xffff0000;
}



//
// Function: protectionState0FaultDurationCounter @ 0x0001485a
//

void protectionState0FaultDurationCounter(void)

{
  ushort uVar1;
  uint uVar2;
  word *pwVar3;
  word *pwVar4;
  
  pwVar3 = &protection_state_rpm_threshold;
  for (pwVar4 = &protection_state_config_table; pwVar4 < &protection_state2_config;
      pwVar4 = pwVar4 + 0x10) {
    if (pwVar3[0xb] == 0) {
      pwVar3[3] = 0;
      pwVar3[4] = 0;
    }
    else {
      uVar1 = *pwVar4;
      if ((uVar1 & 0x101) != 0) {
        uVar2 = protectionConditionEvaluator(pwVar4,(undefined4 *)pwVar3,0);
        if ((short)uVar2 == 0) {
          pwVar3[3] = 0;
        }
        else if (pwVar3[3] != 0xffff) {
          pwVar3[3] = pwVar3[3] + 1;
        }
      }
      if ((uVar1 & 0x402) != 0) {
        uVar2 = protectionConditionEvaluator(pwVar4,(undefined4 *)pwVar3,0x10000);
        if ((short)uVar2 == 0) {
          pwVar3[4] = 0;
        }
        else if (pwVar3[4] != 0xffff) {
          pwVar3[4] = pwVar3[4] + 1;
        }
      }
    }
    pwVar3 = pwVar3 + 0x17;
  }
  return;
}



//
// Function: diagnosticProtectionEvaluator @ 0x000148f8
//

uint diagnosticProtectionEvaluator(void)

{
  ushort uVar1;
  int iVar2;
  uint uVar3;
  ushort *puVar4;
  
  uVar3 = diagnostic_system_flags_2 & 0x10;
  if ((((((diagnostic_system_flags_2 & 0x10) != 0) &&
        (uVar3 = diagnostic_system_flags_2 & 1, (diagnostic_system_flags_2 & 1) != 0)) &&
       (uVar3 = diagnostic_system_flags_2 & 0x20, (diagnostic_system_flags_2 & 0x20) != 0)) &&
      ((diagnostic_protection_state != 0xff && (diagnostic_protection_state != 3)))) &&
     (uVar3 = (uint)protection_state_4_emergency_counter,
     diagnostic_protection_threshold <= protection_state_4_emergency_counter)) {
    puVar4 = &protection_state_config_table + (short)diagnostic_protection_state * 0x10;
    iVar2 = (int)(short)diagnostic_protection_state;
    uVar1 = diagnostic_protection_state * 4 + 0x70;
    uVar3 = (uint)(&vp44_status_flags_1)[(short)((int)(uVar1 + 2) >> 4)] & 1 << (uVar1 + 2) % 0x10;
    if ((uVar3 != 0) &&
       (uVar3 = (uint)(&vp44_status_flags_1)[(short)((int)(uVar1 + 3) >> 4)] &
                1 << (uVar1 + 3) % 0x10, uVar3 != 0)) {
      uVar1 = *puVar4;
      uVar3 = 0;
      if ((uVar1 & 1) != 0) {
        uVar3 = protectionConditionEvaluator
                          (puVar4,(undefined4 *)(&protection_state_rpm_threshold + iVar2 * 0x17),0);
        if ((short)uVar3 != 0) {
          (&protection_state_3b_rpm_array)[iVar2 * 0x17] = 1;
          high_rpm_protection_triggered_flag = 1;
        }
      }
      uVar3 = CONCAT22((short)(uVar3 >> 0x10),uVar1) & 0xffff0002;
      if ((uVar1 & 2) != 0) {
        uVar3 = protectionConditionEvaluator
                          (puVar4,(undefined4 *)(&protection_state_rpm_threshold + iVar2 * 0x17),
                           0x10000);
        if ((short)uVar3 != 0) {
          (&protection_state_3b_rpm_array)[iVar2 * 0x17] = 1;
          high_rpm_protection_triggered_flag = 1;
        }
      }
    }
  }
  return uVar3;
}



//
// Function: diagnosticProtectionProcessor @ 0x00014a4a
//

uint diagnosticProtectionProcessor(ushort *param_1,undefined4 *param_2,int param_3)

{
  ushort uVar1;
  uint in_D0;
  uint uVar2;
  undefined4 unaff_D2;
  undefined2 uVar3;
  
  uVar3 = (undefined2)((uint)unaff_D2 >> 0x10);
  uVar1 = *param_1;
  uVar2 = in_D0 & 0xffff0000;
  if ((uVar1 & 1) != 0) {
    uVar2 = protectionConditionEvaluator(param_1,param_2,0);
    if ((short)uVar2 == 0) {
      *(undefined2 *)(param_3 + 4) = 0;
    }
    else {
      uVar2 = uVar2 & 0xffff0000;
      if ((uVar1 & 0x40) == 0) {
        uVar2 = protectionPercentageCalculator
                          (CONCAT22(*(undefined2 *)*param_2,**(undefined2 **)((int)param_2 + 10)),
                           CONCAT22(**(undefined2 **)((int)param_2 + 0xe),uVar3));
        *(short *)(param_3 + 4) = (short)uVar2;
      }
      else {
        *(undefined2 *)(param_3 + 4) = 0x100;
      }
    }
  }
  uVar2 = CONCAT22((short)(uVar2 >> 0x10),uVar1) & 0xffff0002;
  if ((uVar1 & 2) != 0) {
    uVar2 = protectionConditionEvaluator(param_1,param_2,0x10000);
    if ((short)uVar2 == 0) {
      *(undefined2 *)(param_3 + 6) = 0;
      return uVar2;
    }
    *(undefined2 *)(param_3 + 6) = 0x100;
  }
  return uVar2;
}



//
// Function: protectionState1DiagnosticValidator @ 0x00014ae4
//

ushort protectionState1DiagnosticValidator(void)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  word *pwVar4;
  word *pwVar5;
  word *pwVar6;
  
  uVar1 = diagnostic_system_flags_2 & 1;
  if ((((diagnostic_system_flags_2 & 1) != 0) &&
      (uVar1 = diagnostic_system_flags_2 & 0x20, (diagnostic_system_flags_2 & 0x20) != 0)) &&
     (diagnostic_protection_state != 0xff)) {
    pwVar6 = &protection_state_rpm_threshold;
    pwVar4 = &engine_mode_transition_timer_array;
    uVar2 = 0x70;
    uVar3 = 0;
    for (pwVar5 = &protection_state_config_table; pwVar5 < &protection_state2_config;
        pwVar5 = pwVar5 + 0x10) {
      if ((((int)(short)diagnostic_protection_state == (uint)uVar3) &&
          (((uint)(&vp44_status_flags_1)[(short)((int)(uVar2 + 2) >> 4)] & 1 << (uVar2 + 2) % 0x10)
           != 0)) &&
         (((uint)(&vp44_status_flags_1)[(short)((int)(uVar2 + 3) >> 4)] & 1 << (uVar2 + 3) % 0x10)
          != 0)) {
        diagnosticProtectionProcessor(pwVar5,(undefined4 *)pwVar6,(int)pwVar4);
        protectionUpdateHandler();
      }
      else {
        pwVar4[2] = 0;
        pwVar4[3] = 0;
      }
      pwVar6 = pwVar6 + 0x17;
      uVar1 = 0x1e;
      pwVar4 = pwVar4 + 0xf;
      uVar2 = uVar2 + 4;
      uVar3 = uVar3 + 1;
    }
  }
  return uVar1;
}



//
// Function: protectionUpdateHandler @ 0x00014bdc
// ERROR: Failed to decompile
//

//
// Function: protectionState3aPrimaryCoordinator @ 0x00014c3a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void protectionState3aPrimaryCoordinator(void)

{
  ushort uVar1;
  undefined4 unaff_D2;
  uint uVar2;
  ushort uVar3;
  word *pwVar4;
  word *pwVar5;
  word *pwVar6;
  undefined2 uVar7;
  
  uVar7 = (undefined2)((uint)unaff_D2 >> 0x10);
  pwVar6 = &protection_state_rpm_threshold;
  pwVar4 = &engine_mode_transition_timer_array;
  uVar2 = 0x71;
  uVar3 = 0;
  for (pwVar5 = &protection_state_config_table; pwVar5 < &protection_state2_config;
      pwVar5 = pwVar5 + 0x10) {
    if ((*pwVar5 & 2) != 0) {
      if (((uint)(&vp44_status_flags_1)[(short)((int)uVar2 >> 4)] & 1 << (uVar2 & 0xf)) == 0) {
        uVar1 = 0;
      }
      else {
        uVar1 = protectionThresholdCalculationHelper
                          ((int)pwVar5,(int)pwVar6,pwVar4,CONCAT22(1,uVar7));
        if (uVar1 < pwVar4[3]) {
          uVar1 = pwVar4[3];
        }
      }
      pwVar4[1] = uVar1;
      if (uVar3 < uVar1) {
        uVar3 = pwVar4[1];
      }
    }
    pwVar6 = pwVar6 + 0x17;
    pwVar4 = pwVar4 + 0xf;
    uVar2 = (uint)(ushort)((short)uVar2 + 4);
  }
  fuel_arbitrator_threshold_1 = coreTableInterpolation(0x80);
  return;
}



//
// Function: protectionThresholdPointerInit @ 0x00014cfc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void protectionThresholdPointerInit(void)

{
  protection_threshold_status_shifted = (uint)oil_pressure_precrank_status << 0x10;
  _protection_threshold_table_ptr = 0x807e6e;
  fuel_arbitrator_threshold_1 = oil_pressure_precrank_status;
  return;
}



//
// Function: protectionStateUpdater @ 0x00014d24
//

void protectionStateUpdater(int param_1,int param_2,undefined4 param_3)

{
  if (param_3._0_2_ == 0) {
    if (*(short *)(param_2 + 0x1a) != -1) {
      *(short *)(param_2 + 0x1a) = *(short *)(param_2 + 0x1a) + 1;
    }
  }
  else if (*(short *)(param_2 + 0x1c) != -1) {
    *(short *)(param_2 + 0x1c) = *(short *)(param_2 + 0x1c) + 1;
  }
  if (engine_mode_transition_flag != 0) {
    if (param_3._0_2_ == 0) {
      *(undefined2 *)(param_2 + 0x1e) = *(undefined2 *)(param_1 + 0x14);
      return;
    }
    *(undefined2 *)(param_2 + 0x20) = *(undefined2 *)(param_1 + 0x14);
  }
  return;
}



//
// Function: protectionState4EmergencyHandler @ 0x00014d6a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort protectionState4EmergencyHandler(void)

{
  uint uVar1;
  ushort uVar2;
  undefined4 unaff_D2;
  ushort uVar3;
  uint uVar4;
  word wVar5;
  word *pwVar6;
  word *pwVar7;
  
  uVar3 = (ushort)((uint)unaff_D2 >> 0x10);
  if ((((diagnostic_system_flags_2 & 1) == 0) || (engine_operating_mode == FAULT_EMERGENCY)) ||
     (engine_operating_mode == ENGINE_IDLE)) {
    lamp_3_blink_trigger = 0;
    uVar3 = 0;
    pwVar6 = &protection_state_rpm_threshold;
    do {
      pwVar6[0xd] = 0;
      pwVar6[0xe] = 0;
      uVar2 = 0x2e;
      pwVar6 = pwVar6 + 0x17;
      uVar3 = uVar3 + 1;
    } while (uVar3 < 8);
  }
  else {
    lamp_3_blink_trigger = 0;
    pwVar7 = &protection_state_config_table;
    pwVar6 = &protection_state_rpm_threshold;
    uVar4 = 0x72;
    wVar5 = 0;
    if ((engine_rpm_previous_nonzero == 0) && (current_engine_rpm != 0)) {
      engine_mode_transition_flag = 1;
    }
    else {
      engine_mode_transition_flag = 0;
    }
    for (; pwVar7 < &protection_state2_config; pwVar7 = pwVar7 + 0x10) {
      uVar2 = *pwVar7;
      if (((uint)(&vp44_status_flags_1)[(short)((int)uVar4 >> 4)] & 1 << (uVar4 & 0xf)) == 0) {
        pwVar6[0xd] = 0;
        pwVar6[0xe] = 0;
      }
      else {
        if ((uVar2 & 0x300) != 0) {
          if (pwVar6[0xb] == 0) {
            pwVar6[0xd] = 0;
          }
          else {
            if ((uVar2 & 0x100) == 0) {
              if ((uVar2 & 0x200) != 0) {
                uVar1 = protectionConditionEvaluator(pwVar7,(undefined4 *)pwVar6,2);
                if ((short)uVar1 == 0) {
                  pwVar6[0xd] = 0;
                  pwVar6[0xf] = 0;
                }
                else {
                  protectionStateUpdater((int)pwVar7,(int)pwVar6,(uint)uVar3);
                }
              }
            }
            else if (pwVar7[8] < pwVar6[3]) {
              protectionStateUpdater((int)pwVar7,(int)pwVar6,(uint)uVar3);
            }
            else {
              pwVar6[0xd] = 0;
              pwVar6[0xf] = 0;
            }
            if (pwVar6[0xf] < pwVar6[0xd]) {
              lamp_3_blink_trigger = 1;
            }
            if ((uint)pwVar7[0xf] + (uint)pwVar6[0xf] < (uint)pwVar6[0xd]) {
              high_rpm_shutdown_active_flag = 1;
              diagnostic_protection_state = wVar5;
            }
          }
        }
        if ((uVar2 & 0xc00) != 0) {
          if (pwVar6[0xb] == 0) {
            pwVar6[0xe] = 0;
          }
          else {
            if ((uVar2 & 0x400) == 0) {
              if ((uVar2 & 0x800) != 0) {
                uVar1 = protectionConditionEvaluator(pwVar7,(undefined4 *)pwVar6,0x10002);
                if ((short)uVar1 == 0) {
                  pwVar6[0xe] = 0;
                  pwVar6[0x10] = 0;
                }
                else {
                  protectionStateUpdater((int)pwVar7,(int)pwVar6,CONCAT22(1,uVar3));
                }
              }
            }
            else if (pwVar7[9] < pwVar6[4]) {
              protectionStateUpdater((int)pwVar7,(int)pwVar6,CONCAT22(1,uVar3));
            }
            else {
              pwVar6[0xe] = 0;
              pwVar6[0x10] = 0;
            }
            if (pwVar6[0x10] < pwVar6[0xe]) {
              lamp_3_blink_trigger = 1;
            }
            if ((uint)pwVar7[0xf] + (uint)pwVar6[0x10] < (uint)pwVar6[0xe]) {
              high_rpm_shutdown_active_flag = 1;
              diagnostic_protection_state = wVar5;
            }
          }
        }
      }
      pwVar6 = pwVar6 + 0x17;
      uVar4 = (uint)(ushort)((short)uVar4 + 4);
      wVar5 = wVar5 + 1;
    }
    if (high_rpm_protection_triggered_flag != 0 || protection_emergency_fuel_value != 0) {
      lamp_3_blink_trigger = 1;
    }
    uVar2 = high_rpm_protection_triggered_flag | protection_emergency_rpm_value;
    if (uVar2 != 0) {
      high_rpm_shutdown_active_flag = 1;
    }
    if ((high_rpm_shutdown_active_flag != 0) && (_high_rpm_shutdown_previous == 0)) {
      if (_retry_counter_byte != 0xff) {
        _retry_counter_byte = _retry_counter_byte + 1;
      }
      uVar2 = diagnostic_protection_state;
      if (diagnostic_protection_state == _diagnostic_protection_previous) {
        if (protection_state_4_emergency_counter != 0xff) {
          protection_state_4_emergency_counter = protection_state_4_emergency_counter + 1;
        }
      }
      else {
        protection_state_4_emergency_counter = 1;
      }
    }
    _high_rpm_shutdown_previous = high_rpm_shutdown_active_flag;
    _diagnostic_protection_previous = diagnostic_protection_state;
  }
  engine_rpm_previous_nonzero = current_engine_rpm;
  return uVar2;
}



//
// Function: protectionCalculationHelper @ 0x00015038
//

uint protectionCalculationHelper(undefined4 param_1,uint param_2)

{
  uint in_D0;
  
  if ((param_2 & 0x40000) == 0) {
    if (((param_2 & 0x80000) != 0) && (param_1._0_2_ < param_1._2_2_)) {
      return 1;
    }
  }
  else if (param_1._2_2_ < param_1._0_2_) {
    return 1;
  }
  return in_D0 & 0xffff0000;
}



//
// Function: protectionStateProcessor @ 0x00015078
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint protectionStateProcessor(undefined4 param_1)

{
  undefined4 *puVar1;
  uint uVar2;
  undefined4 unaff_D2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  short *psVar6;
  int iVar7;
  
  if (param_1._0_2_ == 0) {
    uVar4 = *(ushort *)(_engine_mode_transition_timer + 0x18);
    uVar3 = _protection_fault_id_table[0xd];
    iVar7 = *(int *)((int)_engine_state_timer + 0x26);
    psVar6 = (short *)(_engine_mode_transition_timer + 0x16);
  }
  else {
    uVar4 = *(ushort *)(_engine_mode_transition_timer + 0x1c);
    uVar3 = _protection_fault_id_table[0xe];
    iVar7 = *(int *)((int)_engine_state_timer + 0x2a);
    psVar6 = (short *)(_engine_mode_transition_timer + 0x1a);
  }
  if (*psVar6 == 0) {
    *psVar6 = 1;
    puVar1 = (undefined4 *)(iVar7 + (uint)uVar4 * 8);
    *puVar1 = _loopCounter;
    *(undefined2 *)((int)puVar1 + 6) = 0;
    if ((*_protection_fault_id_table & 8) == 0) {
      *(undefined2 *)(puVar1 + 1) = 0;
    }
    else {
      *(undefined2 *)(puVar1 + 1) = 0xffff;
    }
  }
  uVar5 = 1 << (uVar3 & 0xf);
  (&fault_flags_active_base)[(short)((int)(uint)uVar3 >> 4)] =
       uVar5 | (&fault_flags_active_base)[(short)((int)(uint)uVar3 >> 4)];
  (&fault_flags_history_base)[(short)((int)(uint)uVar3 >> 4)] =
       uVar5 | (&fault_flags_history_base)[(short)((int)(uint)uVar3 >> 4)];
  uVar2 = *_protection_fault_id_table & 0xffff000c;
  if ((*_protection_fault_id_table & 0xc) != 0) {
    uVar2 = protectionCalculationHelper
                      (CONCAT22(*(undefined2 *)*_engine_state_timer,
                                *(undefined2 *)(iVar7 + 4 + (uint)uVar4 * 8)),
                       CONCAT22(*_protection_fault_id_table,(short)((uint)unaff_D2 >> 0x10)));
    if ((short)uVar2 != 0) {
      uVar2 = CONCAT22((short)(uVar2 >> 0x10),*(undefined2 *)*_engine_state_timer);
      *(undefined2 *)(iVar7 + 4 + (uint)uVar4 * 8) = *(undefined2 *)*_engine_state_timer;
    }
  }
  return uVar2;
}



//
// Function: protectionStateValidator @ 0x0001517c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 protectionStateValidator(undefined4 param_1)

{
  ushort uVar1;
  uint uVar2;
  uint uVar3;
  ushort uVar4;
  ushort *puVar5;
  int iVar6;
  short *psVar7;
  
  if (param_1._0_2_ == 0) {
    puVar5 = (ushort *)(_engine_mode_transition_timer + 0x18);
    uVar4 = *(ushort *)(_protection_fault_id_table + 0x1a);
    iVar6 = *(int *)(_engine_state_timer + 0x26);
    psVar7 = (short *)(_engine_mode_transition_timer + 0x16);
  }
  else {
    puVar5 = (ushort *)(_engine_mode_transition_timer + 0x1c);
    uVar4 = *(ushort *)(_protection_fault_id_table + 0x1c);
    iVar6 = *(int *)(_engine_state_timer + 0x2a);
    psVar7 = (short *)(_engine_mode_transition_timer + 0x1a);
  }
  uVar2 = (uint)(&fault_flags_active_base)[(short)((int)(uint)uVar4 >> 4)];
  uVar3 = uVar2 & 1 << (uVar4 & 0xf);
  if (uVar3 != 0) {
    uVar2 = (uint)(&fault_flags_history_base)[(short)((int)(uint)uVar4 >> 4)];
    uVar3 = uVar2 & 1 << (uVar4 & 0xf);
    if (uVar3 == 0) {
      uVar1 = ~(1 << (uVar4 & 0xf));
      uVar3 = (uint)uVar1;
      uVar2 = (int)(uint)uVar4 >> 4;
      (&fault_flags_active_base)[(short)uVar2] = uVar1 & (&fault_flags_active_base)[(short)uVar2];
      if (*psVar7 != 0) {
        *psVar7 = 0;
        *(word *)(iVar6 + 6 + (uint)*puVar5 * 8) =
             system_time_seconds_counter - (short)*(undefined4 *)(iVar6 + (uint)*puVar5 * 8);
        *puVar5 = *puVar5 + 1;
        uVar3 = (uint)*puVar5 % 5;
        uVar2 = *puVar5 / 5;
        *puVar5 = (ushort)uVar3;
      }
    }
  }
  return CONCAT44(uVar2,uVar3);
}



//
// Function: protectionState3bRpmMonitor @ 0x00015272
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void protectionState3bRpmMonitor(void)

{
  ushort uVar1;
  word wVar2;
  bool bVar3;
  bool bVar4;
  uint uVar5;
  undefined4 unaff_D2;
  ushort uVar6;
  
  uVar6 = (ushort)((uint)unaff_D2 >> 0x10);
  _engine_state_timer = &protection_state_rpm_threshold;
  _engine_mode_transition_timer = &engine_mode_transition_timer_array;
  for (_protection_fault_id_table = &protection_state_config_table;
      _protection_fault_id_table < &protection_state2_config;
      _protection_fault_id_table = _protection_fault_id_table + 0x10) {
    uVar1 = *_protection_fault_id_table;
    if ((_protection_fault_id_table[0xb] == 0) && (_protection_fault_id_table[0xc] == 0)) {
      _engine_state_timer[0xb] = 1;
    }
    else {
      if (_protection_fault_id_table[0xb] < current_engine_rpm) {
        _engine_state_timer[0x12] = 1;
      }
      else if (current_engine_rpm == 0) {
        _engine_state_timer[0xb] = 0;
        _engine_state_timer[0x11] = 0;
        _engine_state_timer[0x12] = 0;
      }
      if (_engine_state_timer[0x12] != 0) {
        if (_engine_state_timer[0x11] < _protection_fault_id_table[0xc]) {
          _engine_state_timer[0x11] = _engine_state_timer[0x11] + 1;
        }
        else {
          _engine_state_timer[0xb] = 1;
        }
      }
    }
    bVar3 = false;
    bVar4 = false;
    if (_engine_state_timer[0xb] == 0) {
      protectionStateValidator((uint)uVar6);
      protectionStateValidator(CONCAT22(1,uVar6));
    }
    else {
      if (_engine_state_timer[0xc] == 0) {
        if ((*_engine_mode_transition_timer != 0) || (_engine_state_timer[0xd] != 0)) {
          bVar3 = true;
        }
        if ((_engine_mode_transition_timer[1] != 0) || (_engine_state_timer[0xe] != 0)) {
          bVar4 = true;
        }
      }
      else {
        bVar3 = true;
        bVar4 = true;
      }
      if ((uVar1 & 0x1000) == 0) {
        if (bVar3) {
          *(int *)(_engine_mode_transition_timer + 7) =
               *(int *)(_engine_mode_transition_timer + 7) + 1;
          protectionStateProcessor((uint)uVar6);
        }
        else {
          protectionStateValidator((uint)uVar6);
        }
        if (bVar4) {
          *(int *)(_engine_mode_transition_timer + 9) =
               *(int *)(_engine_mode_transition_timer + 9) + 1;
          protectionStateProcessor(CONCAT22(1,uVar6));
        }
        else {
          protectionStateValidator(CONCAT22(1,uVar6));
        }
      }
      else if (bVar3 || bVar4) {
        *(int *)(_engine_mode_transition_timer + 7) =
             *(int *)(_engine_mode_transition_timer + 7) + 1;
        protectionStateProcessor((uint)uVar6);
      }
      else {
        protectionStateValidator((uint)uVar6);
      }
      if ((uVar1 & 0xc) != 0) {
        wVar2 = **(word **)_engine_state_timer;
        uVar5 = protectionCalculationHelper
                          (CONCAT22(wVar2,_engine_mode_transition_timer[4]),CONCAT22(uVar1,uVar6));
        if ((short)uVar5 != 0) {
          _engine_mode_transition_timer[4] = wVar2;
          *(undefined4 *)(_engine_mode_transition_timer + 5) = _loopCounter;
        }
      }
    }
    _engine_state_timer = _engine_state_timer + 0x17;
    _engine_mode_transition_timer = _engine_mode_transition_timer + 0xf;
  }
  return;
}



//
// Function: shutdownMinimumSelector29 @ 0x0001542a
//

void shutdownMinimumSelector29(void)

{
  if (protection_shutdown_fuel_limit < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = protection_shutdown_fuel_limit;
    shutdown_minimum_selector_value = PROTECTION_SHUTDOWN_LIMIT;
  }
  return;
}



//
// Function: protectionState2ThresholdCalculator @ 0x00015448
//

void protectionState2ThresholdCalculator(void)

{
  ushort uVar3;
  undefined4 uVar1;
  short sVar4;
  int iVar2;
  undefined4 unaff_D2;
  uint uVar5;
  ushort uVar6;
  word *pwVar7;
  word *pwVar8;
  word *pwVar9;
  ushort uVar10;
  
  uVar10 = (ushort)((uint)unaff_D2 >> 0x10);
  pwVar7 = &protection_state_rpm_threshold;
  pwVar9 = &engine_mode_transition_timer_array;
  uVar5 = 0x70;
  uVar6 = 0;
  for (pwVar8 = &protection_state_config_table; pwVar8 < &protection_state2_config;
      pwVar8 = pwVar8 + 0x10) {
    if ((*pwVar8 & 1) != 0) {
      if (((uint)(&vp44_status_flags_1)[(short)((int)uVar5 >> 4)] & 1 << (uVar5 & 0xf)) == 0) {
        uVar3 = 0;
      }
      else {
        if ((*pwVar8 & 0x40) == 0) {
          if (pwVar8[1] < pwVar7[3]) {
            uVar1 = protectionPercentageCalculator
                              (CONCAT22(**(undefined2 **)pwVar7,**(undefined2 **)(pwVar7 + 5)),
                               CONCAT22(**(undefined2 **)(pwVar7 + 7),uVar10));
            uVar3 = (ushort)uVar1;
          }
          else {
            uVar3 = 0;
          }
        }
        else {
          uVar3 = protectionThresholdCalculationHelper((int)pwVar8,(int)pwVar7,pwVar9,(uint)uVar10);
        }
        if (uVar3 < pwVar9[2]) {
          uVar3 = pwVar9[2];
        }
      }
      *pwVar9 = uVar3;
      if (uVar6 < uVar3) {
        uVar6 = *pwVar9;
      }
    }
    pwVar7 = pwVar7 + 0x17;
    pwVar9 = pwVar9 + 0xf;
    uVar5 = (uint)(ushort)((short)uVar5 + 4);
  }
  if ((protection_state_enable_flags & 0x1000) != 0) {
    if (current_engine_rpm == 0) {
      protection_state2_rpm_timer = 0;
    }
    else if (protection_state2_rpm_timer < protection_state2_threshold_value) {
      protection_state2_rpm_timer = protection_state2_rpm_timer + 1;
    }
    if (protection_state2_rpm_timer < protection_state2_threshold_value) {
      protection_state2_output_value = 0x100;
      uVar6 = 0x100;
    }
  }
  if ((int)(short)(protection_state2_config + protection_state2_threshold) < (int)(uint)uVar6) {
    uVar6 = protection_state2_config + protection_state2_threshold;
  }
  else if ((int)(uint)uVar6 < (int)(short)(protection_state2_threshold - protection_state2_config))
  {
    uVar6 = protection_state2_threshold - protection_state2_config;
  }
  protection_state2_threshold = uVar6;
  if (0x100 < (short)protection_state2_threshold) {
    protection_state2_threshold = 0x100;
  }
  if (protection_state2_threshold == 0) {
    protection_shutdown_fuel_limit = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  }
  else {
    protection_state2_rpm_snapshot = current_engine_rpm;
    sVar4 = lookupTableInterpolation((table_interp_args_t *)&protection_state2_lookup_args);
    iVar2 = (int)(short)(0x100 - protection_state2_threshold) *
            (int)(short)(calculated_fuel_timing_value - sVar4);
    if (iVar2 < 0) {
      iVar2 = iVar2 + 0xff;
    }
    protection_shutdown_fuel_limit = sVar4 + (short)((uint)iVar2 >> 8);
  }
  if ((short)protection_state2_threshold < 1) {
    protection_mode_state = 0;
    return;
  }
  protection_mode_state = 1;
  return;
}



//
// Function: initShutdownLimitVariables @ 0x0001562e
//

void initShutdownLimitVariables(void)

{
  protection_state2_rpm_timer = 0;
  protection_state2_threshold = 0;
  protection_state2_lookup_args = 2;
  protection_state2_table_ptr_1 = 0x807e72;
  protection_state2_table_ptr_2 = 0x807ea4;
  protection_shutdown_fuel_limit = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  protection_mode_state = 0;
  return;
}



//
// Function: can1TimerBufferInit @ 0x0001566a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void can1TimerBufferInit(void)

{
  dword *pdVar1;
  
  can1_canidmr0 = can1_canidmr0 & 0xffcf;
  can1_cantbsel = can1_cantbsel & 0xfbff;
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  rpm_filter_buffer_end = (uint)can1_timer_buffer_count * 4 + 0x80c42c;
  for (pdVar1 = &rpm_filter_buffer_start; pdVar1 <= rpm_filter_buffer_end; pdVar1 = pdVar1 + 1) {
    *pdVar1 = _CRFLOFPZ;
  }
  _fuel_demand_smoothed = &rpm_filter_buffer_start;
  if (can1_timer_buffer_divisor < 2) {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start + can1_timer_buffer_divisor;
  }
  _engine_rpm_divisor_1 = _CRFLOFPZ * can1_timer_buffer_count;
  engine_divisor_param_1 = _CRFLOFPZ * can1_timer_buffer_divisor;
  rpm_timer_interrupt_handler_ptr = (dword)rpmTimerInterruptHandler;
  can1_reserved = can1_reserved & 0xf0ff | 0xd00;
  IMB_CSOR0 = (ushort)can1_timer_buffer_config << 8;
  IMB_CSOR1 = 0;
  rpm_timer_capture_value = 0;
  IMB_CSBAR0 = 0xb;
  can1_canidar0 = can1_canidar0 & 0xffcf | 0x30;
  can1_canidar2 = can1_canidar2 & 0xffcf | 0x30;
  can1_cantbsel = can1_cantbsel | 0x400;
  can1_canidmr0 = can1_canidmr0 & 0xffcf | 0x20;
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    _engine_callback_function_ptr = &LAB_0001416c;
  }
  return;
}



//
// Function: delayWithWatchdogServiceWrapper @ 0x0001578c
//

void delayWithWatchdogServiceWrapper(void)

{
  pwmTimerMode0Init();
  return;
}



//
// Function: emptyStubFunction5 @ 0x00015794
//

void emptyStubFunction5(void)

{
  return;
}



//
// Function: rpmTimerInterruptHandler @ 0x00015796
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 rpmTimerInterruptHandler(void)

{
  dword dVar1;
  undefined4 in_D0;
  undefined4 in_D1;
  undefined2 uVar2;
  undefined2 uStack_1e;
  
  dVar1 = rpm_timer_capture_value;
  uVar2 = (undefined2)((uint)in_D0 >> 0x10);
  uStack_1e = (undefined2)in_D0;
  _rpm_timer_interrupt_capture = rpm_timer_capture_value;
  rpm_timer_capture_value = rpm_timer_capture_value & 0xffff;
  _engine_rpm_divisor_1 = dVar1 + (_engine_rpm_divisor_1 - *_throttle_position_buffer_ptr);
  *_throttle_position_buffer_ptr = dVar1;
  if (_throttle_position_buffer_ptr < rpm_filter_buffer_end) {
    _throttle_position_buffer_ptr = _throttle_position_buffer_ptr + 1;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  if (rpm_timing_accumulator < -(uint)rpm_timer_interrupt_threshold_7cd2 - 1) {
    rpm_timing_accumulator = rpm_timer_interrupt_threshold_7cd2 + rpm_timing_accumulator;
  }
  engine_divisor_param_1 =
       _rpm_timer_interrupt_capture + (engine_divisor_param_1 - *_fuel_demand_smoothed);
  if (_fuel_demand_smoothed < rpm_filter_buffer_end) {
    _fuel_demand_smoothed = (dword *)((int *)_fuel_demand_smoothed + 1);
  }
  else {
    _fuel_demand_smoothed = &rpm_filter_buffer_start;
  }
  if ((int)(uint)rpm_sample_index < (int)(can1_timer_buffer_count - 1)) {
    rpm_sample_index = rpm_sample_index + 1;
  }
  else {
    rpm_sample_index = 0;
  }
  _engine_fault_timer_1 = engine_fault_rpm_source_value;
  if (minimum_allowable_fueling_for_this_algorithm_to_operate_0_100 == 1) {
    if (rpm_sensor_fault_debounce == 0) {
      if (rpm_sensor_fault_counter < rpm_timer_interrupt_threshold_7d20) {
        rpm_sensor_fault_counter = rpm_sensor_fault_counter + 1;
      }
      else {
        fault_flags_active_base = fault_flags_active_base | 1;
        fault_flags_history_base = fault_flags_history_base | 1;
      }
      rpm_timer_capture_state = RPM_FAULT_DETECTED;
      engine_fault_status_register_1 = engine_fault_status_register_1 | 0x800;
      engine_fault_status_register_2 = engine_fault_status_register_2 | 0x800;
    }
    else {
      rpm_sensor_fault_debounce = rpm_sensor_fault_debounce - 1;
      if (rpm_sensor_fault_counter == 0) {
        if (((fault_flags_active_base & 1) != 0) && ((fault_flags_history_base & 1) == 0)) {
          fault_flags_active_base = fault_flags_active_base & 0xfffe;
        }
      }
      else {
        rpm_sensor_fault_counter = rpm_sensor_fault_counter - 1;
      }
    }
  }
  vp44_communication_state_machine(CONCAT22(1,uVar2));
  if ((_rpm_timer_interrupt_capture < -rpm_period_accumulator - 1) &&
     (rpm_period_accumulator = _rpm_timer_interrupt_capture + rpm_period_accumulator,
     timer_capture_delta_count != 0xffff)) {
    timer_capture_delta_count = timer_capture_delta_count + 1;
  }
  rpmTimingDeltaComparator();
  emptyStubFunction3();
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  return CONCAT44(CONCAT22(uVar2,uStack_1e),in_D1);
}



//
// Function: can1TimerBufferInitAlt @ 0x00015968
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void can1TimerBufferInitAlt(void)

{
  dword *pdVar1;
  
  can1_canidmr0 = can1_canidmr0 & 0xffcf;
  can1_cantbsel = can1_cantbsel & 0xfbff;
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  rpm_filter_buffer_end = (uint)can1_timer_buffer_count * 4 + 0x80c42c;
  for (pdVar1 = &rpm_filter_buffer_start; pdVar1 <= rpm_filter_buffer_end; pdVar1 = pdVar1 + 1) {
    *pdVar1 = _CRFLOFPZ;
  }
  _fuel_demand_smoothed = &rpm_filter_buffer_start;
  if (can1_timer_buffer_divisor < 2) {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start + can1_timer_buffer_divisor;
  }
  _engine_rpm_divisor_1 = _CRFLOFPZ * can1_timer_buffer_count;
  engine_divisor_param_1 = _CRFLOFPZ * can1_timer_buffer_divisor;
  rpm_timer_interrupt_handler_ptr = (dword)rpmTimerInterruptHandlerAlt;
  can1_reserved = can1_reserved & 0xf0ff | 0xd00;
  IMB_CSOR0 = (ushort)can1_timer_buffer_config << 8;
  IMB_CSOR1 = 0;
  rpm_timer_capture_value = 0;
  IMB_CSBAR0 = 0xb;
  can1_canidar0 = can1_canidar0 & 0xffcf | 0x30;
  can1_canidar2 = can1_canidar2 & 0xffcf | 0x30;
  can1_cantbsel = can1_cantbsel | 0x400;
  can1_canidmr0 = can1_canidmr0 & 0xffcf | 0x20;
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    _engine_callback_function_ptr = &LAB_0001416c;
  }
  return;
}



//
// Function: can1MessageTransmitInit @ 0x00015a8a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void can1MessageTransmitInit(void)

{
  can1_canidmr2 = can1_canidmr2 & 0xfffe;
  can1_cantxerr = can1_cantxerr & 0xfff0 | 9;
  state_machine_return_address = (dword)&LAB_00015c30;
  QSM_QMCR = 7;
  QSM_QTEST = maximum_allowed_timing_advance_for_this_algorithm_0_20 | 0x100;
  QSM_QSMCR = 0x100;
  QSM_QILR = CONCAT11(can1_message_transmit_config,
                      maximum_allowed_engine_speed_for_timing_advance_in_this_algor_0_4500._0_1_);
  _QSM_QIVR = 0;
  QSM_QILR_IVL = 0;
  can1_canidar1 = can1_canidar1 & 0xfffc | 3;
  can1_canidar3 = can1_canidar3 & 0xfffc | 1;
  can1_cantbsel = can1_cantbsel & 0xfffe | 1;
  can1_canidmr1 = can1_canidmr1 & 0xfffc | 1;
  pwmTimerMode0Init();
  return;
}



//
// Function: emptyStubFunction6 @ 0x00015b48
//

void emptyStubFunction6(void)

{
  return;
}



//
// Function: rpmTimerInterruptHandlerAlt @ 0x00015b4a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 rpmTimerInterruptHandlerAlt(void)

{
  dword dVar1;
  undefined4 in_D0;
  undefined4 in_D1;
  undefined2 uVar2;
  undefined2 uStack_1e;
  
  dVar1 = rpm_timer_capture_value;
  uVar2 = (undefined2)((uint)in_D0 >> 0x10);
  uStack_1e = (undefined2)in_D0;
  _rpm_timer_interrupt_capture = rpm_timer_capture_value;
  rpm_timer_capture_value = rpm_timer_capture_value & 0xffff;
  _engine_rpm_divisor_1 = dVar1 + (_engine_rpm_divisor_1 - *_throttle_position_buffer_ptr);
  *_throttle_position_buffer_ptr = dVar1;
  if (_throttle_position_buffer_ptr < rpm_filter_buffer_end) {
    _throttle_position_buffer_ptr = _throttle_position_buffer_ptr + 1;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  if (rpm_timing_accumulator < -(uint)rpm_timer_interrupt_threshold_7cd2 - 1) {
    rpm_timing_accumulator = rpm_timer_interrupt_threshold_7cd2 + rpm_timing_accumulator;
  }
  engine_divisor_param_1 =
       _rpm_timer_interrupt_capture + (engine_divisor_param_1 - *_fuel_demand_smoothed);
  if (_fuel_demand_smoothed < rpm_filter_buffer_end) {
    _fuel_demand_smoothed = (dword *)((int *)_fuel_demand_smoothed + 1);
  }
  else {
    _fuel_demand_smoothed = &rpm_filter_buffer_start;
  }
  _engine_fault_timer_1 = engine_fault_rpm_source_value;
  vp44_communication_state_machine(CONCAT22(1,uVar2));
  if ((_rpm_timer_interrupt_capture < -rpm_period_accumulator - 1) &&
     (rpm_period_accumulator = _rpm_timer_interrupt_capture + rpm_period_accumulator,
     timer_capture_delta_count != 0xffff)) {
    timer_capture_delta_count = timer_capture_delta_count + 1;
  }
  rpmTimingDeltaComparator();
  emptyStubFunction3();
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  return CONCAT44(CONCAT22(uVar2,uStack_1e),in_D1);
}



//
// Function: rpmTimingDeltaComparator @ 0x00015e96
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void rpmTimingDeltaComparator(void)

{
  ushort uVar1;
  
  if (_engine_fault_timer_2 == 0) {
    rpm_timing_delta_result_flag_1 = 1;
    return;
  }
  if (rpm_sample_index == rpm_sample_comparison_index) {
    rpm_timing_capture_delta = rpm_timing_capture_current - rpm_timing_capture_previous;
    if (rpm_timing_capture_current < rpm_timing_capture_previous) {
      uVar1 = rpm_timing_capture_previous - rpm_timing_capture_current;
    }
    else {
      uVar1 = rpm_timing_capture_current - rpm_timing_capture_previous;
    }
    if (uVar1 < _crank_sync_threshold) {
      rpm_timing_delta_result_flag_1 = 1;
      rpm_timing_delta_result_flag_2 = 1;
      return;
    }
    if (0 < (short)rpm_timing_capture_delta) {
      rpm_timing_delta_result_flag_1 = 1;
      rpm_timing_delta_result_flag_2 = 0;
      return;
    }
    rpm_timing_delta_result_flag_1 = 0;
    rpm_timing_delta_result_flag_2 = 1;
  }
  return;
}



//
// Function: rpmTimingDeltaComparatorWithReturn @ 0x00015f26
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint rpmTimingDeltaComparatorWithReturn(void)

{
  uint in_D0;
  uint uVar1;
  ushort uVar2;
  
  if (_engine_fault_timer_1 == 0) {
    rpm_timing_delta_result_flag_2 = 1;
    return in_D0;
  }
  uVar1 = CONCAT22((short)(in_D0 >> 0x10),rpm_sample_index);
  if (rpm_sample_index == rpm_sample_comparison_index) {
    rpm_timing_capture_delta = rpm_timing_capture_current - rpm_timing_capture_previous;
    if (rpm_timing_capture_current < rpm_timing_capture_previous) {
      uVar2 = rpm_timing_capture_previous - rpm_timing_capture_current;
    }
    else {
      uVar2 = rpm_timing_capture_current - rpm_timing_capture_previous;
    }
    if (uVar2 < _crank_sync_threshold) {
      rpm_timing_delta_result_flag_1 = 1;
      rpm_timing_delta_result_flag_2 = 1;
      return (uint)uVar2;
    }
    uVar1 = (uint)(ushort)(rpm_timing_capture_previous - rpm_timing_capture_current);
    if ((word)(rpm_timing_capture_previous - rpm_timing_capture_current) != 0 &&
        (short)rpm_timing_capture_current <= (short)rpm_timing_capture_previous) {
      rpm_timing_delta_result_flag_1 = 0;
      rpm_timing_delta_result_flag_2 = 1;
      return uVar1;
    }
    rpm_timing_delta_result_flag_1 = 1;
    rpm_timing_delta_result_flag_2 = 0;
  }
  return uVar1;
}



//
// Function: can1TimerBufferInitDivided @ 0x00015fb6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void can1TimerBufferInitDivided(void)

{
  dword *pdVar1;
  
  can1_canidmr0 = can1_canidmr0 & 0xffcf;
  can1_cantbsel = can1_cantbsel & 0xfbff;
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  rpm_filter_buffer_end = (uint)can1_timer_buffer_count * 4 + 0x80c42c;
  for (pdVar1 = &rpm_filter_buffer_start; pdVar1 <= rpm_filter_buffer_end; pdVar1 = pdVar1 + 1) {
    *pdVar1 = _CRFLOFPZ;
  }
  _fuel_demand_smoothed = &rpm_filter_buffer_start;
  if (can1_timer_buffer_divisor < 2) {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start + can1_timer_buffer_divisor;
  }
  _engine_rpm_divisor_1 = _CRFLOFPZ * can1_timer_buffer_count;
  engine_divisor_param_1 = _CRFLOFPZ * can1_timer_buffer_divisor;
  rpm_timer_interrupt_handler_ptr = (dword)rpmTimerInterruptHandler2;
  can1_reserved = can1_reserved & 0xf0ff | 0xd00;
  IMB_CSOR0 = can1_timer_callback_state / can1_timer_buffer_count << 8;
  IMB_CSOR1 = 0;
  rpm_timer_capture_value = 0;
  IMB_CSBAR0 = 0xb;
  can1_canidar0 = can1_canidar0 & 0xffcf | 0x30;
  can1_canidar2 = can1_canidar2 & 0xffcf | 0x30;
  can1_cantbsel = can1_cantbsel | 0x400;
  can1_canidmr0 = can1_canidmr0 & 0xffcf | 0x20;
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    _engine_callback_function_ptr = &LAB_0001416c;
  }
  return;
}



//
// Function: can1MessageTransmitInit2 @ 0x000160e2
//

void can1MessageTransmitInit2(void)

{
  can1_canidmr2 = can1_canidmr2 & 0xfffe;
  can1_cantxerr = can1_cantxerr & 0xfff0 | 9;
  QSM_QMCR = 4;
  QSM_QTEST = maximum_allowed_timing_advance_for_this_algorithm_0_20 | 0x100;
  QSM_QILR = CONCAT11(can1_message_transmit_config,
                      maximum_allowed_engine_speed_for_timing_advance_in_this_algor_0_4500._0_1_);
  IMB_CSBAR10 = 0xc000;
  can1_canidar1 = can1_canidar1 & 0xfffc | 3;
  can1_canidar3 = can1_canidar3 & 0xfffc | 1;
  can1_canidmr1 = can1_canidmr1 & 0xfffc | 2;
  state_machine_return_address = (dword)&LAB_00016370;
  can1_cantbsel = can1_cantbsel & 0xfffe | 1;
  pwmTimerMode0Init();
  return;
}



//
// Function: emptyStubFunction7 @ 0x00016190
//

void emptyStubFunction7(void)

{
  return;
}



//
// Function: rpmTimerInterruptHandler2 @ 0x00016192
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 rpmTimerInterruptHandler2(void)

{
  dword dVar1;
  undefined4 in_D0;
  undefined4 in_D1;
  undefined2 uVar2;
  undefined2 uStack_1e;
  
  dVar1 = rpm_timer_capture_value;
  uVar2 = (undefined2)((uint)in_D0 >> 0x10);
  uStack_1e = (undefined2)in_D0;
  _rpm_timer_interrupt_capture = rpm_timer_capture_value;
  rpm_timer_capture_value = rpm_timer_capture_value & 0xffff;
  _engine_rpm_divisor_1 = dVar1 + (_engine_rpm_divisor_1 - *_throttle_position_buffer_ptr);
  *_throttle_position_buffer_ptr = dVar1;
  if (_throttle_position_buffer_ptr < rpm_filter_buffer_end) {
    _throttle_position_buffer_ptr = _throttle_position_buffer_ptr + 1;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  if (rpm_timing_accumulator < -(uint)rpm_timer_interrupt_threshold_7cd2 - 1) {
    rpm_timing_accumulator = rpm_timer_interrupt_threshold_7cd2 + rpm_timing_accumulator;
  }
  engine_divisor_param_1 =
       _rpm_timer_interrupt_capture + (engine_divisor_param_1 - *_fuel_demand_smoothed);
  if (_fuel_demand_smoothed < rpm_filter_buffer_end) {
    _fuel_demand_smoothed = (dword *)((int *)_fuel_demand_smoothed + 1);
  }
  else {
    _fuel_demand_smoothed = &rpm_filter_buffer_start;
  }
  if ((int)(uint)rpm_sample_index < (int)(can1_timer_buffer_count - 1)) {
    rpm_sample_index = rpm_sample_index + 1;
  }
  else {
    rpm_sample_index = 0;
  }
  _engine_fault_timer_1 = engine_fault_rpm_source_value;
  if (minimum_allowable_fueling_for_this_algorithm_to_operate_0_100 == 1) {
    if (rpm_sensor_fault_debounce == 0) {
      if (rpm_sensor_fault_counter < rpm_timer_interrupt_threshold_7d20) {
        rpm_sensor_fault_counter = rpm_sensor_fault_counter + 1;
      }
      else {
        fault_flags_active_base = fault_flags_active_base | 1;
        fault_flags_history_base = fault_flags_history_base | 1;
      }
      rpm_timer_capture_state = RPM_FAULT_DETECTED;
      engine_fault_status_register_1 = engine_fault_status_register_1 | 0x800;
      engine_fault_status_register_2 = engine_fault_status_register_2 | 0x800;
    }
    else {
      rpm_sensor_fault_debounce = rpm_sensor_fault_debounce - 1;
      if (rpm_sensor_fault_counter == 0) {
        if (((fault_flags_active_base & 1) != 0) && ((fault_flags_history_base & 1) == 0)) {
          fault_flags_active_base = fault_flags_active_base & 0xfffe;
        }
      }
      else {
        rpm_sensor_fault_counter = rpm_sensor_fault_counter - 1;
      }
    }
  }
  vp44_communication_state_machine(CONCAT22(1,uVar2));
  vp44_communication_state_machine(CONCAT22(1,uVar2));
  if ((_rpm_timer_interrupt_capture < -rpm_period_accumulator - 1) &&
     (rpm_period_accumulator = _rpm_timer_interrupt_capture + rpm_period_accumulator,
     timer_capture_delta_count != 0xffff)) {
    timer_capture_delta_count = timer_capture_delta_count + 1;
  }
  rpmTimingDeltaComparator();
  emptyStubFunction3();
  if ((_rpm_timer_interrupt_capture < -rpm_period_accumulator - 1) &&
     (rpm_period_accumulator = _rpm_timer_interrupt_capture + rpm_period_accumulator,
     timer_capture_delta_count != 0xffff)) {
    timer_capture_delta_count = timer_capture_delta_count + 1;
  }
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  return CONCAT44(CONCAT22(uVar2,uStack_1e),in_D1);
}



//
// Function: can1TimerBufferInitConditional @ 0x000163f8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint can1TimerBufferInitConditional(void)

{
  undefined4 in_D0;
  uint uVar1;
  dword *pdVar2;
  
  uVar1 = CONCAT22((short)((uint)in_D0 >> 0x10),_engine_system_status_flags) & 0xffff0001;
  if ((_engine_system_status_flags & 1) != 0) {
    can1_canidmr0 = can1_canidmr0 & 0xffcf;
    can1_cantbsel = can1_cantbsel & 0xfbff;
    can1_canidmr2 = can1_canidmr2 & 0xfbff;
    rpm_filter_buffer_end = (uint)can1_timer_buffer_count * 4 + 0x80c42c;
    for (pdVar2 = &rpm_filter_buffer_start; pdVar2 <= rpm_filter_buffer_end; pdVar2 = pdVar2 + 1) {
      *pdVar2 = _CRFLOFPZ;
    }
    _fuel_demand_smoothed = &rpm_filter_buffer_start;
    if (can1_timer_buffer_divisor < 2) {
      _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
    }
    else {
      _throttle_position_buffer_ptr = &rpm_filter_buffer_start + can1_timer_buffer_divisor;
    }
    _engine_rpm_divisor_1 = _CRFLOFPZ * can1_timer_buffer_count;
    uVar1 = _CRFLOFPZ * can1_timer_buffer_divisor;
    rpm_filter_buffer_ptr = (dword)&rpm_filter_buffer_start;
    rpm_timer_interrupt_handler_ptr = (dword)rpmTimerInterruptHandler3;
    can1_reserved = can1_reserved & 0xf0ff | 0xd00;
    IMB_CSOR0 = 0x100;
    IMB_CSOR1 = 0;
    rpm_timer_capture_value = 0;
    IMB_CSBAR0 = 7;
    can1_canidar0 = can1_canidar0 & 0xffcf | 0x20;
    can1_canidar2 = can1_canidar2 & 0xffcf | 0x30;
    can1_cantbsel = can1_cantbsel | 0x400;
    can1_canidmr0 = can1_canidmr0 & 0xffcf | 0x20;
    _can1_timer_buffer_state = &LAB_00016814;
    engine_divisor_param_1 = uVar1;
  }
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    _engine_callback_function_ptr = &LAB_0001416c;
  }
  return uVar1;
}



//
// Function: delayWithWatchdogServiceWrapper2 @ 0x00016548
//

void delayWithWatchdogServiceWrapper2(void)

{
  pwmTimerMode0Init();
  return;
}



//
// Function: emptyStubFunction8 @ 0x00016550
//

void emptyStubFunction8(void)

{
  return;
}



//
// Function: rpmTimerInterruptHandler3 @ 0x00016552
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 rpmTimerInterruptHandler3(void)

{
  dword dVar1;
  undefined4 in_D0;
  int iVar2;
  undefined4 in_D1;
  undefined2 uVar3;
  undefined2 uVar4;
  undefined2 uStack_22;
  
  dVar1 = rpm_timer_capture_value;
  uVar4 = (undefined2)((uint)in_D0 >> 0x10);
  uStack_22 = (undefined2)in_D0;
  rpm_timer_capture_value = rpm_timer_capture_value & 0xffff;
  uVar3 = (undefined2)(dVar1 >> 0x10);
  iVar2 = throttleTimeAccumulatorProcessor(dVar1,CONCAT22(IMB_CSBAR1,uVar4));
  if (rpm_timer_capture_state == CAPTURING) {
    if (iVar2 == 0) {
      IMB_CSBAR0 = 0xffff;
      can1_canidar2 = can1_canidar2 & 0xffcf | 0x20;
    }
  }
  else {
    IMB_CSBAR0 = 0x8080;
    can1_canidar2 = can1_canidar2 & 0xffcf | 0x20;
  }
  vp44_communication_state_machine(CONCAT22(1,uVar3));
  if ((_rpm_timer_interrupt_capture < -rpm_period_accumulator - 1) &&
     (rpm_period_accumulator = _rpm_timer_interrupt_capture + rpm_period_accumulator,
     timer_capture_delta_count != 0xffff)) {
    timer_capture_delta_count = timer_capture_delta_count + 1;
  }
  rpmTimingDeltaComparator();
  emptyStubFunction3();
  can1_canidmr2 = can1_canidmr2 & 0xfbff;
  return CONCAT44(CONCAT22(uVar4,uStack_22),in_D1);
}



//
// Function: throttleTimeAccumulatorProcessor @ 0x00016622
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int throttleTimeAccumulatorProcessor(int param_1,undefined4 param_2)

{
  short sVar1;
  uint unaff_A2;
  
  _rpm_timer_interrupt_capture = param_1;
  rpm_timing_capture_previous = param_2._0_2_;
  sVar1 = throttlePositionValidator(unaff_A2 >> 0x10);
  if (sVar1 != 0) {
    if (can1_timer_buffer_count == _throttle_zero_position_counter) {
      rpm_timer_capture_state = CAPTURING;
    }
    else {
      if (rpm_timer_capture_state == CAPTURING) {
        rpm_timer_capture_state = RPM_FAULT_DETECTED;
      }
      if ((current_engine_fuel_demand < time_to_delay_before_setting_a_new_throttle_min_0_25500) &&
         (throttle_fault_delay_counter <
          minimum_allowable_engine_speed_for_this_algorithm_to_operate_0_4500._0_1_)) {
        throttle_fault_delay_counter = throttle_fault_delay_counter + 1;
      }
      else if (((rpm_timer_capture_state == RPM_FAULT_DETECTED) &&
               (throttle_fault_threshold_low <= throttle_fault_threshold_high)) ||
              ((pwm_timer_calc_value_2._0_1_ == '\x02' &&
               (throttle_fault_threshold_low <= throttle_fault_threshold_alt)))) {
        engine_fault_status_register_1 = engine_fault_status_register_1 | 0x800;
        engine_fault_status_register_2 = engine_fault_status_register_2 | 0x800;
      }
    }
    throttle_timer_capture_backup = _rpm_timer_interrupt_capture;
    _throttle_zero_position_counter = 0;
    _engine_fault_timer_1 = engine_fault_rpm_source_value;
    return 0;
  }
  _throttle_zero_position_counter = _throttle_zero_position_counter + 1;
  if (_throttle_zero_position_counter == 1) {
    _rpm_timer_interrupt_capture = throttle_timer_capture_backup + _rpm_timer_interrupt_capture;
    rpm_sample_index = 0;
  }
  else if ((rpm_sample_index < can1_timer_buffer_count) || (rpm_timer_capture_state != CAPTURING)) {
    rpm_sample_index = rpm_sample_index + 1;
  }
  else {
    rpm_timer_capture_state = RPM_FAULT_DETECTED;
  }
  _engine_rpm_divisor_1 =
       _rpm_timer_interrupt_capture + (_engine_rpm_divisor_1 - *_throttle_position_buffer_ptr);
  *_throttle_position_buffer_ptr = _rpm_timer_interrupt_capture;
  if (_throttle_position_buffer_ptr < rpm_filter_buffer_end) {
    _throttle_position_buffer_ptr = _throttle_position_buffer_ptr + 1;
  }
  else {
    _throttle_position_buffer_ptr = &rpm_filter_buffer_start;
  }
  if (rpm_timing_accumulator < -(uint)rpm_timer_interrupt_threshold_7cd2 - 1) {
    rpm_timing_accumulator = rpm_timer_interrupt_threshold_7cd2 + rpm_timing_accumulator;
  }
  engine_divisor_param_1 =
       _rpm_timer_interrupt_capture + (engine_divisor_param_1 - *_fuel_demand_smoothed);
  if (_fuel_demand_smoothed < rpm_filter_buffer_end) {
    _fuel_demand_smoothed = (dword *)((int *)_fuel_demand_smoothed + 1);
  }
  else {
    _fuel_demand_smoothed = &rpm_filter_buffer_start;
  }
  if (throttle_fault_threshold_alt != 0 || throttle_fault_threshold_high != 0) {
    _engine_fault_timer_1 = engine_fault_rpm_source_value;
    return _throttle_zero_position_counter;
  }
  if ((engine_fault_status_register_1 & 0x800) == 0) {
    _engine_fault_timer_1 = engine_fault_rpm_source_value;
    throttle_fault_delay_counter = 0;
    return _throttle_zero_position_counter;
  }
  if ((engine_fault_status_register_2 & 0x800) != 0) {
    _engine_fault_timer_1 = engine_fault_rpm_source_value;
    throttle_fault_delay_counter = 0;
    return _throttle_zero_position_counter;
  }
  engine_fault_status_register_1 = engine_fault_status_register_1 & 0xf7ff;
  _engine_fault_timer_1 = engine_fault_rpm_source_value;
  throttle_fault_delay_counter = 0;
  return _throttle_zero_position_counter;
}



//
// Function: fuelTimingOilPressureModeController @ 0x0001685c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort fuelTimingOilPressureModeController(void)

{
  ushort uVar1;
  
  uVar1 = vp44_status_flags_2 & 0x10;
  if (uVar1 != 0) {
    if (oil_pressure_mode_active_flag == 0) {
      if (oil_pressure_mode_selector == 2) {
        crank_exit_rpm_threshold = engine_speed_for_transition_into_out_of_crank_reentr_state_0_300;
      }
      else {
        crank_exit_rpm_threshold = crank_exit_fuel_ramp_rpm_0_1000;
      }
      if (active_derate_value < crank_exit_rpm_threshold) {
        if (fuel_timing_oil_pressure_state < determines_how_engine_position_is_sync_d_to_cam_0) {
          fuel_timing_oil_pressure_state = fuel_timing_oil_pressure_state + 1;
        }
      }
      else {
        fuel_timing_oil_pressure_state = 0;
      }
      if (((active_derate_value < crank_exit_fuel_ramp_rpm_0_1000) &&
          (determines_how_engine_position_is_sync_d_to_cam_0 <= fuel_timing_oil_pressure_state)) ||
         (oil_pressure_mode_selector == 2)) {
        fuel_timing_oil_pressure_timer = 0;
      }
      else if (fuel_timing_oil_pressure_timer < _software_padding_0_255) {
        fuel_timing_oil_pressure_timer = fuel_timing_oil_pressure_timer + 1;
      }
      engine_rpm_delta = engine_rpm_previous_sample - current_engine_rpm;
      engine_rpm_previous_sample = current_engine_rpm;
      rpm_moving_average = exponentialMovingAverage();
      if ((int)(uint)crank_exited_initial_rpm_offset_1000_1000 < (int)(short)rpm_moving_average) {
        if (_fuel_timing_oil_pressure_mode_state < crank_exited_initial_fueling_offset_100_100) {
          _fuel_timing_oil_pressure_mode_state = _fuel_timing_oil_pressure_mode_state + 1;
        }
      }
      else {
        _fuel_timing_oil_pressure_mode_state = 0;
      }
      fuelTimingTransitionStateMachine();
      if (oil_pressure_mode_selector == 0) {
        if ((((int)((uint)calculated_fuel_timing_value - (uint)_software_padding_0) <=
              (int)(uint)current_fuel_demand_value) && (fuel_timing_transition_value_1 != 0)) &&
           (((derate_status_byte & 8) == 0 &&
            ((throttle_position_raw < crank_exit_fuel_ramp_rate_maximum_0_100 &&
             (intake_manifold_temp_raw < intake_manifold_temp_threshold)))))) {
          fuel_timing_control_value = 0x4000;
          oil_pressure_mode_selector = 2;
        }
        if ((((((vp44_status_flags_2 & 0x20) != 0) && ((derate_status_byte & 8) == 0)) &&
             (fuel_timing_transition_value_2 != 0)) &&
            ((fuel_timing_mode_blend_factor_965a < crank_jumpstart_rpm_ramp_rate_0_1000 &&
             (crank_exit_fuel_ramp_rpm_0_1000 <= active_derate_value)))) &&
           ((throttle_position_raw < crank_exit_fuel_ramp_rate_maximum_0_100 &&
            (intake_manifold_temp_raw < intake_manifold_temp_threshold)))) {
          fuel_timing_control_value = crank_exit_fuel_ramp_rate_0_100;
          oil_pressure_mode_selector = 1;
        }
      }
      else if (oil_pressure_mode_selector == 2) {
        if (((fuel_timing_transition_value_1 != 0) ||
            (throttle_position_raw_threshold < throttle_position_raw)) ||
           (intake_temp_upper_threshold < intake_manifold_temp_raw)) {
          fuel_timing_control_value = 0;
          oil_pressure_mode_selector = 0;
        }
      }
      else if (oil_pressure_mode_selector == 1) {
        if ((((fuel_timing_transition_value_2 != 0) ||
             (crank_jumpstart_rpm_ramp_rate_0_1000 <= fuel_timing_mode_blend_factor_965a)) ||
            (determines_how_engine_position_is_sync_d_to_cam_0 <= fuel_timing_oil_pressure_state))
           || ((throttle_position_raw_threshold < throttle_position_raw ||
               (intake_temp_upper_threshold < intake_manifold_temp_raw)))) {
          fuel_timing_control_value = 0;
          oil_pressure_mode_selector = 0;
        }
      }
      else {
        fuel_timing_control_value = 0;
        oil_pressure_mode_selector = 0;
      }
    }
    else {
      oil_pressure_mode_selector = oil_pressure_override_mode;
      if (oil_pressure_override_mode == 0) {
        fuel_timing_control_value = 0;
      }
      else if (oil_pressure_override_mode == 2) {
        fuel_timing_control_value = 0x4000;
      }
      else {
        fuel_timing_control_value = crank_exit_fuel_ramp_rate_0_100;
      }
    }
    uVar1 = 0x4000 - fuel_timing_control_value;
    fuel_timing_mode_selector = uVar1;
  }
  return uVar1;
}



//
// Function: initOilPressureModeSystem @ 0x00016af2
//

void initOilPressureModeSystem(void)

{
  oil_pressure_mode_selector = 0;
  oil_pressure_mode_init_flag = 0x80000000;
  oil_pressure_crank_exit_ptr = (dword)&crank_exit_time_0_13107;
  return;
}



//
// Function: oilPressureModeParameterPointerConfig @ 0x00016b0e
//

ushort oilPressureModeParameterPointerConfig(void)

{
  ushort uVar1;
  
  uVar1 = vp44_status_flags_2 & 0x10;
  if ((vp44_status_flags_2 & 0x10) != 0) {
    if (oil_pressure_mode_selector == 0) {
      param_pointer_set_1 = 0x807f2a;
      param_pointer_set_2 = 0x807f2c;
      param_pointer_set_3 =
           (dword)&max_crank_sync_backup_error_count_crank_sync_backup_errors_b_0_255;
      return 0;
    }
    if (oil_pressure_mode_selector == 2) {
      param_pointer_set_1 =
           (dword)&max_cam_sync_backup_error_count_of_cam_sync_backup_errors_be_0_255;
      param_pointer_set_2 =
           (dword)&time_to_reach_full_derate_during_engine_protection_fuelin_0_0039_256;
      param_pointer_set_3 =
           (dword)&period_of_time_after_powerup_during_which_no_oil_pres_faults_0_255;
      return 2;
    }
    if (oil_pressure_mode_selector == 1) {
      param_pointer_set_1 =
           (dword)&fills_hole_left_by_making_engine_protection_rpm_delta_a_globa_0_3000;
      param_pointer_set_2 = (dword)&EPMXDQRP;
      param_pointer_set_3 = (dword)&maximum_rpm_limit_filter_time_constant_0_1_0;
      return 1;
    }
    param_pointer_set_1 = 0x807f2a;
    param_pointer_set_2 = 0x807f2c;
    param_pointer_set_3 = (dword)&max_crank_sync_backup_error_count_crank_sync_backup_errors_b_0_255
    ;
    uVar1 = oil_pressure_mode_selector;
  }
  return uVar1;
}



//
// Function: dutyCycleMonitorCanInit @ 0x00016ba8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void dutyCycleMonitorCanInit(void)

{
  dword *pdVar1;
  
  can1_canidmr1 = can1_canidmr1 & 0xfff3;
  can1_cantbsel = can1_cantbsel & 0xfffd;
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  rpm_timer_capture_state = INITIALIZING;
  rpm_timer_capture_mode = 0;
  duty_cycle_buffer_end_ptr = (uint)can1_timer_buffer_reserved * 4 + 0x80c5bc;
  for (pdVar1 = &duty_cycle_monitor_buffer_start; pdVar1 <= duty_cycle_buffer_end_ptr;
      pdVar1 = pdVar1 + 1) {
    *pdVar1 = _duty_cycle_monitor_config;
  }
  duty_cycle_monitor_buffer_ptr = (dword)&duty_cycle_monitor_buffer_start;
  if (can1_timer_buffer_config_reserved < 2) {
    duty_cycle_buffer_current_ptr = (dword)&duty_cycle_monitor_buffer_start;
  }
  else {
    duty_cycle_buffer_current_ptr =
         (dword)(&duty_cycle_monitor_buffer_start + can1_timer_buffer_config_reserved);
  }
  _engine_rpm_divisor_2 = _duty_cycle_monitor_config * can1_timer_buffer_reserved;
  _engine_divisor_param_2 = _duty_cycle_monitor_config * can1_timer_buffer_config_reserved;
  _duty_cycle_monitor_slot_config = dutyCycleMonitorIsrHandler;
  can1_cantxerr = can1_cantxerr & 0xff0f | 0xd0;
  QSM_PQSCTL = 0x100;
  QSM_DDRQS = 0;
  _QSM_PQSPAR = 0;
  QSM_PORTQS = 0x4f;
  can1_canidar1 = can1_canidar1 & 0xfff3;
  can1_canidar3 = can1_canidar3 & 0xfff3 | 0xc;
  can1_cantbsel = can1_cantbsel | 2;
  can1_canidmr1 = can1_canidmr1 & 0xfff3 | 8;
  return;
}



//
// Function: dutyCycleMonitorIsrHandler @ 0x00016cb4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 dutyCycleMonitorIsrHandler(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  duty_cycle_monitor_buffer_state = QSM_QPAR;
  QSM_PQSPAR = 0;
  rpm_sensor_fault_debounce = (byte)duty_cycle_short_term_log_time_period_1_0_1000_0;
  if (QSM_QPAR == DCMNHIES) {
    if (duty_cycle_monitor_fault_counter == 0) {
      if (((fault_flags_active_base & 1) != 0) && ((fault_flags_history_base & 1) == 0)) {
        fault_flags_active_base = fault_flags_active_base & 0xfffe;
      }
    }
    else {
      duty_cycle_monitor_fault_counter = duty_cycle_monitor_fault_counter - 1;
    }
    if (rpm_sample_index == fuel_rate_at_maximum_fueling_conditions_32000_450000) {
      rpm_timer_capture_state = CAPTURING;
      rpm_timer_capture_mode = 1;
      if (((engine_fault_status_register_1 & 0x800) != 0) &&
         ((engine_fault_status_register_2 & 0x800) == 0)) {
        engine_fault_status_register_1 = engine_fault_status_register_1 & 0xf7ff;
      }
      if (duty_cycle_error_counter == 0) {
        if (((fault_flags_active_base & 1) != 0) && ((fault_flags_history_base & 1) == 0)) {
          fault_flags_active_base = fault_flags_active_base & 0xfffe;
        }
      }
      else {
        duty_cycle_error_counter = duty_cycle_error_counter - 1;
      }
    }
    else {
      rpm_timer_capture_state = RPM_FAULT_DETECTED;
      rpm_timer_capture_mode = 2;
      rpm_sample_index = fuel_rate_at_maximum_fueling_conditions_32000_450000;
      if (duty_cycle_error_counter < duty_cycle_monitor_DCMNESTB_00807d1e.rpm_thresholds._0_1_) {
        duty_cycle_error_counter = duty_cycle_error_counter + 1;
      }
      else {
        fault_flags_active_base = fault_flags_active_base | 1;
        fault_flags_history_base = fault_flags_history_base | 1;
        engine_fault_status_register_1 = engine_fault_status_register_1 | 0x800;
        engine_fault_status_register_2 = engine_fault_status_register_2 | 0x800;
      }
    }
  }
  else if (QSM_QPAR == load_min_rpm_DCMNLOES) {
    if (duty_cycle_monitor_fault_counter == 0) {
      if (((fault_flags_active_base & 1) != 0) && ((fault_flags_history_base & 1) == 0)) {
        fault_flags_active_base = fault_flags_active_base & 0xfffe;
      }
    }
    else {
      duty_cycle_monitor_fault_counter = duty_cycle_monitor_fault_counter - 1;
    }
    if (rpm_sample_index == CPBS01) {
      rpm_timer_capture_state = CAPTURING;
      rpm_timer_capture_mode = 1;
      if (((engine_fault_status_register_1 & 0x800) != 0) &&
         ((engine_fault_status_register_2 & 0x800) == 0)) {
        engine_fault_status_register_1 = engine_fault_status_register_1 & 0xf7ff;
      }
      if (duty_cycle_error_counter == 0) {
        if (((fault_flags_active_base & 1) != 0) && ((fault_flags_history_base & 1) == 0)) {
          fault_flags_active_base = fault_flags_active_base & 0xfffe;
        }
      }
      else {
        duty_cycle_error_counter = duty_cycle_error_counter - 1;
      }
    }
    else {
      rpm_timer_capture_state = RPM_FAULT_DETECTED;
      rpm_timer_capture_mode = 2;
      rpm_sample_index = CPBS01;
      if (duty_cycle_error_counter < duty_cycle_monitor_DCMNESTB_00807d1e.rpm_thresholds._0_1_) {
        duty_cycle_error_counter = duty_cycle_error_counter + 1;
      }
      else {
        fault_flags_active_base = fault_flags_active_base | 1;
        fault_flags_history_base = fault_flags_history_base | 1;
        engine_fault_status_register_1 = engine_fault_status_register_1 | 0x800;
        engine_fault_status_register_2 = engine_fault_status_register_2 | 0x800;
      }
    }
  }
  else if (duty_cycle_monitor_fault_counter <
           (byte)duty_cycle_monitor_DCMNESTB_00807d1e.rpm_thresholds) {
    duty_cycle_monitor_fault_counter = duty_cycle_monitor_fault_counter + 1;
  }
  else {
    fault_flags_active_base = fault_flags_active_base | 1;
    fault_flags_history_base = fault_flags_history_base | 1;
  }
  if ((_duty_cycle_timing_capture_value < -timer_capture_accumulator - 1) &&
     (timer_capture_accumulator = _duty_cycle_timing_capture_value + timer_capture_accumulator,
     timer_capture_sample_count != 0xffff)) {
    timer_capture_sample_count = timer_capture_sample_count + 1;
  }
  pwmTimerMode0Reset();
  emptyStubFunction2();
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: dutyCycleMonitorAltCanInit @ 0x00016f98
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint dutyCycleMonitorAltCanInit(void)

{
  dword *pdVar1;
  
  can1_canidmr1 = can1_canidmr1 & 0xfff3;
  can1_cantbsel = can1_cantbsel & 0xfffd;
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  duty_cycle_buffer_end_ptr = (uint)can1_timer_buffer_reserved * 4 + 0x80c5bc;
  for (pdVar1 = &duty_cycle_monitor_buffer_start; pdVar1 <= duty_cycle_buffer_end_ptr;
      pdVar1 = pdVar1 + 1) {
    *pdVar1 = _duty_cycle_monitor_config;
  }
  duty_cycle_monitor_buffer_ptr = (dword)&duty_cycle_monitor_buffer_start;
  if (can1_timer_buffer_config_reserved < 2) {
    duty_cycle_buffer_current_ptr = (dword)&duty_cycle_monitor_buffer_start;
  }
  else {
    duty_cycle_buffer_current_ptr =
         (dword)(&duty_cycle_monitor_buffer_start + can1_timer_buffer_config_reserved);
  }
  _engine_rpm_divisor_2 = _duty_cycle_monitor_config * can1_timer_buffer_reserved;
  _engine_divisor_param_2 = _duty_cycle_monitor_config * can1_timer_buffer_config_reserved;
  if ((_engine_system_status_flags & 8) != 0) {
    _duty_cycle_monitor_slot_config = dutyCycleMonitorAltIsrHandler;
    can1_cantxerr = can1_cantxerr & 0xff0f | 0xd0;
    QSM_PQSCTL = 0x100;
    QSM_DDRQS = 0;
    _QSM_PQSPAR = 0;
    QSM_PORTQS = 0xb;
    can1_canidar1 = can1_canidar1 & 0xfff3 | 0xc;
    can1_canidar3 = can1_canidar3 & 0xfff3 | 0xc;
    can1_cantbsel = can1_cantbsel | 2;
    can1_canidmr1 = can1_canidmr1 & 0xfff3 | 8;
    can1_canidmr2 = can1_canidmr2 & 0xfffd;
  }
  return CONCAT22((short)(_duty_cycle_monitor_config * can1_timer_buffer_config_reserved >> 0x10),
                  _engine_system_status_flags) & 0xffff0008;
}



//
// Function: dutyCycleMonitorAltIsrHandler @ 0x000170b4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 dutyCycleMonitorAltIsrHandler(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  if ((_engine_system_status_flags & 8) != 0) {
    _engine_fault_timer_2 = rpm_based_limit_2;
    _duty_cycle_timing_capture_value = _QSM_PQSPAR;
    pwm_timer_calc_value_1._0_1_ = 1;
    if (((engine_fault_status_register_1 & 0x800) != 0) &&
       ((engine_fault_status_register_2 & 0x800) == 0)) {
      engine_fault_status_register_1 = engine_fault_status_register_1 & 0xf7ff;
    }
    duty_cycle_monitor_buffer_start = _QSM_PQSPAR;
    _engine_divisor_param_2 = _QSM_PQSPAR;
  }
  _QSM_PQSPAR = _QSM_PQSPAR & 0xffff;
  if ((_duty_cycle_timing_capture_value < -timer_capture_accumulator - 1) &&
     (timer_capture_accumulator = _duty_cycle_timing_capture_value + timer_capture_accumulator,
     timer_capture_sample_count != 0xffff)) {
    timer_capture_sample_count = timer_capture_sample_count + 1;
  }
  pwmTimerMode0Reset();
  emptyStubFunction2();
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: dutyCycleMonitorBufferInit @ 0x00017164
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void dutyCycleMonitorBufferInit(void)

{
  dword *pdVar1;
  
  duty_cycle_buffer_end_ptr = (uint)can1_timer_buffer_reserved * 4 + 0x80c5bc;
  for (pdVar1 = &duty_cycle_monitor_buffer_start; pdVar1 <= duty_cycle_buffer_end_ptr;
      pdVar1 = pdVar1 + 1) {
    *pdVar1 = _duty_cycle_monitor_config;
  }
  duty_cycle_monitor_buffer_ptr = (dword)&duty_cycle_monitor_buffer_start;
  if (can1_timer_buffer_config_reserved < 2) {
    duty_cycle_buffer_current_ptr = (dword)&duty_cycle_monitor_buffer_start;
  }
  else {
    duty_cycle_buffer_current_ptr =
         (dword)(&duty_cycle_monitor_buffer_start + can1_timer_buffer_config_reserved);
  }
  _engine_rpm_divisor_2 = _duty_cycle_monitor_config * can1_timer_buffer_reserved;
  _engine_divisor_param_2 = _duty_cycle_monitor_config * can1_timer_buffer_config_reserved;
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  can1_cantxerr = can1_cantxerr & 0xff0f | 0xd0;
  QSM_PQSCTL = 0x100;
  QSM_DDRQS = 0;
  _QSM_PQSPAR = 0;
  QSM_PORTQS = 0xb;
  can1_canidar1 = can1_canidar1 & 0xfff3 | 0xc;
  can1_canidar3 = can1_canidar3 & 0xfff3 | 0xc;
  can1_canidmr1 = can1_canidmr1 & 0xfff3 | 8;
  _duty_cycle_monitor_slot_config = timerAccumulatorWithWatchdog;
  can1_cantbsel = can1_cantbsel & 0xfffd | 2;
  can_initialization_clear_flag._0_1_ = 0;
  _can1_init_state_flag = 0;
  return;
}



//
// Function: phase2_slot_0_handler @ 0x000171a6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void phase2_slot_0_handler(void)

{
  int *in_A1;
  int unaff_A3;
  byte *unaff_A4;
  
  duty_cycle_buffer_current_ptr = unaff_A3 + (uint)*unaff_A4 * 4;
  _engine_rpm_divisor_2 = *in_A1 * (uint)can1_timer_buffer_reserved;
  _engine_divisor_param_2 = *in_A1 * (uint)*unaff_A4;
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  can1_cantxerr = can1_cantxerr & 0xff0f | 0xd0;
  QSM_PQSCTL = 0x100;
  QSM_DDRQS = 0;
  _QSM_PQSPAR = 0;
  QSM_PORTQS = 0xb;
  can1_canidar1 = can1_canidar1 & 0xfff3 | 0xc;
  can1_canidar3 = can1_canidar3 & 0xfff3 | 0xc;
  can1_canidmr1 = can1_canidmr1 & 0xfff3 | 8;
  _duty_cycle_monitor_slot_config = timerAccumulatorWithWatchdog;
  can1_cantbsel = can1_cantbsel & 0xfffd | 2;
  can_initialization_clear_flag._0_1_ = 0;
  _can1_init_state_flag = 0;
  return;
}



//
// Function: phase2_slot_1_handler @ 0x000171d2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void phase2_slot_1_handler(void)

{
  int *in_A1;
  byte *unaff_A4;
  
  _engine_divisor_param_2 = *in_A1 * (uint)*unaff_A4;
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  can1_cantxerr = can1_cantxerr & 0xff0f | 0xd0;
  QSM_PQSCTL = 0x100;
  QSM_DDRQS = 0;
  _QSM_PQSPAR = 0;
  QSM_PORTQS = 0xb;
  can1_canidar1 = can1_canidar1 & 0xfff3 | 0xc;
  can1_canidar3 = can1_canidar3 & 0xfff3 | 0xc;
  can1_canidmr1 = can1_canidmr1 & 0xfff3 | 8;
  _duty_cycle_monitor_slot_config = timerAccumulatorWithWatchdog;
  can1_cantbsel = can1_cantbsel & 0xfffd | 2;
  can_initialization_clear_flag._0_1_ = 0;
  _can1_init_state_flag = 0;
  return;
}



//
// Function: phase2_slot_5_handler @ 0x00017266
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void phase2_slot_5_handler(void)

{
  can_initialization_clear_flag._0_1_ = 0;
  _can1_init_state_flag = 0;
  return;
}



//
// Function: timerAccumulatorWithWatchdog @ 0x00017278
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 timerAccumulatorWithWatchdog(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  if ((_duty_cycle_timing_capture_value < -timer_capture_accumulator - 1) &&
     (timer_capture_accumulator = _duty_cycle_timing_capture_value + timer_capture_accumulator,
     timer_capture_sample_count != 0xffff)) {
    timer_capture_sample_count = timer_capture_sample_count + 1;
  }
  pwmTimerMode0Reset();
  emptyStubFunction2();
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: phase2_slot_7_handler @ 0x00017296
//

undefined8 phase2_slot_7_handler(void)

{
  short *unaff_A2;
  int *unaff_A3;
  int *unaff_A4;
  undefined8 in_stack_00000000;
  
  *unaff_A4 = *unaff_A3 + *unaff_A4;
  if (*unaff_A2 != -1) {
    *unaff_A2 = *unaff_A2 + 1;
  }
  pwmTimerMode0Reset();
  emptyStubFunction2();
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  return in_stack_00000000;
}



//
// Function: phase2_slot_8_handler @ 0x000172ae
//

undefined8 phase2_slot_8_handler(void)

{
  undefined8 in_stack_00000000;
  
  can1_canidmr2 = can1_canidmr2 & 0xfffd;
  return in_stack_00000000;
}



//
// Function: ioControlAndCanPinSwitchingWrapper @ 0x000172bc
//

void ioControlAndCanPinSwitchingWrapper(void)

{
  ioControlAndCanPinSwitching();
  return;
}



//
// Function: evenPhaseSchedulerTaskSet @ 0x000172c4
//

void evenPhaseSchedulerTaskSet(void)

{
  timerBasedTaskScheduler();
  systemStatusProcessor();
  memoryRegisterController();
  messageQueueDispatcher();
  systemStatusMonitor();
  return;
}



//
// Function: oddPhaseSchedulerTaskSet @ 0x000172e4
//

void oddPhaseSchedulerTaskSet(void)

{
  phase3_retarder_condition_monitor();
  phase3_periodic_task_scheduler();
  phase3_countdown_timer_manager();
  return;
}



//
// Function: vp44_engine_management_system @ 0x000172f8
//

void vp44_engine_management_system(void)

{
  ushort in_stack_00000000;
  
  vp44_communication_state_machine((uint)in_stack_00000000);
  vp44_status_data_collector();
  engine_fault_monitoring_and_rpm_calculation();
  vp44_rpm_derate_monitor();
  rpm_derate_calculation_and_fault_processing();
  fuel_timing_calculation_with_fault_checking();
  diagnostic_fuel_calculation_with_vp44_monitoring();
  derate_application_controller();
  engine_protection_coordinator();
  return;
}



//
// Function: engine_control_cycle @ 0x00017334
//

void engine_control_cycle(void)

{
  engine_speed_governor();
  diagnostic_parameter_handler();
  oil_pressure_protection_controller();
  advanced_oil_pressure_protection_system();
  oil_pressure_shutdown_controller();
  diagnostic_protection_coordinator();
  fuel_limit_arbitrator();
  fuel_delivery_controller();
  return;
}



//
// Function: engineDiagnosticSystemCoordinator @ 0x00017366
//

void engineDiagnosticSystemCoordinator(void)

{
  engine_fault_monitoring_and_rpm_calculation();
  governorFuelPidController();
  sensorFaultDebounceMonitor();
  faultFlagScannerAndProcessor();
  engineModeTransitionHandler();
  rpmLoadParameterLookup();
  engineOperatingModeStateMachine();
  rpmBasedFuelLimitCalculator();
  diagnosticFuelOverrideHandler();
  fuelDemandModeSelector();
  fuelDemandTableBlendCalculator();
  baseTimingTableLookup();
  return;
}



//
// Function: slowCycle4Coordinator @ 0x000173b0
//

void slowCycle4Coordinator(void)

{
  rpmBasedFuelTimingInterpolation();
  frictionalLoadTorqueTransitionHandler();
  fuelDemandBasedParameterCalculator();
  emptyPlaceholderFunction();
  diagnosticTimingIncrementController();
  diagnosticModeFuelArbitrationHandler();
  liftPumpFuelDeliveryController();
  canPinVp44StatusController();
  derateThresholdIoController();
  engineModeBasedIoController();
  rpmDerateCalculationController();
  return;
}



//
// Function: empty_debug_hook @ 0x000173f4
//

void empty_debug_hook(void)

{
  return;
}



//
// Function: engineParameterAndBoostControlWrapper @ 0x000173f6
//

void engineParameterAndBoostControlWrapper(void)

{
  engineParameterControllerWithTimer();
  boostPressureFeedbackController();
  return;
}



//
// Function: auxiliarySystemControlWrapper @ 0x00017404
//

void auxiliarySystemControlWrapper(void)

{
  fuelTempProtectionLimitCalculator();
  shutdownLimitSelector();
  return;
}



//
// Function: slowCycle8Coordinator @ 0x00017412
//

void slowCycle8Coordinator(void)

{
  vp44SensorStatusMonitor();
  vp44ExtendedProcessingRouter();
  diagnosticFlagResetHandler();
  return;
}



//
// Function: boostPressureControlCoordinator @ 0x00017426
//

void boostPressureControlCoordinator(void)

{
  boostPressureTargetCalculator();
  boostPressureProtectionStateMachine();
  return;
}



//
// Function: boost_pressure_control_wrapper @ 0x00017434
//

void boost_pressure_control_wrapper(void)

{
  boost_pressure_control_and_diagnostics();
  return;
}



//
// Function: emptySlowCycle8Placeholder @ 0x0001743c
//

void emptySlowCycle8Placeholder(void)

{
  return;
}



//
// Function: emptySlowCycle8PlaceholderCase7 @ 0x0001743e
//

void emptySlowCycle8PlaceholderCase7(void)

{
  return;
}



//
// Function: rpm_control_system @ 0x00017440
//

void rpm_control_system(void)

{
  rpm_rate_limiter();
  rpm_system_state_controller();
  return;
}



//
// Function: rpmBasedFuelLimiterCoordinator @ 0x0001744e
//

void rpmBasedFuelLimiterCoordinator(void)

{
  lowRpmFuelProtectionLimiter();
  highRpmFuelControlLimiter();
  return;
}



//
// Function: secondaryMonitoringWrapper @ 0x0001745c
//

void secondaryMonitoringWrapper(void)

{
  j1939TimeoutDataClearHandler();
  return;
}



//
// Function: slowCycle10Coordinator @ 0x00017464
//

void slowCycle10Coordinator(void)

{
  hourMeterEventLogger();
  return;
}



//
// Function: diagnosticMonitoringCoordinator @ 0x0001746c
//

void diagnosticMonitoringCoordinator(void)

{
  oilPressureRpmFaultMonitor();
  liftPumpCommStatusMonitor();
  vp44FsoFaultEnableController();
  multiParameterMinimumSelector();
  return;
}



//
// Function: epsSignalMonitoringCoordinator @ 0x00017486
//

void epsSignalMonitoringCoordinator(void)

{
  epsSignalQualityValidator();
  return;
}



//
// Function: ioControlSlowCycle10Coordinator @ 0x0001748e
//

void ioControlSlowCycle10Coordinator(void)

{
  ioControlPinSwitchingWrapper();
  return;
}



//
// Function: shutdownProtectionSlowCycle10Coordinator @ 0x00017496
//

ulonglong shutdownProtectionSlowCycle10Coordinator(void)

{
  ulonglong uVar1;
  
  uVar1 = shutdownProtectionCalculator();
  return uVar1;
}



//
// Function: diagnosticCommunicationSlowCycle10Coordinator @ 0x0001749e
//

void diagnosticCommunicationSlowCycle10Coordinator(void)

{
  diagnosticCommandDispatcher();
  return;
}



//
// Function: diagnosticDataTransmissionSlowCycle10Coordinator @ 0x000174a6
//

void diagnosticDataTransmissionSlowCycle10Coordinator(void)

{
  diagnosticMessageTransmissionManager();
  return;
}



//
// Function: vp44ControlSystemCoordinator @ 0x000174ae
//

void vp44ControlSystemCoordinator(void)

{
  fuelTimingOilPressureModeController();
  oilPressureModeParameterPointerConfig();
  vp44FsoCircuitFaultDetection();
  vp44FsoCircuitFaultDetectionBit1();
  return;
}



//
// Function: vp44ExtendedFaultDetectionCoordinator @ 0x000174c8
//

void vp44ExtendedFaultDetectionCoordinator(void)

{
  acceleratorThrottleFaultDetector();
  vp44FsoFaultRangeMonitor();
  vp44TimingFaultMonitor();
  return;
}



//
// Function: advancedEngineProtectionCoordinator @ 0x000174dc
//

void advancedEngineProtectionCoordinator(void)

{
  crankFuelCalculationAndProtection();
  crankAndProtectionStateMonitor();
  vp44FsoFaultBit0Monitor();
  vp44FsoFaultBit15Monitor();
  vp44FsoMultiBitFaultMonitor();
  return;
}



//
// Function: slowCycle20Coordinator @ 0x000174fc
//

void slowCycle20Coordinator(void)

{
  vp44InjectionSystemStateController();
  return;
}



//
// Function: fuelTimingCoordinator @ 0x00017504
//

void fuelTimingCoordinator(void)

{
  timingOffsetCalculatorWrapper();
  engineModeTimingAdjuster();
  return;
}



//
// Function: slowCycle20ExtendedCoordinator @ 0x00017512
//

void slowCycle20ExtendedCoordinator(void)

{
  engineRunTimeHistogramAccumulator();
  oilPressureFuelArbitrationMonitor();
  vp44FsoStuckHighFaultDetector();
  vp44FsoStuckLowFaultDetector();
  return;
}



//
// Function: fuelCalculationSlowCycle20Coordinator @ 0x0001752c
//

void fuelCalculationSlowCycle20Coordinator(void)

{
  dualTableFuelInterpolationCalculator();
  return;
}



//
// Function: sensorStatusHistorySlowCycle20Coordinator @ 0x00017534
//

void sensorStatusHistorySlowCycle20Coordinator(void)

{
  sensorStatusHistoryTracker();
  return;
}



//
// Function: fuelSmokeLimiterSlowCycle20Coordinator @ 0x0001753c
//

void fuelSmokeLimiterSlowCycle20Coordinator(void)

{
  fuelSmokeLimiterCalculator();
  return;
}



//
// Function: camSyncDiagnosticProcessingSlowCycle20Coordinator @ 0x00017544
//

void camSyncDiagnosticProcessingSlowCycle20Coordinator(void)

{
  camSyncDiagnosticProcessor();
  return;
}



//
// Function: derateProtectionSlowCycle20Coordinator @ 0x0001754c
//

ulonglong derateProtectionSlowCycle20Coordinator(void)

{
  ulonglong uVar1;
  
  uVar1 = derateThresholdMonitorAndFaultController();
  return uVar1;
}



//
// Function: vp44ProtectionSlowCycle20Coordinator @ 0x00017554
//

void vp44ProtectionSlowCycle20Coordinator(void)

{
  vp44FaultProtectionController();
  highRpmEngineProtectionStateMachine();
  vp44FsoFaultDetectionMonitor();
  return;
}



//
// Function: vp44FsoFaultDetectionSlowCycle20Coordinator @ 0x00017568
//

void vp44FsoFaultDetectionSlowCycle20Coordinator(void)

{
  vp44FsoFaultDetectionAndProtectionController();
  return;
}



//
// Function: vp44DiagnosticFaultMonitoringSlowCycle20Coordinator @ 0x00017570
//

void vp44DiagnosticFaultMonitoringSlowCycle20Coordinator(void)

{
  vp44FaultRegisterBit2Monitor();
  vp44DiagnosticSensorThresholdMonitor();
  return;
}



//
// Function: vp44FsoFaultMonitoringSlowCycle20Coordinator @ 0x0001757e
//

void vp44FsoFaultMonitoringSlowCycle20Coordinator(void)

{
  vp44FsoFaultConditionDetector();
  return;
}



//
// Function: emptySlowCycle20PlaceholderCase15 @ 0x00017586
//

void emptySlowCycle20PlaceholderCase15(void)

{
  return;
}



//
// Function: dzgTimingAndPressureSlowCycle10Coordinator @ 0x00017588
//

void dzgTimingAndPressureSlowCycle10Coordinator(void)

{
  dzgTimingAndPressureControlStateMachine();
  return;
}



//
// Function: engineModeBasedOutputControlSlowCycle20Coordinator @ 0x00017590
//

void engineModeBasedOutputControlSlowCycle20Coordinator(void)

{
  faultBasedOutputStateCalculator();
  engineModeOutputControlStateMachine();
  return;
}



//
// Function: vp44DiagnosticControlSlowCycle20Coordinator @ 0x0001759e
//

void vp44DiagnosticControlSlowCycle20Coordinator(void)

{
  vp44SensorDiagnosticControl();
  return;
}



//
// Function: diagnosticStatisticsSlowCycle20Coordinator @ 0x000175a6
//

void diagnosticStatisticsSlowCycle20Coordinator(void)

{
  timeDeltaCalculator();
  fuelStatisticsTracker();
  clutchOperatingStatisticsTracker();
  return;
}



//
// Function: main_loop @ 0x000175ba
//

undefined8 main_loop(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  mainLoopTaskSchedulerInit();
  switch(main_loop_phase_index) {
  case PHASE_0_VP44_RPM:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    empty_debug_hook();
    rpm_control_system();
    vp44ControlSystemCoordinator();
    incrementCounters();
    scheduler_phase_pointer = (dword)&scheduler_phase_table;
    main_loop_phase_index = PHASE_1_ENGINE_FUEL;
    break;
  case PHASE_1_ENGINE_FUEL:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    engineParameterAndBoostControlWrapper();
    rpmBasedFuelLimiterCoordinator();
    vp44ExtendedFaultDetectionCoordinator();
    periodicIoAndCanFaultMonitor();
    main_loop_phase_index = PHASE_2_DIAG_AUX;
    break;
  case PHASE_2_DIAG_AUX:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    auxiliarySystemControlWrapper();
    secondaryMonitoringWrapper();
    advancedEngineProtectionCoordinator();
    engineRpmHardwareTimerSetup();
    main_loop_phase_index = PHASE_3_SLOW_CYCLES;
    break;
  case PHASE_3_SLOW_CYCLES:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    slowCycle8Coordinator();
    slowCycle10Coordinator();
    slowCycle20Coordinator();
    main_loop_phase_index = PHASE_4_BOOST_DIAG;
    break;
  case PHASE_4_BOOST_DIAG:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    boostPressureControlCoordinator();
    diagnosticMonitoringCoordinator();
    fuelTimingCoordinator();
    canMessageMemorySyncController();
    main_loop_phase_index = PHASE_5_EPS_SLOW20;
    break;
  case PHASE_5_EPS_SLOW20:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    boost_pressure_control_wrapper();
    epsSignalMonitoringCoordinator();
    slowCycle20ExtendedCoordinator();
    main_loop_phase_index = PHASE_6_FUEL_CALC;
    break;
  case PHASE_6_FUEL_CALC:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    emptySlowCycle8Placeholder();
    ioControlSlowCycle10Coordinator();
    fuelCalculationSlowCycle20Coordinator();
    kickdownSignalSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_7_SHUTDOWN;
    break;
  case PHASE_7_SHUTDOWN:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    emptySlowCycle8PlaceholderCase7();
    shutdownProtectionSlowCycle10Coordinator();
    sensorStatusHistorySlowCycle20Coordinator();
    engineDataTrendingSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_8_DIAG_COMM;
    break;
  case PHASE_8_DIAG_COMM:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    empty_debug_hook();
    diagnosticCommunicationSlowCycle10Coordinator();
    fuelSmokeLimiterSlowCycle20Coordinator();
    coldStartFuelControlSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_9_CAM_TIMING;
    break;
  case PHASE_9_CAM_TIMING:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    engineParameterAndBoostControlWrapper();
    diagnosticDataTransmissionSlowCycle10Coordinator();
    camSyncDiagnosticProcessingSlowCycle20Coordinator();
    fuelTimingModeArbitrationSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_10_DERATE;
    break;
  case PHASE_10_DERATE:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    auxiliarySystemControlWrapper();
    rpm_control_system();
    derateProtectionSlowCycle20Coordinator();
    ioOutputFlagMappingSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_11_VP44_PROT;
    break;
  case PHASE_11_VP44_PROT:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    slowCycle8Coordinator();
    rpmBasedFuelLimiterCoordinator();
    vp44ProtectionSlowCycle20Coordinator();
    shutdownProtectionSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_12_FSO_FRIC;
    break;
  case PHASE_12_FSO_FRIC:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    boostPressureControlCoordinator();
    secondaryMonitoringWrapper();
    vp44FsoFaultDetectionSlowCycle20Coordinator();
    frictionalLoadTorqueManagementSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_13_DIAG_FAULT;
    break;
  case PHASE_13_DIAG_FAULT:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    boost_pressure_control_wrapper();
    slowCycle10Coordinator();
    vp44DiagnosticFaultMonitoringSlowCycle20Coordinator();
    engineOperatingModeStateTrackingSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_14_FSO_MON;
    break;
  case PHASE_14_FSO_MON:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    emptySlowCycle8Placeholder();
    diagnosticMonitoringCoordinator();
    vp44FsoFaultMonitoringSlowCycle20Coordinator();
    fuelDemandProportionalCalculationSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_15_EPS_TIMING;
    break;
  case PHASE_15_EPS_TIMING:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    emptySlowCycle8PlaceholderCase7();
    epsSignalMonitoringCoordinator();
    emptySlowCycle20PlaceholderCase15();
    epsTimingCalculationSlowCycle40Coordinator();
    vp44InjectionTimingSlowCycle40Coordinator();
    engineProtectionMultiStateSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_16_DZG_TIMING;
    break;
  case PHASE_16_DZG_TIMING:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    empty_debug_hook();
    ioControlSlowCycle10Coordinator();
    dzgTimingAndPressureSlowCycle10Coordinator();
    emptySlowCycle20PlaceholderCase16();
    main_loop_phase_index = PHASE_17_OUTPUT_CTRL;
    break;
  case PHASE_17_OUTPUT_CTRL:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    engineParameterAndBoostControlWrapper();
    shutdownProtectionSlowCycle10Coordinator();
    engineModeBasedOutputControlSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_18_DIAG_TEMP;
    break;
  case PHASE_18_DIAG_TEMP:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    auxiliarySystemControlWrapper();
    diagnosticCommunicationSlowCycle10Coordinator();
    vp44DiagnosticControlSlowCycle20Coordinator();
    fuelTemperatureProtectionSlowCycle40Coordinator();
    main_loop_phase_index = PHASE_19_DIAG_STATS;
    break;
  case PHASE_19_DIAG_STATS:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    slowCycle8Coordinator();
    diagnosticDataTransmissionSlowCycle10Coordinator();
    diagnosticStatisticsSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_20_RPM_VP44;
    break;
  case PHASE_20_RPM_VP44:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    boostPressureControlCoordinator();
    rpm_control_system();
    vp44ControlSystemCoordinator();
    main_loop_phase_index = PHASE_21_EXT_FAULT;
    break;
  case PHASE_21_EXT_FAULT:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    boost_pressure_control_wrapper();
    rpmBasedFuelLimiterCoordinator();
    vp44ExtendedFaultDetectionCoordinator();
    main_loop_phase_index = PHASE_22_ADV_PROT;
    break;
  case PHASE_22_ADV_PROT:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    emptySlowCycle8Placeholder();
    secondaryMonitoringWrapper();
    advancedEngineProtectionCoordinator();
    main_loop_phase_index = PHASE_23_SLOW_ALL;
    break;
  case PHASE_23_SLOW_ALL:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    emptySlowCycle8PlaceholderCase7();
    slowCycle10Coordinator();
    slowCycle20Coordinator();
    main_loop_phase_index = PHASE_24_FUEL_TIME;
    break;
  case PHASE_24_FUEL_TIME:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    empty_debug_hook();
    diagnosticMonitoringCoordinator();
    fuelTimingCoordinator();
    main_loop_phase_index = PHASE_25_EPS_EXT;
    break;
  case PHASE_25_EPS_EXT:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    engineParameterAndBoostControlWrapper();
    epsSignalMonitoringCoordinator();
    slowCycle20ExtendedCoordinator();
    main_loop_phase_index = PHASE_26_IO_FUEL;
    break;
  case PHASE_26_IO_FUEL:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    auxiliarySystemControlWrapper();
    ioControlSlowCycle10Coordinator();
    fuelCalculationSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_27_SENSOR_HIST;
    break;
  case PHASE_27_SENSOR_HIST:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    slowCycle8Coordinator();
    shutdownProtectionSlowCycle10Coordinator();
    sensorStatusHistorySlowCycle20Coordinator();
    main_loop_phase_index = PHASE_28_SMOKE_LIM;
    break;
  case PHASE_28_SMOKE_LIM:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    boostPressureControlCoordinator();
    diagnosticCommunicationSlowCycle10Coordinator();
    fuelSmokeLimiterSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_29_CAM_SYNC;
    break;
  case PHASE_29_CAM_SYNC:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    boost_pressure_control_wrapper();
    diagnosticDataTransmissionSlowCycle10Coordinator();
    camSyncDiagnosticProcessingSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_30_DERATE2;
    break;
  case PHASE_30_DERATE2:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    emptySlowCycle8Placeholder();
    rpm_control_system();
    derateProtectionSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_31_VP44_PROT2;
    break;
  case PHASE_31_VP44_PROT2:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    emptySlowCycle8PlaceholderCase7();
    rpmBasedFuelLimiterCoordinator();
    vp44ProtectionSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_32_FSO_DET;
    break;
  case PHASE_32_FSO_DET:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    empty_debug_hook();
    secondaryMonitoringWrapper();
    vp44FsoFaultDetectionSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_33_DIAG_MON;
    break;
  case PHASE_33_DIAG_MON:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    engineParameterAndBoostControlWrapper();
    slowCycle10Coordinator();
    vp44DiagnosticFaultMonitoringSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_34_FSO_MON2;
    break;
  case PHASE_34_FSO_MON2:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    auxiliarySystemControlWrapper();
    diagnosticMonitoringCoordinator();
    vp44FsoFaultMonitoringSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_35_EPS_EMPTY;
    break;
  case PHASE_35_EPS_EMPTY:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    slowCycle8Coordinator();
    epsSignalMonitoringCoordinator();
    emptySlowCycle20PlaceholderCase15();
    main_loop_phase_index = PHASE_36_DZG_IO;
    break;
  case PHASE_36_DZG_IO:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    vp44_engine_management_system();
    boostPressureControlCoordinator();
    ioControlSlowCycle10Coordinator();
    dzgTimingAndPressureSlowCycle10Coordinator();
    main_loop_phase_index = PHASE_37_OUTPUT2;
    break;
  case PHASE_37_OUTPUT2:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    engine_control_cycle();
    boost_pressure_control_wrapper();
    shutdownProtectionSlowCycle10Coordinator();
    engineModeBasedOutputControlSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_38_VP44_DIAG;
    break;
  case PHASE_38_VP44_DIAG:
    ioControlAndCanPinSwitchingWrapper();
    evenPhaseSchedulerTaskSet();
    engineDiagnosticSystemCoordinator();
    emptySlowCycle8Placeholder();
    diagnosticCommunicationSlowCycle10Coordinator();
    vp44DiagnosticControlSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_39_FINAL;
    break;
  case PHASE_39_FINAL:
    ioControlAndCanPinSwitchingWrapper();
    oddPhaseSchedulerTaskSet();
    slowCycle4Coordinator();
    emptySlowCycle8PlaceholderCase7();
    diagnosticDataTransmissionSlowCycle10Coordinator();
    diagnosticStatisticsSlowCycle20Coordinator();
    main_loop_phase_index = PHASE_0_VP44_RPM;
    break;
  default:
    main_loop_phase_index = PHASE_0_VP44_RPM;
  }
  schedulerPerformanceMonitor();
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: scheduler_init @ 0x00017b3a
//

void scheduler_init(void)

{
  schedule_armed = 0;
  scheduler_phase_slot_count = 5;
  scheduler_phase_timeout = 200;
  scheduler_overrun_threshold = 0x9b7;
  scheduler_tick_interval = 500;
  scheduler_wait_loop_limit = 0;
  main_loop_counter = 0;
  sim_csor0 = 0x152;
  system_callback_table_t_00808f02.main_loop_callback = (dword)main_loop;
  sim_csbar1 = 0x27;
  return;
}



//
// Function: mainLoopTaskSchedulerInit @ 0x00017b88
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void mainLoopTaskSchedulerInit(void)

{
  scheduler_phase_table_t *psVar1;
  
  if (schedule_armed != 0) {
    if (main_loop_counter == 0) {
      for (psVar1 = &scheduler_phase_table; psVar1 < (scheduler_phase_table_t *)0x809a02;
          psVar1 = psVar1 + 1) {
        (psVar1->phase_slots).last_execution_time = 0;
        (psVar1->phase_slots).runtime_ticks = 0;
        (psVar1->phase_slots).deadline_ticks = 0xffff;
        (psVar1->phase_slots).execution_count = 0;
        (psVar1->phase_slots).overrun_count = 0;
      }
      scheduler_overrun_counter = 0;
      _scheduler_wait_loop_counter = 0;
      main_loop_counter = 1;
    }
    main_loop_reserved = hardware_timer_register._0_2_;
    return;
  }
  main_loop_counter = 0;
  return;
}



//
// Function: schedulerPerformanceMonitor @ 0x00017bf2
//

void schedulerPerformanceMonitor(void)

{
  if (schedule_armed != 0) {
    scheduler_phase_execution_time = hardware_timer_register._0_2_ - main_loop_reserved;
    if (*(ushort *)(scheduler_phase_pointer + 8) < scheduler_phase_execution_time) {
      *(word *)(scheduler_phase_pointer + 8) = scheduler_phase_execution_time;
    }
    if (scheduler_phase_execution_time < *(ushort *)(scheduler_phase_pointer + 6)) {
      *(word *)(scheduler_phase_pointer + 6) = scheduler_phase_execution_time;
    }
    *(uint *)scheduler_phase_pointer =
         (uint)scheduler_phase_execution_time + *(int *)scheduler_phase_pointer;
    *(short *)(scheduler_phase_pointer + 4) = *(short *)(scheduler_phase_pointer + 4) + 1;
    if ((scheduler_overrun_threshold < scheduler_phase_execution_time) &&
       (*(short *)(scheduler_phase_pointer + 10) = *(short *)(scheduler_phase_pointer + 10) + 1,
       scheduler_overrun_counter != 0xffff)) {
      scheduler_overrun_counter = scheduler_overrun_counter + 1;
    }
    scheduler_phase_pointer = scheduler_phase_pointer + 0x10;
  }
  return;
}



//
// Function: schedulerWaitLoop @ 0x00017c6e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void schedulerWaitLoop(void)

{
  while (engine_shutdown_complete_flag == 0) {
    if (schedule_armed != 0) {
      for (scheduler_wait_loop_index = 0; scheduler_wait_loop_index < scheduler_wait_loop_limit;
          scheduler_wait_loop_index = scheduler_wait_loop_index + 1) {
      }
      _scheduler_wait_loop_counter = _scheduler_wait_loop_counter + 1;
    }
  }
  return;
}



//
// Function: circularBufferPush @ 0x00017ca6
//

uint circularBufferPush(uint *param_1,undefined4 param_2)

{
  if (*(char *)(param_1 + 4) == '\0') {
    *(undefined1 *)param_1[1] = param_2._1_1_;
    param_1[1] = param_1[1] + 1;
    if (param_1[1] == param_1[3]) {
      param_1[1] = param_1[2];
    }
    if (*param_1 == param_1[1]) {
      *(undefined1 *)(param_1 + 4) = 1;
    }
    return *param_1 & 0xffffff00;
  }
  return 1;
}



//
// Function: circularBufferPop @ 0x00017ce2
//

uint circularBufferPop(uint *param_1,undefined1 *param_2)

{
  uint uVar1;
  
  if ((*param_1 == param_1[1]) && (*(char *)(param_1 + 4) != '\x01')) {
    return 1;
  }
  *param_2 = *(undefined1 *)*param_1;
  *param_1 = *param_1 + 1;
  uVar1 = *param_1;
  if (uVar1 == param_1[3]) {
    *param_1 = param_1[2];
  }
  *(undefined1 *)(param_1 + 4) = 0;
  return uVar1 & 0xffffff00;
}



//
// Function: circularBufferInit @ 0x00017d1a
//

void circularBufferInit(undefined4 *param_1,undefined4 param_2,uint param_3)

{
  param_1[2] = param_2;
  param_1[1] = param_2;
  *param_1 = param_2;
  param_1[3] = param_1[2] + (param_3 >> 0x10);
  *(undefined1 *)(param_1 + 4) = 0;
  return;
}



//
// Function: fuelDemandModeSelector @ 0x00017d40
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort fuelDemandModeSelector(void)

{
  ushort uVar1;
  ushort unaff_D2w;
  
  uVar1 = fuel_demand_control_flags & 0x10;
  if (uVar1 == 0) {
    uVar1 = shutdownMinimumSelectorOrchestrator();
  }
  else {
    shutdown_limit_accumulator = fuel_demand_mode_selector_value;
    shutdown_minimum_selector_value = FUEL_DEMAND_MODE_OVERRIDE;
  }
  if (engine_operating_mode == ENGINE_IDLE) {
    current_fuel_demand_value = 0;
    vp44_engine_state = IDLE_STATE;
  }
  else {
    if (engine_operating_mode == FAULT_EMERGENCY) {
      vp44_engine_state = FAULT_EMERGENCY_STATE;
      current_fuel_demand_value = mask_used_for_can_msg_object_15_0_ffffffff;
    }
    else if (engine_operating_mode == HIGH_PERFORMANCE) {
      vp44_engine_state = HIGH_PERFORMANCE_MODE;
      current_fuel_demand_value = intercept_fueling_between_hsg_brkpt_and_the_epf_curve_0_100;
    }
    else {
      uVar1 = fuel_demand_control_flags & 2;
      if (uVar1 == 0) {
        if (engine_operating_mode == VP44_INJECTION_ACTIVE) {
          vp44_engine_state = VP44_ACTIVE_MODE;
          current_fuel_demand_value = intercept_fueling_between_lsg_ref_and_the_epf_curve_0_100;
        }
        else if ((engine_operating_mode == LOW_RPM_RUNNING) ||
                (engine_operating_mode == TRANSITIONAL_MODE_6)) {
          vp44_engine_state = LOW_RPM_OR_TRANSITIONAL;
          current_fuel_demand_value = fuel_demand_override;
        }
        else if (engine_operating_mode == HIGH_RPM_RUNNING) {
          if ((_engine_operating_mode_cached == 2) || (_engine_operating_mode_cached == 6)) {
            uVar1 = governorPidFuelCalculator();
            diagnostic_rpm_threshold_status = fuel_demand_override;
          }
          if (((diagnostic_fuel_control_mode == 0xb) &&
              (shutdown_minimum_selector_value == FUEL_ARBITRATOR_DIAG)) ||
             (uVar1 = diagnostic_rpm_threshold_status,
             diagnostic_rpm_threshold_status < shutdown_limit_accumulator)) {
            vp44_engine_state = diagnostic_fuel_control_mode;
            current_fuel_demand_value = diagnostic_rpm_threshold_status;
          }
          else {
            vp44_engine_state = shutdown_minimum_selector_value;
            current_fuel_demand_value = shutdown_limit_accumulator;
          }
        }
        else {
          current_fuel_demand_value = unaff_D2w;
          if (engine_operating_mode == TRANSITIONAL_MODE_7) {
            if (((diagnostic_fuel_control_mode == 0xb) &&
                (shutdown_minimum_selector_value == FUEL_ARBITRATOR_DIAG)) ||
               (uVar1 = diagnostic_rpm_threshold_status,
               diagnostic_rpm_threshold_status < shutdown_limit_accumulator)) {
              vp44_engine_state = diagnostic_fuel_control_mode;
              current_fuel_demand_value = diagnostic_rpm_threshold_status;
            }
            else {
              vp44_engine_state = shutdown_minimum_selector_value;
              current_fuel_demand_value = shutdown_limit_accumulator;
            }
            if (current_fuel_demand_value < fuel_demand_override) {
              vp44_engine_state = LOW_RPM_OR_TRANSITIONAL;
              current_fuel_demand_value = fuel_demand_override;
            }
          }
        }
      }
      else {
        vp44_engine_state = MANUAL_OVERRIDE;
        current_fuel_demand_value = fuel_demand_mode_override;
      }
    }
    if (max_number_of_shutdowns_before_restart_is_not_allowed_0_255 < current_fuel_demand_value) {
      current_fuel_demand_value = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
    }
    else if (current_fuel_demand_value < mask_used_for_can_msg_object_15_0_ffffffff) {
      current_fuel_demand_value = mask_used_for_can_msg_object_15_0_ffffffff;
    }
  }
  _engine_operating_mode_cached = engine_operating_mode;
  return uVar1;
}



//
// Function: flashEraseWithWatchdog @ 0x00017ed4
//

/* WARNING: Removing unreachable block (ram,0x00018018) */
/* WARNING: Removing unreachable block (ram,0x00018026) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 flashEraseWithWatchdog(void)

{
  ushort uVar1;
  ushort uVar2;
  short sVar3;
  ushort uVar4;
  
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  uVar4 = 0;
  *(undefined2 *)flash_control_register_ptr = 0x2020;
  *(undefined2 *)flash_control_register_ptr = 0xd0d0;
  _calibration_download_size_n_a = 0;
  uVar2 = 0;
  do {
    uVar1 = uVar2 + 1;
    if (40000 < uVar2) {
      _calibration_download_size_n_a = 0xffff;
      return 1;
    }
    if ((qsm_config_reg_high & 1) == 0) {
      uVar4 = 0;
    }
    else {
      uVar4 = uVar4 + 1;
      if (3 < uVar4) {
        *(undefined2 *)flash_control_register_ptr = 0xb0b0;
        uVar4 = 0;
        while ((uVar2 = uVar4 + 1, uVar4 < 40000 &&
               ((_calibration_download_size_n_a & 0x80) != 0x80))) {
          sVar3 = 0;
          do {
            uVar4 = 0;
            do {
              REG_SIM_SWSR = 0xaa;
              qsm_sci_data_reg._1_1_ = 0xaa;
              uVar4 = uVar4 + 1;
            } while (uVar4 < 0xa0);
            sVar3 = sVar3 + 1;
            uVar4 = uVar2;
          } while (sVar3 == 0);
        }
        _calibration_download_size_n_a = 0xffff;
        return 2;
      }
    }
    sVar3 = 0;
    do {
      uVar2 = 0;
      do {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        uVar2 = uVar2 + 1;
      } while (uVar2 < 0xa0);
      sVar3 = sVar3 + 1;
      uVar2 = uVar1;
    } while (sVar3 == 0);
  } while( true );
}



//
// Function: flashEraseFromRam @ 0x0001802e
//

void flashEraseFromRam(dword param_1)

{
  undefined2 *puVar1;
  code *pcVar2;
  undefined1 auStack_804 [2048];
  
  flash_control_register_ptr = param_1;
  puVar1 = (undefined2 *)auStack_804;
  for (pcVar2 = flashEraseWithWatchdog; pcVar2 < flashEraseFromRam; pcVar2 = pcVar2 + 2) {
    *puVar1 = *(undefined2 *)pcVar2;
    puVar1 = puVar1 + 1;
  }
  (*(code *)auStack_804)();
  return;
}



//
// Function: flashProgramWordWithWatchdog @ 0x0001805c
//

/* WARNING: Removing unreachable block (ram,0x00018104) */
/* WARNING: Removing unreachable block (ram,0x0001810e) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined4 flashProgramWordWithWatchdog(void)

{
  ushort uVar1;
  ushort uVar2;
  
  uVar1 = 0;
  while( true ) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    if (flash_write_end_address <= flash_control_register_ptr) {
      if ((_calibration_download_size_n_a & 0x10) != 0x10) {
        return 1;
      }
      return 0;
    }
    *(undefined2 *)flash_control_register_ptr = 0x4040;
    *(undefined2 *)flash_control_register_ptr = *(undefined2 *)flash_write_data_pointer;
    uVar2 = 0;
    while (uVar2 < 5000) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      uVar2 = uVar2 + 1;
    }
    _calibration_download_size_n_a = 0xffff;
    if (4 < uVar1) break;
    uVar1 = uVar1 + 1;
  }
  return 0;
}



//
// Function: flashProgramFromRam @ 0x00018174
//

void flashProgramFromRam(int param_1,dword param_2,uint param_3)

{
  undefined2 *puVar1;
  code *pcVar2;
  undefined1 auStack_804 [2048];
  
  flash_write_data_pointer = param_2;
  flash_control_register_ptr = param_1;
  flash_write_end_address = param_1 + (param_3 >> 0x10);
  puVar1 = (undefined2 *)auStack_804;
  for (pcVar2 = flashProgramWordWithWatchdog; pcVar2 < flashProgramFromRam; pcVar2 = pcVar2 + 2) {
    *puVar1 = *(undefined2 *)pcVar2;
    puVar1 = puVar1 + 1;
  }
  (*(code *)auStack_804)();
  return;
}



//
// Function: diagnosticStatusDefaultSetter @ 0x000181bc
//

void diagnosticStatusDefaultSetter(void)

{
  if (diagnostic_status_register == NORMAL_OPERATION) {
    diagnostic_status_register = DEFAULT_DIAGNOSTIC;
  }
  return;
}



//
// Function: diagnostic_parameter_handler @ 0x000181cc
//

void diagnostic_parameter_handler(void)

{
  if (diagnostic_status_register == DEFAULT_DIAGNOSTIC) {
    diagnostic_parameter_buffer = activeParamReadFunction();
    cached_parameter_value = diagnostic_parameter_buffer;
  }
  return;
}



//
// Function: fuelDemandTableBlendCalculator @ 0x000181ea
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDemandTableBlendCalculator(void)

{
  word wVar1;
  word extraout_D0w;
  word extraout_D0w_00;
  ushort extraout_D0w_01;
  ushort extraout_D0w_02;
  
  if ((diagnostic_status_flags & 0x100) == 0) {
    wVar1 = current_fuel_demand_value;
    if (_fuel_demand_blend_mode_select == 1) {
      fuel_demand_blend_input = current_fuel_demand_value;
      wVar1 = lookupTableInterpolation((table_interp_args_t *)&fuel_demand_rating_table_size);
    }
    if (fuel_timing_mode_blend_factor_965a == 0x4000) {
      rpm_snapshot_0 = current_engine_rpm;
      fuel_snapshot_0 = wVar1;
      tableInterpolationLookup((short *)&fuel_demand_blend_table_1_size);
      fuel_demand_table_output = extraout_D0w;
    }
    else if (fuel_timing_mode_blend_factor_965a == 0) {
      rpm_snapshot_1 = current_engine_rpm;
      fuel_snapshot_1 = wVar1;
      tableInterpolationLookup((short *)&fuel_demand_blend_table_2_size);
      fuel_demand_table_output = extraout_D0w_00;
    }
    else {
      rpm_snapshot_0 = current_engine_rpm;
      fuel_snapshot_0 = wVar1;
      tableInterpolationLookup((short *)&fuel_demand_blend_table_1_size);
      rpm_snapshot_1 = current_engine_rpm;
      fuel_snapshot_1 = wVar1;
      tableInterpolationLookup((short *)&fuel_demand_blend_table_2_size);
      fuel_demand_table_output =
           (short)((uint)fuel_timing_mode_blend_factor_965a * (uint)extraout_D0w_01 >> 0xe) +
           (short)((uint)extraout_D0w_02 * (0x4000 - (uint)fuel_timing_mode_blend_factor_965a) >>
                  0xe);
    }
    fuel_demand_source_id = TABLE_BLEND_CALC;
  }
  else {
    fuel_demand_table_output = fuel_demand_blend_param_2;
    fuel_demand_source_id = BLEND_PARAM_FALLBACK;
  }
  if ((diagnostic_system_flags_2 & 0x4000) != 0) {
    fuel_demand_table_output = fuel_demand_blend_param_1 + fuel_demand_table_output;
    fuel_adjustment_active_flag = 1;
  }
  fuel_limit_minimum_value = fuel_demand_table_output;
  fuelDemandUpdateOrchestrator();
  return;
}



//
// Function: initFuelDemandCalculationSystem @ 0x0001832a
//

void initFuelDemandCalculationSystem(void)

{
  fuel_demand_table_1_ptr_370 = 0x807c9a;
  fuel_demand_rating_ptr = (dword)&CCRFRTNG;
  fuel_demand_rating_table_size = 2;
  fuel_demand_table_2_ptr_37c = 0x8080c2;
  fuel_demand_blend_table_1_size = 2;
  fuel_demand_table_3_ptr_384 = 0x8080e8;
  fuel_demand_table_2_base = 2;
  fuel_demand_table_4_ptr = 0x808100;
  fuel_demand_table_5_ptr = 0x80828c;
  fuel_demand_blend_table_2_size = 2;
  fuel_demand_table_6_ptr = 0x8082b2;
  fuel_demand_table_5_base = 2;
  fuel_demand_table_7_ptr = 0x8082ca;
  return;
}



//
// Function: fuelDemandProportionalCalculationSlowCycle40Coordinator @ 0x000183a6
//

void fuelDemandProportionalCalculationSlowCycle40Coordinator(void)

{
  uint uVar1;
  
  if (current_fuel_demand_value < fuel_demand_offset_threshold) {
    fuel_timing_clamp_value = 0;
    return;
  }
  uVar1 = proportionalCalculation
                    ((uint)current_engine_rpm * 0x280,
                     (uint)current_fuel_demand_value - (uint)fuel_demand_offset_threshold,
                     (uint)fuel_demand_proportional_param * 0x1d7);
  if (31999 < uVar1) {
    fuel_timing_clamp_value = 32000;
    return;
  }
  fuel_timing_clamp_value = (word)uVar1;
  return;
}



//
// Function: emptySlowCycle20PlaceholderCase16 @ 0x00018428
//

void emptySlowCycle20PlaceholderCase16(void)

{
  return;
}



//
// Function: emptyInit2 @ 0x0001842a
//

void emptyInit2(void)

{
  return;
}



//
// Function: canPinVp44StatusController @ 0x0001842c
//

ushort canPinVp44StatusController(void)

{
  ushort uVar1;
  
  uVar1 = vp44_communication_status & 1;
  if (((((vp44_communication_status & 1) != 0) && (engine_control_system_ready == 0)) &&
      ((vp44_injection_system_active == 0 ||
       (uVar1 = vp44_status_flags_1 & 0x40, (vp44_status_flags_1 & 0x40) == 0)))) &&
     (((engine_operating_mode == HIGH_PERFORMANCE &&
       (uVar1 = vp44_status_flags_2 & 2, (vp44_status_flags_2 & 2) == 0)) ||
      (engine_operating_mode != HIGH_PERFORMANCE)))) {
    can_pin_switching_control_flags = can_pin_switching_control_flags | 0x20;
    return uVar1;
  }
  can_pin_switching_control_flags = can_pin_switching_control_flags & 0xdf;
  return uVar1;
}



//
// Function: fuel_timing_calculation_with_fault_checking @ 0x0001848e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuel_timing_calculation_with_fault_checking(void)

{
  word wVar1;
  short sVar2;
  ushort unaff_D3w;
  ushort unaff_D4w;
  undefined8 uVar3;
  
  wVar1 = fuel_timing_mode_selector;
  if (fuel_timing_mode_selector != 0) {
    _rpm_input_for_fuel_table_1 = current_engine_rpm;
    uVar3 = tableInterpolationLookup((short *)&fuel_lookup_table_1_base);
    unaff_D4w = (ushort)((ulonglong)uVar3 >> 0x20);
  }
  if (wVar1 < 0x4000) {
    _rpm_input_for_fuel_table_2 = current_engine_rpm;
    uVar3 = tableInterpolationLookup((short *)&fuel_lookup_table_2_base);
    unaff_D3w = (ushort)((ulonglong)uVar3 >> 0x20);
  }
  calculated_fuel_timing_value = unaff_D4w;
  if ((wVar1 != 0x4000) && (calculated_fuel_timing_value = unaff_D3w, wVar1 != 0)) {
    calculated_fuel_timing_value =
         unaff_D3w + (short)((uint)wVar1 * ((uint)unaff_D4w - (uint)unaff_D3w) >> 0xe);
  }
  if (((((vp44_flag_register_1 & 0x8000) == 0) ||
       (((engine_fault_status_register_1 & 2) != 0 &&
        ((engine_fault_confirmation_register & 2) != 0)))) ||
      (((engine_fault_status_register_1 & 1) != 0 && ((engine_fault_confirmation_register & 1) != 0)
       ))) || (((engine_fault_status_register_1 & 0x10) != 0 &&
               ((engine_fault_confirmation_register & 0x10) != 0)))) {
    sVar2 = 0;
  }
  else {
    _fuel_correction_input = throttle_position_raw;
    sVar2 = lookupTableInterpolation((table_interp_args_t *)&fuel_correction_table_base);
  }
  calculated_fuel_timing_value = sVar2 + calculated_fuel_timing_value;
  if (calculated_fuel_timing_value < mask_used_for_can_msg_object_15_0_ffffffff) {
    calculated_fuel_timing_value = mask_used_for_can_msg_object_15_0_ffffffff;
  }
  return;
}



//
// Function: fuelLimitParameterPointerSetup @ 0x00018590
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelLimitParameterPointerSetup(void)

{
  _fuel_limit_lookup_1_base = 0x807f42;
  _fuel_lookup_table_1_base = 2;
  fuel_limit_table_1_limit = 400;
  fuel_limit_table_3_ptr = 0x807f68;
  fuel_limit_lookup_1_divisor = 2;
  fuel_limit_intake_temp_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  fuel_limit_table_4_ptr = 0x808002;
  _fuel_lookup_table_2_base = 2;
  fuel_limit_table_2_limit = 400;
  fuel_limit_table_5_ptr = 0x808028;
  fuel_limit_lookup_2_divisor = 2;
  fuel_limit_table_6_ptr = 0x808032;
  _fuel_correction_input = throttle_position_raw;
  ram0x008003a6 = 0x808862;
  fuel_limit_table_2_ptr = 0x808876;
  fuel_correction_table_base._0_2_ = 2;
  return;
}



//
// Function: shutdownMinimumSelector19 @ 0x00018620
//

void shutdownMinimumSelector19(void)

{
  if (calculated_fuel_timing_value < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = calculated_fuel_timing_value;
    shutdown_minimum_selector_value = CALCULATED_FUEL_TIMING;
  }
  return;
}



//
// Function: fuel_delivery_controller @ 0x0001863e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuel_delivery_controller(void)

{
  short sVar1;
  word wVar2;
  int iVar3;
  
  wVar2 = fuel_delivery_target;
  if (diagnostic_fuel_control_mode == 0xc) {
    if (((int)((int)_number_of_engine_speed_targets_per_crankshaft_revolution_1_255 +
              (uint)arbitrator_fuel_value_buffer) < (int)(uint)current_engine_rpm) &&
       (diagnostic_rpm_threshold_status < _rpm_comparison_threshold)) {
      final_fuel_delivery_command =
           (uint)engine_speed_above_which_the_overspeed_algorithm_disables_fue_0_4000 << 0x10;
      fuel_delivery_target = 0;
      _fuel_delivery_status = -0x80000000;
    }
    else {
      fuel_delivery_target = exponentialMovingAverage();
      if ((short)_fuel_delivery_max_limit < (short)fuel_delivery_target) {
        fuel_delivery_target = _fuel_delivery_max_limit;
        _fuel_delivery_status = (short)_fuel_delivery_max_limit * 0x10000 + -0x80000000;
      }
      else if ((short)fuel_delivery_target < (short)_fuel_delivery_min_limit) {
        fuel_delivery_target = _fuel_delivery_min_limit;
        _fuel_delivery_status = (short)_fuel_delivery_min_limit * 0x10000 + -0x80000000;
      }
      _fuel_delivery_scaled =
           (short)(((int)(short)fuel_delivery_target * (int)_fuel_delivery_gain_factor) / 0x3c0);
      if ((int)_fuel_delivery_rate_limit_gain *
          ((int)(short)fuel_delivery_target - (int)(short)wVar2) < 0x77ff10) {
        iVar3 = ((int)(short)fuel_delivery_target - (int)(short)wVar2) *
                (int)_fuel_delivery_rate_limit_gain;
        if (iVar3 < -0x77ffff) {
          _fuel_delivery_rate_delta = -0x8000;
        }
        else {
          _fuel_delivery_rate_delta = (short)(iVar3 / 0xf0);
        }
      }
      else {
        _fuel_delivery_rate_delta = 0x7fff;
      }
      iVar3 = (int)(short)fuel_delivery_target * (int)(short)(_fuel_delivery_offset_factor << 2) +
              final_fuel_delivery_command;
      final_fuel_delivery_command._0_2_ = (word)((uint)iVar3 >> 0x10);
      sVar1 = final_fuel_delivery_command._0_2_ - _fuel_delivery_offset_correction;
      final_fuel_delivery_command = CONCAT22(sVar1,(short)iVar3);
      if (sVar1 < (short)_fuel_delivery_upper_bound) {
        if (sVar1 < (short)_fuel_delivery_lower_bound) {
          final_fuel_delivery_command = (uint)_fuel_delivery_lower_bound << 0x10;
        }
      }
      else {
        final_fuel_delivery_command = (uint)_fuel_delivery_upper_bound << 0x10;
      }
      fuel_delivery_state_variable = final_fuel_delivery_command._0_2_;
      iVar3 = (int)(short)final_fuel_delivery_command._0_2_ +
              (int)_fuel_delivery_rate_delta + (int)_fuel_delivery_scaled;
      if ((int)(uint)intercept_of_rpm_vs_phase_lag_line_defining_time_offset_for_syn_0_16 < iVar3) {
        fuel_delivery_phase_lag_result =
             intercept_of_rpm_vs_phase_lag_line_defining_time_offset_for_syn_0_16;
      }
      else if (iVar3 < (int)(uint)
                            slope_of_rpm_vs_phase_lag_line_defining_time_offset_for_s_0_0_031136) {
        fuel_delivery_phase_lag_result =
             slope_of_rpm_vs_phase_lag_line_defining_time_offset_for_s_0_0_031136;
      }
      else {
        fuel_delivery_phase_lag_result = (word)iVar3;
      }
      diagnostic_rpm_threshold_status = fuel_delivery_phase_lag_result;
    }
  }
  return;
}



//
// Function: fuelRpmDeviationCalculator @ 0x0001883a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelRpmDeviationCalculator(void)

{
  fuel_delivery_target =
       (word)((int)((int)(short)fuel_delivery_rpm_deviation_param *
                   ((uint)arbitrator_fuel_value_buffer - (uint)current_engine_rpm)) >> 9);
  if ((short)_fuel_delivery_max_limit < (short)fuel_delivery_target) {
    fuel_delivery_target = _fuel_delivery_max_limit;
  }
  else if ((short)fuel_delivery_target < (short)_fuel_delivery_min_limit) {
    fuel_delivery_target = _fuel_delivery_min_limit;
  }
  _fuel_delivery_status = (short)fuel_delivery_target * 0x10000 + -0x80000000;
  final_fuel_delivery_command._0_2_ =
       current_fuel_demand_value -
       (short)(((int)(short)fuel_delivery_target * (int)_fuel_delivery_gain_factor) / 0x3c0);
  if ((short)final_fuel_command_max < (short)final_fuel_delivery_command._0_2_) {
    final_fuel_delivery_command._0_2_ = final_fuel_command_max;
  }
  else if ((short)final_fuel_delivery_command._0_2_ < (short)final_fuel_command_min) {
    final_fuel_delivery_command._0_2_ = final_fuel_command_min;
  }
  final_fuel_delivery_command._2_2_ = 0;
  if (fuel_rpm_deviation_calc_param != 0) {
    fuel_delivery_controller();
  }
  return;
}



//
// Function: fuelDeliverySystemInit @ 0x000188f6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDeliverySystemInit(void)

{
  _fuel_delivery_gain_factor = fuel_delivery_gain_factor_init;
  _fuel_delivery_offset_factor = fuel_delivery_offset_factor_init;
  _fuel_delivery_rate_limit_gain = fuel_delivery_rate_limit_gain_init;
  _fuel_delivery_status = 0x80000000;
  fuel_delivery_param_ptr = 0x808464;
  return;
}



//
// Function: fuel_limit_arbitrator @ 0x0001892a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuel_limit_arbitrator(void)

{
  uint uVar1;
  word wVar2;
  
  if (fuel_arbitrator_diag_t_0080cff8.speed_limit == 1) {
    arbitrator_fuel_value_buffer = _diagnostic_mode_parameter;
    arbitrator_active_limit_priority = 8;
    _arbitrator_status_flag = 0;
    return;
  }
  fuel_limit_offset_value = *(word *)param_pointer_set_1;
  fuel_limit_comparison_low = *(word *)param_pointer_set_2;
  fuel_limit_comparison_high = *(word *)param_pointer_set_3;
  if (fuel_limit_offset_value < fuel_arbitrator_threshold_1) {
    arbitrator_active_limit_priority = 6;
    arbitrated_fuel_limit = fuel_limit_offset_value;
  }
  else {
    arbitrated_fuel_limit = fuel_arbitrator_threshold_1;
    arbitrator_active_limit_priority = 5;
  }
  if ((fuel_arbitrator_diag_t_0080cff8.rpm_target == 3) &&
     (fuel_arbitrator_diag_t_0080cff8.command_counter <= arbitrated_fuel_limit)) {
    arbitrated_fuel_limit = fuel_arbitrator_diag_t_0080cff8.command_counter;
    arbitrator_active_limit_priority = 9;
  }
  if (fuel_arbitrator_threshold_2 <= arbitrated_fuel_limit) {
    arbitrated_fuel_limit = fuel_arbitrator_threshold_2;
    arbitrator_active_limit_priority = 4;
  }
  if (fuel_arbitrator_threshold_3 <= arbitrated_fuel_limit) {
    arbitrated_fuel_limit = fuel_arbitrator_threshold_3;
    arbitrator_active_limit_priority = 3;
  }
  if (fuel_arbitrator_threshold_4 <= arbitrated_fuel_limit) {
    arbitrated_fuel_limit = fuel_arbitrator_threshold_4;
    arbitrator_active_limit_priority = 2;
  }
  if (_fuel_arbitrator_threshold_5 <= arbitrated_fuel_limit) {
    arbitrated_fuel_limit = _fuel_arbitrator_threshold_5;
    arbitrator_active_limit_priority = 1;
  }
  if (fuel_arbitrator_threshold_6 <= arbitrated_fuel_limit) {
    arbitrated_fuel_limit = fuel_arbitrator_threshold_6;
    arbitrator_active_limit_priority = 7;
  }
  if (true_oil_pressure_precrank_error_1_true_0_false <= arbitrated_fuel_limit) {
    arbitrated_fuel_limit = true_oil_pressure_precrank_error_1_true_0_false;
    arbitrator_active_limit_priority = 0xb;
  }
  if (allowed_rate_of_torque_limit_change_0_2000 < arbitrated_fuel_limit) {
    arbitrated_fuel_limit = allowed_rate_of_torque_limit_change_0_2000;
  }
  if (arbitrator_active_limit_priority == 9) {
    if ((uint)arbitrated_fuel_limit <
        (uint)fuel_limit_rpm_error_offset + (uint)governor_rpm_error_value) {
      arbitrated_fuel_limit = fuel_limit_rpm_error_offset + governor_rpm_error_value;
    }
  }
  else if (arbitrated_fuel_limit < arbitrated_fuel_limit_min) {
    arbitrated_fuel_limit = arbitrated_fuel_limit_min;
  }
  if (fuel_demand_rate_limit < arbitrated_fuel_limit) {
    fuel_demand_rate_limit =
         number_of_consecutive_occurances_of_powerdown_data_lost_to_set_1_255 +
         fuel_demand_rate_limit;
  }
  if (arbitrated_fuel_limit < fuel_demand_rate_limit) {
    fuel_demand_rate_limit = arbitrated_fuel_limit;
  }
  if (((fuel_limit_comparison_high != 0) && (fuel_limit_comparison_low != 0)) &&
     ((arbitrator_active_limit_priority != 9 || (fuel_arbitrator_diag_t_0080cff8._28_2_ != 1)))) {
    _arbitrator_status_flag = 1;
    wVar2 = load_descriminator_to_determine_lugback_0_100;
    if ((diagnostic_rpm_threshold_status <= load_descriminator_to_determine_lugback_0_100) &&
       (wVar2 = diagnostic_rpm_threshold_status,
       diagnostic_rpm_threshold_status < load_descriminator_to_determine_lugback_0_100)) {
      wVar2 = load_descriminator_to_determine_lugback_0_100;
    }
    uVar1 = ((uint)fuel_limit_comparison_high * ((uint)fuel_limit_comparison_low - (uint)wVar2)) /
            0x1111;
    if ((int)(uVar1 & 0xffff) < (int)((uint)fuel_limit_offset_value - (uint)fuel_demand_rate_limit))
    {
      fuel_demand_delta = 0;
    }
    else {
      fuel_demand_delta =
           (short)uVar1 - (short)((uint)fuel_limit_offset_value - (uint)fuel_demand_rate_limit);
    }
    if (fuel_demand_delta <= fuel_demand_rate_limit) {
      arbitrator_fuel_value_buffer = fuel_demand_rate_limit;
      return;
    }
    arbitrator_fuel_value_buffer = fuel_demand_delta;
    return;
  }
  arbitrator_fuel_value_buffer = fuel_demand_rate_limit;
  _arbitrator_status_flag = 0;
  return;
}



//
// Function: fuelArbitratorInit @ 0x00018b6e
//

void fuelArbitratorInit(void)

{
  param_pointer_set_1 = (dword)&fuel_demand_rate_limit_init;
  param_pointer_set_3 = 0x8036d8;
  param_pointer_set_2 = 0x8036da;
  fuel_demand_rate_limit = fuel_demand_rate_limit_init;
  arbitrator_active_limit_priority = 6;
  arbitrated_fuel_limit = oil_pressure_precrank_status;
  fuel_arbitrator_threshold_6 = oil_pressure_precrank_status;
  fuel_arbitrator_threshold_2 = oil_pressure_precrank_status;
  return;
}



//
// Function: derateChangeDetector @ 0x00018bbe
//

void derateChangeDetector(void)

{
  ushort uVar1;
  
  uVar1 = (byte)-((derate_status_byte & 8) != 0) & 1;
  derate_bit8_changed_flag = (word)(uVar1 != derate_bit8_previous_state);
  derate_bit8_previous_state = uVar1;
  uVar1 = (byte)-((derate_status_byte & 4) != 0) & 1;
  derate_bit4_changed_flag = (word)(uVar1 != derate_bit4_previous_state);
  derate_bit4_previous_state = uVar1;
  if (active_derate_value < derate_reference_value) {
    uVar1 = derate_reference_value - active_derate_value;
  }
  else {
    uVar1 = active_derate_value - derate_reference_value;
  }
  if (the_can_1_bus_configuration_register_0_255 < uVar1) {
    derate_reference_value = active_derate_value;
    derate_value_changed_flag = 1;
    return;
  }
  derate_value_changed_flag = 0;
  return;
}



//
// Function: highRpmEngineProtectionStateMachine @ 0x00018c62
//

ushort highRpmEngineProtectionStateMachine(void)

{
  ushort uVar1;
  
  uVar1 = diagnostic_system_flags_1 & 2;
  if ((diagnostic_system_flags_1 & 2) != 0) {
    uVar1 = derateChangeDetector();
    if (high_rpm_protection_state == MONITORING) {
      high_rpm_protection_timer = high_rpm_protection_initial_timer;
      high_rpm_protection_warning_flag = 0;
      high_rpm_protection_fault_flag = 0;
      derate_reference_value = active_derate_value;
      if (the_can_1_bit_timing_0_register_0_255 == 0) {
        output_control_status_byte = output_control_status_byte | 1;
      }
      else {
        output_control_status_byte = output_control_status_byte & 0xfe;
      }
      if (((oil_pressure_protection_enabled == 0) ||
          (uVar1 = diagnostic_system_flags_2 & 8, (diagnostic_system_flags_2 & 8) != 0)) &&
         ((throttle_position_value == 0 &&
          ((engine_operating_mode == HIGH_RPM_RUNNING &&
           (uVar1 = throttle_position_raw,
           the_can_1_cpu_interface_register_0_255 < throttle_position_raw)))))) {
        if (((engine_fault_register_a & 0x100) == 0) || ((engine_fault_register_b & 0x100) == 0)) {
          uVar1 = 0;
        }
        else {
          uVar1 = 1;
        }
        if ((((uVar1 == 0) && (derate_bit4_changed_flag == 0)) && (derate_bit8_changed_flag == 0))
           && (derate_value_changed_flag == 0)) {
          high_rpm_protection_state = TIMER_COUNTING;
          return 0;
        }
      }
    }
    else if (high_rpm_protection_state == TIMER_COUNTING) {
      high_rpm_protection_timer = high_rpm_protection_timer - 1;
      if ((((oil_pressure_protection_enabled != 0) && ((diagnostic_system_flags_2 & 8) == 0)) ||
          (engine_operating_mode != HIGH_RPM_RUNNING)) ||
         (((throttle_position_raw <= the_can_1_cpu_interface_register_0_255 ||
           (derate_bit4_changed_flag != 0)) ||
          ((derate_bit8_changed_flag != 0 || (derate_value_changed_flag != 0)))))) {
        high_rpm_protection_state = MONITORING;
      }
      uVar1 = high_rpm_protection_timer;
      if (high_rpm_protection_timer <= the_can_1_bit_timing_1_register_0_255) {
        high_rpm_protection_state = RPM_PROTECTION_WARNING_ACTIVE;
        high_rpm_protection_warning_flag = 1;
        return high_rpm_protection_timer;
      }
    }
    else if (high_rpm_protection_state == RPM_PROTECTION_WARNING_ACTIVE) {
      high_rpm_protection_timer = high_rpm_protection_timer - 1;
      uVar1 = diagnostic_system_flags_1 & 4;
      if ((diagnostic_system_flags_1 & 4) == 0) {
        if ((((oil_pressure_protection_enabled != 0) &&
             (uVar1 = diagnostic_system_flags_2 & 8, (diagnostic_system_flags_2 & 8) == 0)) ||
            (throttle_position_value != 0)) ||
           (((engine_operating_mode != HIGH_RPM_RUNNING || (derate_bit4_changed_flag != 0)) ||
            ((derate_bit8_changed_flag != 0 || (derate_value_changed_flag != 0)))))) {
          high_rpm_protection_state = MONITORING;
        }
      }
      else {
        uVar1 = derate_bit8_changed_flag | derate_bit4_changed_flag;
        if ((uVar1 != 0) || (derate_value_changed_flag != 0)) {
          high_rpm_protection_state = FAULT_TRIGGERED;
          high_rpm_protection_warning_flag = 0;
          high_rpm_protection_fault_flag = 1;
        }
      }
      if (high_rpm_protection_timer == 0) {
        high_rpm_protection_state = SHUTDOWN_PENDING;
        high_rpm_protection_warning_flag = 0;
        high_rpm_shutdown_active_flag = 1;
        if (the_can_1_bit_timing_0_register_0_255 != 0) {
          output_control_status_byte = output_control_status_byte | 1;
          return uVar1;
        }
        output_control_status_byte = output_control_status_byte & 0xfe;
        return uVar1;
      }
    }
    else if (high_rpm_protection_state == FAULT_TRIGGERED) {
      if ((throttle_position_value != 0) || (engine_operating_mode == ENGINE_IDLE)) {
        high_rpm_protection_state = MONITORING;
        return uVar1;
      }
    }
    else if ((high_rpm_protection_state == SHUTDOWN_PENDING) &&
            (engine_operating_mode == ENGINE_IDLE)) {
      high_rpm_protection_state = MONITORING;
    }
  }
  return uVar1;
}



//
// Function: initFuelArbitratorThreshold3 @ 0x00018e9c
//

void initFuelArbitratorThreshold3(void)

{
  high_rpm_protection_timer = high_rpm_protection_initial_timer;
  high_rpm_protection_state = MONITORING;
  high_rpm_shutdown_active_flag = 0;
  return;
}



//
// Function: vp44ControlStructureInit @ 0x00018eb4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44ControlStructureInit(void)

{
  _timing_blend_accumulator = 0;
  _vp44_control_structure_init_value = 0x806fb0;
  timing_protection_blend_ramp = 0;
  fuel_source_mode_11_state = 0;
  fuel_mode_transition_state = 0;
  vp44_status_threshold_flag = 0;
  timing_protection_counter_2 = 0;
  return;
}



//
// Function: diagnosticBufferPointerInit @ 0x00018ee4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticBufferPointerInit(void)

{
  _can_transmit_length = &diagnostic_tx_buffer_base;
  can_transmit_buffer_ptr = (dword)&diagnostic_tx_buffer_base;
  _track_the_time_when_throttle_is_less_than_a_threshold_0_30 = 0x808b01;
  diagnostic_tx_buffer_base = 0;
  ci_tooth_count_error_incremented_when_ci_pulse_width_is_wrong_0_255 = 0;
  diagnostic_tx_buffer_start_ptr = (dword)&diagnostic_tx_buffer_base;
  _dummy_variable_0_65535 = 0x808c01;
  diagnostic_rx_buffer_base = 0;
  tpu_transmission_active_flag = 0;
  diagnostic_rx_buffer_start_ptr = (dword)&diagnostic_rx_buffer_base;
  diagnostic_buffer_end_address = 0x808cff;
  _can_tx_message_type = &diagnostic_rx_buffer_base;
  _enables_input_of_eps_period_data_to_pptb_0_1 = &diagnostic_rx_buffer_base;
  return;
}



//
// Function: initFuelArbitratorThreshold5 @ 0x00018f6c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initFuelArbitratorThreshold5(void)

{
  _fuel_arbitrator_threshold_5 = oil_pressure_precrank_status;
  fuel_arbitrator_oil_pressure_snapshot = oil_pressure_precrank_status;
  return;
}



//
// Function: activeParamReadFunction @ 0x00018f82
//

short activeParamReadFunction(void)

{
  word wVar1;
  ushort extraout_D0w;
  ushort extraout_D0w_00;
  ushort extraout_D0w_01;
  ushort extraout_D0w_02;
  ushort extraout_D0w_03;
  ushort extraout_D0w_04;
  ushort unaff_D2w;
  ushort uVar2;
  ushort unaff_D3w;
  
  wVar1 = fuel_timing_mode_selector;
  if (active_derate_value != 0) {
    if (fuel_timing_mode_selector != 0) {
      fuel_timing_mode_rpm_input_1 = current_engine_rpm;
      derate_interpolation_value_1 = active_derate_value;
      tableInterpolationLookup((short *)&interpolation_table_1_base);
      unaff_D3w = extraout_D0w;
      if ((active_derate_value != 0) && (active_derate_value != 400)) {
        derate_interpolation_value_1 = 0;
        tableInterpolationLookup((short *)&interpolation_table_1_base);
        derate_interpolation_value_1 = 400;
        tableInterpolationLookup((short *)&interpolation_table_1_base);
        if (extraout_D0w < extraout_D0w_00) {
          unaff_D3w = extraout_D0w_00;
        }
        if (extraout_D0w_01 < unaff_D3w) {
          unaff_D3w = extraout_D0w_01;
        }
      }
    }
    if (wVar1 < 0x4000) {
      fuel_timing_mode_rpm_input_2 = current_engine_rpm;
      derate_interpolation_value_2 = active_derate_value;
      tableInterpolationLookup((short *)&interpolation_table_2_base);
      unaff_D2w = extraout_D0w_02;
      if ((active_derate_value != 0) && (active_derate_value != 400)) {
        derate_interpolation_value_2 = 0;
        tableInterpolationLookup((short *)&interpolation_table_2_base);
        derate_interpolation_value_2 = 400;
        tableInterpolationLookup((short *)&interpolation_table_2_base);
        if (extraout_D0w_02 < extraout_D0w_03) {
          unaff_D2w = extraout_D0w_03;
        }
        if (extraout_D0w_04 < unaff_D2w) {
          unaff_D2w = extraout_D0w_04;
        }
      }
    }
    uVar2 = unaff_D2w;
    if ((wVar1 != 0) && (uVar2 = unaff_D3w, wVar1 != 0x4000)) {
      uVar2 = unaff_D2w + (short)((uint)wVar1 * ((uint)unaff_D3w - (uint)unaff_D2w) >> 0xe);
    }
    return fuel_timing_base_offset + uVar2;
  }
  return mask_used_for_can_msg_object_15_0_ffffffff;
}



//
// Function: fuelTimingModeInit @ 0x00019076
//

void fuelTimingModeInit(void)

{
  fuel_timing_mode_table_1_ptr = 0x807f42;
  interpolation_table_1_base = 2;
  fuel_timing_mode_table_2_ptr = 0x807f68;
  fuel_timing_mode_lookup_1_base = 2;
  fuel_timing_mode_intake_temp_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  fuel_timing_mode_table_3_ptr = 0x808002;
  interpolation_table_2_base = 2;
  fuel_timing_mode_table_4_ptr = 0x808028;
  fuel_timing_mode_lookup_2_base = 2;
  fuel_timing_mode_table_5_ptr = 0x808032;
  fuel_timing_mode_selector = 0x4000;
  return;
}



//
// Function: serialNodeAddressChecker @ 0x000190d8
//

void serialNodeAddressChecker(undefined4 param_1)

{
  if ((param_1._0_2_ & 0xff) == serial_node_address_state) {
    serialTransmitHandler();
    return;
  }
  emptyStubFunction1();
  return;
}



//
// Function: serialNodeAddressForwarder @ 0x00019108
//

void serialNodeAddressForwarder(undefined4 param_1)

{
  undefined4 unaff_D2;
  
  if ((serial_node_address_state < (param_1._0_2_ & 0xff)) &&
     ((byte)((uint)param_1 >> 0x10) <= serial_node_address_limit)) {
    serialReceiveBufferProcessor(CONCAT22(param_1._0_2_,(short)((uint)unaff_D2 >> 0x10)) & 0xffffff)
    ;
  }
  return;
}



//
// Function: canFrameDataCopy @ 0x0001913e
// ERROR: Failed to decompile
//

//
// Function: serialPort1IsrHandler @ 0x0001917c
//

undefined8 serialPort1IsrHandler(void)

{
  byte *pbVar1;
  byte bVar2;
  undefined3 uVar3;
  undefined4 in_D0;
  undefined4 in_D1;
  undefined2 uVar4;
  undefined2 uStack_1a;
  
  uVar4 = (undefined2)((uint)in_D0 >> 0x10);
  uStack_1a = (undefined2)in_D0;
  while (bVar2 = serial_port_1_rx_data_register, serial_port_1_rx_data_register != 0) {
    if ((serial_port_1_rx_data_register < 3) || (0x10 < serial_port_1_rx_data_register)) {
      serial_port_1_isr_counter._0_1_ = serial_port_1_base_register._1_1_;
      if ((serial_port_1_base_register._1_1_ & 0x80) != 0) {
        do {
        } while ((serial_port_1_base_register._2_1_ & 0x80) != 0);
        serial_port_1_base_register._0_1_ = 10;
      }
    }
    else {
      pbVar1 = (byte *)((uint)serial_port_1_rx_data_register * 0x10 + 0xffd7e0);
      *pbVar1 = 0xfd;
      uVar3 = (undefined3)((uint)pbVar1 >> 8);
      if ((*pbVar1 & 0x20) == 0) {
        serialNodeAddressForwarder(CONCAT22((short)CONCAT31(uVar3,bVar2 - 2),uVar4));
      }
      else {
        serialNodeAddressChecker(CONCAT22((short)CONCAT31(uVar3,bVar2 - 2),uVar4));
      }
    }
  }
  return CONCAT44(CONCAT22(uVar4,uStack_1a),in_D1);
}



//
// Function: canMessageInterruptHandlerSetup @ 0x0001920a
//

void canMessageInterruptHandlerSetup(void)

{
  can_message_isr_register_address = (dword)serialPort1IsrHandler;
  return;
}



//
// Function: emptyStubWrapper1 @ 0x00019216
//

void emptyStubWrapper1(void)

{
  emptyStubFunction1();
  return;
}



//
// Function: modeBasedDataDispatcherWrapper @ 0x00019228
//

void modeBasedDataDispatcherWrapper(undefined4 param_1)

{
  undefined2 in_D0w;
  undefined2 in_stack_00000000;
  
  modeBasedDataDispatcher
            (CONCAT22(CONCAT11((char)((ushort)in_D0w >> 8),(char)((uint)param_1 >> 0x10)),
                      in_stack_00000000));
  return;
}



//
// Function: serialPort2IsrHandler @ 0x0001923a
//

undefined8 serialPort2IsrHandler(void)

{
  byte *pbVar1;
  byte bVar2;
  undefined4 in_D0;
  undefined4 in_D1;
  undefined2 uVar3;
  undefined2 uStack_1a;
  
  uVar3 = (undefined2)((uint)in_D0 >> 0x10);
  uStack_1a = (undefined2)in_D0;
  while (bVar2 = serial_port_2_rx_data_register, serial_port_2_rx_data_register != 0) {
    if ((serial_port_2_rx_data_register < 3) || (0x10 < serial_port_2_rx_data_register)) {
      serial_port_1_isr_counter._1_1_ = serial_port_2_base_register._1_1_;
      if ((serial_port_2_base_register._1_1_ & 0x80) != 0) {
        do {
        } while ((serial_port_2_base_register._2_1_ & 0x80) != 0);
        serial_port_2_base_register._0_1_ = 10;
      }
    }
    else {
      pbVar1 = (byte *)((uint)serial_port_2_rx_data_register * 0x10 + 0xffc7e0);
      *pbVar1 = 0xfd;
      if ((*pbVar1 & 0x20) == 0) {
        modeBasedDataDispatcherWrapper
                  (CONCAT22((short)CONCAT31((int3)((uint)pbVar1 >> 8),bVar2 - 2),uVar3));
      }
      else {
        emptyStubWrapper1();
      }
    }
  }
  return CONCAT44(CONCAT22(uVar3,uStack_1a),in_D1);
}



//
// Function: serialCommunicationIsrRegister @ 0x000192c4
//

void serialCommunicationIsrRegister(void)

{
  serial_comm_isr_register_address = (dword)serialPort2IsrHandler;
  return;
}



//
// Function: tpuTimerChannelEnable @ 0x000192d0
//

void tpuTimerChannelEnable(void)

{
  tpu_channel_enable_state = 1;
  tpu_channel_int_select = 0xfc8a;
  tpu_channel_priority_select = tpu_channel_priority_select & 0x7fff | 0x4000;
  return;
}



//
// Function: epsPositionSensorIsrHandler @ 0x000192f2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 epsPositionSensorIsrHandler(void)

{
  byte *pbVar1;
  undefined4 in_D0;
  undefined4 in_D1;
  byte bVar2;
  
  pbVar1 = _track_the_time_when_throttle_is_less_than_a_threshold_0_30;
  if ((tpu_cfsr0 & 0x40) != 0) {
    tpu_channel_enable_state = 0;
    tpu_channel_priority_select = tpu_channel_priority_select & 0x8fff;
    bVar2 = (byte)tpu_cfsr1;
    if (tpu_channel_state_value == 1) {
      *_dummy_variable_0_65535 = bVar2;
      _dummy_variable_0_65535 =
           (byte *)CONCAT31(_dummy_variable_0_65535,flag_indicating_eps_sensor_not_used_0_1 + 1);
      *_can_tx_message_type = *_can_tx_message_type + 1;
      tpu_transmission_state = bVar2 + tpu_transmission_state;
      if (_enables_input_of_eps_period_data_to_pptb_0_1 == _dummy_variable_0_65535) {
        if (_can_tx_message_type == _enables_input_of_eps_period_data_to_pptb_0_1) {
          *_can_tx_message_type = 0;
          tpu_transmission_state = 0;
          _dummy_variable_0_65535 =
               (byte *)CONCAT31(_dummy_variable_0_65535,(char)dummy_variable_0_65535 + '\x01');
        }
        else {
          tpu_transmission_active_flag = 1;
          tpu_cier = tpu_cier & 0xffdf;
          if ((byte *)can_transmit_buffer_ptr != _can_transmit_length) {
            tpuTimerChannelEnable();
            tpu_channel_enable_state = 1;
          }
        }
      }
      else {
        tpuTimerChannelEnable();
      }
    }
    else {
      switch(_tpu_transmission_state_machine) {
      case 0:
        if (bVar2 == *_track_the_time_when_throttle_is_less_than_a_threshold_0_30) {
          _track_the_time_when_throttle_is_less_than_a_threshold_0_30 =
               (byte *)CONCAT31(_track_the_time_when_throttle_is_less_than_a_threshold_0_30,
                                (char)
                                flag_shows_posibility_of_esp_transitioning_between_normal_false_true
                                + '\x01');
          tpu_cfsr1 = (word)*_track_the_time_when_throttle_is_less_than_a_threshold_0_30;
          tpuTimerChannelEnable();
          tpu_transmission_state =
               *_track_the_time_when_throttle_is_less_than_a_threshold_0_30 + tpu_transmission_state
          ;
          tpu_transmission_byte_counter = tpu_transmission_byte_counter + 1;
          if (tpu_transmission_byte_counter == *_can_transmit_length) {
            _tpu_transmission_state_machine = 2;
          }
          else {
            _tpu_transmission_state_machine = 1;
          }
        }
        else if (tpu_transmission_active_flag == 0) {
          tpu_channel_state_value = 1;
          tpu_transmission_state = bVar2;
          *_dummy_variable_0_65535 = bVar2;
          _dummy_variable_0_65535 =
               (byte *)CONCAT31(_dummy_variable_0_65535,flag_indicating_eps_sensor_not_used_0_1 + 1)
          ;
          *_can_tx_message_type = *_can_tx_message_type + 1;
          if (_dummy_variable_0_65535 == _enables_input_of_eps_period_data_to_pptb_0_1) {
            tpu_transmission_active_flag = 1;
            tpu_cier = tpu_cier & 0xffdf;
          }
          else {
            tpuTimerChannelEnable();
          }
        }
        else {
          tpu_channel_state_value = 1;
          tpu_transmission_state = 0;
          tpuTimerChannelEnable();
        }
        break;
      case 1:
        _track_the_time_when_throttle_is_less_than_a_threshold_0_30 =
             (byte *)CONCAT31(_track_the_time_when_throttle_is_less_than_a_threshold_0_30,
                              (char)
                              flag_shows_posibility_of_esp_transitioning_between_normal_false_true +
                              '\x01');
        tpu_cfsr1 = (word)*_track_the_time_when_throttle_is_less_than_a_threshold_0_30;
        tpuTimerChannelEnable();
        tpu_transmission_state =
             *_track_the_time_when_throttle_is_less_than_a_threshold_0_30 + tpu_transmission_state;
        tpu_transmission_byte_counter = tpu_transmission_byte_counter + 1;
        if (tpu_transmission_byte_counter == *_can_transmit_length) {
          _tpu_transmission_state_machine = 2;
        }
        break;
      case 2:
        tpu_cfsr1 = ~(ushort)tpu_transmission_state + 1 & 0xff;
        tpuTimerChannelEnable();
        _track_the_time_when_throttle_is_less_than_a_threshold_0_30 =
             (byte *)CONCAT31(_track_the_time_when_throttle_is_less_than_a_threshold_0_30,
                              (char)
                              flag_shows_posibility_of_esp_transitioning_between_normal_false_true +
                              '\x01');
        _tpu_transmission_state_machine = 3;
        break;
      case 3:
        _can_transmit_length = _track_the_time_when_throttle_is_less_than_a_threshold_0_30;
        _track_the_time_when_throttle_is_less_than_a_threshold_0_30 =
             (byte *)CONCAT31(_track_the_time_when_throttle_is_less_than_a_threshold_0_30,
                              (char)
                              flag_shows_posibility_of_esp_transitioning_between_normal_false_true +
                              '\x01');
        tpu_transmission_state = 0;
        ci_tooth_count_error_incremented_when_ci_pulse_width_is_wrong_0_255 = 0;
        if (((((io_fault_status_reg_4 & 4) != 0) && ((fault_mask_flags_1 & 4) != 0)) &&
            ((io_fault_status_reg_4 & 4) != 0)) && ((io_fault_latch_reg_4 & 4) == 0)) {
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfffb;
        }
        tpu_channel_state_value = 1;
        if (tpu_transmission_active_flag == 0) {
          tpu_cier = tpu_cier | 0x20;
        }
        else {
          tpu_cier = tpu_cier & 0xffdf;
        }
        if ((byte *)can_transmit_buffer_ptr != pbVar1) {
          tpu_channel_enable_state = 1;
          tpu_channel_priority_select = tpu_channel_priority_select | 0x4000;
          tpu_channel_int_select = 0xfcbe;
        }
      }
    }
  }
  return CONCAT44(in_D0,in_D1);
}



//
// Function: tpuChannelIsrRegister @ 0x0001958c
//

void tpuChannelIsrRegister(void)

{
  system_callback_table_t_00808f02.engine_position_sensor_isr = (dword)epsPositionSensorIsrHandler;
  return;
}



//
// Function: serialTransmitHandler @ 0x00019598
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint serialTransmitHandler(void)

{
  undefined2 uVar1;
  uint uVar2;
  
  _serial_transmit_ready_flag = 1;
  *(undefined1 *)serial_node_transmit_ptr = 0xfd;
  uVar2 = can_transmit_buffer_ptr_2;
  if ((can_transmit_buffer_ptr_2 == can_transmit_buffer_ptr_1) &&
     (can_single_frame_transmit_flag != 1)) {
    *(undefined1 *)serial_node_transmit_ptr = 0x7f;
  }
  else {
    canFrameDataCopy(&serial_port_1_base_register);
    can_single_frame_transmit_flag = 0;
    uVar2 = can_transmit_buffer_ptr_1 + 0xe;
    can_transmit_buffer_ptr_1 = uVar2;
    if (0x80cf6a < uVar2) {
      can_transmit_buffer_ptr_1 = 0x80ce60;
    }
  }
  uVar1 = (undefined2)(uVar2 >> 0x10);
  uVar2 = CONCAT22(uVar1,io_fault_status_reg_2) & 0xffff0200;
  if ((((io_fault_status_reg_2 & 0x200) != 0) &&
      (uVar2 = CONCAT22(uVar1,_engine_mode_output_control_state_68ce) & 0xffff0200,
      (_engine_mode_output_control_state_68ce & 0x200) != 0)) &&
     (uVar2 = CONCAT22(uVar1,io_fault_status_reg_2) & 0xffff0200,
     (io_fault_status_reg_2 & 0x200) != 0)) {
    uVar2 = CONCAT22(uVar1,io_fault_latch_reg_2) & 0xffff0200;
    if ((io_fault_latch_reg_2 & 0x200) == 0) {
      io_fault_status_reg_2 = io_fault_status_reg_2 & 0xfdff;
    }
  }
  return uVar2;
}



//
// Function: serialReceiveBufferProcessor @ 0x0001965a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void serialReceiveBufferProcessor(uint param_1)

{
  int iVar1;
  ushort uVar2;
  word wVar3;
  undefined1 *puVar4;
  byte *pbVar5;
  undefined1 *puVar6;
  
  if (serial_receive_timer == 0) {
    iVar1 = (param_1 >> 0x10 & 0xff) * 0x10;
    do {
      *(undefined1 *)((int)&serial_port_1_base_register + iVar1 + 1) = 0xfd;
      *_serial_receive_buffer_state = *(uint *)((int)&serial_port_1_base_register + iVar1 + 2) >> 3;
      *(short *)(_serial_receive_buffer_state + 1) =
           (short)((int)((&sim_tpu_control_0)[iVar1] & 0xf0) >> 4);
      *(uint *)((int)_serial_receive_buffer_state + 6) = (int)_serial_receive_buffer_state + 10;
      uVar2 = 0;
      puVar4 = (undefined1 *)(iVar1 + 0xffd807);
      puVar6 = (undefined1 *)((int)_serial_receive_buffer_state + 10);
      do {
        *puVar6 = *puVar4;
        uVar2 = uVar2 + 1;
        puVar4 = puVar4 + 1;
        puVar6 = puVar6 + 1;
      } while (uVar2 < 8);
    } while ((*(byte *)((int)&serial_port_1_base_register + iVar1 + 1) & 2) != 0);
    _serial_receive_buffer_state = (dword *)((int)_serial_receive_buffer_state + 0x12);
    if ((dword *)0x80ce4e < _serial_receive_buffer_state) {
      _serial_receive_buffer_state =
           &average_pulse_period_time_period_over_1_cyl_of_primary_s_1000_65535;
    }
    if (_serial_receive_buffer_state == _timer_task_scheduler_state) {
      serial_receive_timer = 1;
      pbVar5 = &can_controller_config_register + (uint)serial_node_address_state * 0x10;
      wVar3 = serial_node_address_state;
      while (wVar3 = wVar3 + 1, wVar3 <= serial_node_address_limit) {
        *pbVar5 = 0xf7;
        *pbVar5 = 0xfd;
        pbVar5 = pbVar5 + 0x10;
      }
    }
  }
  return;
}



//
// Function: interruptCounter1Increment @ 0x00019738
//

undefined8 interruptCounter1Increment(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  general_counter_0 = general_counter_0 + 1;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: interruptCounter2Increment @ 0x0001976e
//

undefined8 interruptCounter2Increment(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  general_counter_1 = general_counter_1 + 1;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: initVectorTable @ 0x0001977e
//

void initVectorTable(void)

{
  dword *pdVar1;
  
  for (pdVar1 = &vector_table_init_address; pdVar1 < (dword *)0x8091c2; pdVar1 = pdVar1 + 1) {
    *pdVar1 = (dword)interruptCounter2Increment;
  }
  return;
}



//
// Function: bitPatternToIndexConverter @ 0x000197c8
//

undefined1 bitPatternToIndexConverter(void)

{
  ushort uVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  byte *pbVar5;
  
  pbVar5 = (byte *)diagnostic_buffer_write_pointer;
  if (bit_pattern_index_counter == 0) {
    for (; *pbVar5 == 0; pbVar5 = pbVar5 + 1) {
      bit_pattern_input_value = bit_pattern_input_value + 8;
    }
    bVar2 = 0x80;
    bVar3 = 0;
    bVar4 = bit_pattern_input_value;
    diagnostic_buffer_write_pointer = (dword)pbVar5;
    do {
      if ((bVar2 & *pbVar5) != 0) {
        uVar1 = (ushort)bit_pattern_index_counter;
        bit_pattern_index_counter = bit_pattern_index_counter + 1;
        *(byte *)((short)uVar1 + 0x80061c) = bVar4;
      }
      bVar2 = bVar2 >> 1;
      bVar4 = bVar4 - 1;
      bVar3 = bVar3 + 1;
    } while (bVar3 < 8);
    diagnostic_buffer_write_pointer = diagnostic_buffer_write_pointer + 1;
    bit_pattern_input_value = bit_pattern_input_value + 8;
  }
  bit_pattern_index_counter = bit_pattern_index_counter - 1;
  return *(undefined1 *)((short)(ushort)bit_pattern_index_counter + 0x80061c);
}



//
// Function: insiteMultiFrameResponseBuilder @ 0x0001984e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint insiteMultiFrameResponseBuilder(undefined4 param_1)

{
  char cVar1;
  uint uVar2;
  char cVar3;
  
  cVar1 = insite_response_buffer_length - 2;
  multi_packet_sequence_counter = (byte)((uint)param_1 >> 0x10);
  insite_multi_frame_state = 0;
  bit_pattern_index_result = (byte)param_1;
  cVar3 = multi_packet_sequence_counter + 6;
  for (insite_multiframe_response_index = cVar1 - multi_packet_sequence_counter;
      bit_pattern_index_result < insite_multiframe_response_index;
      insite_multiframe_response_index = insite_multiframe_response_index - bit_pattern_index_result
      ) {
    insite_multi_frame_state = insite_multi_frame_state + 1;
    cVar3 = bit_pattern_index_result + 5 + cVar3;
  }
  insite_multi_frame_state = insite_multi_frame_state + 1;
  multi_packet_tx_state = 0;
  insite_response_buffer_index = multi_packet_sequence_counter + 6;
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    uVar2 = (_can_transmit_length - can_transmit_buffer_ptr) - 2;
  }
  else {
    uVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if ((int)(uint)(byte)(insite_multiframe_response_index + 5 + cVar3) < (int)uVar2) {
    *_insite_response_buffer_ptr = 0xc0;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = multi_packet_sequence_counter + 3;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = insite_multi_frame_state << 4;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = cVar1;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    return uVar2 & 0xffffff00;
  }
  io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
  io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
  return 1;
}



//
// Function: insiteMultiFrameContinuation @ 0x00019952
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteMultiFrameContinuation(void)

{
  *(byte *)insite_response_continuation_ptr = insite_response_buffer_index;
  *_insite_response_buffer_ptr = 0;
  can_transmit_buffer_ptr = (dword)_insite_response_buffer_ptr;
  insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
  tpuTransmissionTrigger();
  multi_packet_tx_state = multi_packet_tx_state + 1;
  if (multi_packet_tx_state < insite_multi_frame_state) {
    multi_packet_sequence_counter = bit_pattern_index_result;
  }
  else {
    multi_packet_sequence_counter = insite_multiframe_response_index;
  }
  _insite_response_buffer_ptr =
       (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  *_insite_response_buffer_ptr = 0x80;
  _insite_response_buffer_ptr =
       (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  insite_response_buffer_index = multi_packet_sequence_counter + 5;
  *_insite_response_buffer_ptr = 0xc0;
  _insite_response_buffer_ptr =
       (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  *_insite_response_buffer_ptr = multi_packet_sequence_counter + 2;
  _insite_response_buffer_ptr =
       (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  *_insite_response_buffer_ptr = insite_command_byte;
  _insite_response_buffer_ptr =
       (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  *_insite_response_buffer_ptr = multi_packet_tx_state & 0xf | insite_multi_frame_state << 4;
  _insite_response_buffer_ptr =
       (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
  return;
}



//
// Function: insiteLiveDataHandler @ 0x00019a0a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteLiveDataHandler(void)

{
  byte bVar1;
  char cVar2;
  short sVar3;
  char cVar5;
  undefined2 uVar4;
  undefined4 unaff_D2;
  byte bVar6;
  byte bVar7;
  word *pwVar8;
  undefined2 uVar9;
  
  uVar9 = (undefined2)((uint)unaff_D2 >> 0x10);
  _insite_data_read_ptr = _enables_input_of_eps_period_data_to_pptb_0_1;
  insite_response_continuation_ptr = can_transmit_buffer_ptr;
  _insite_response_buffer_ptr = can_transmit_buffer_ptr;
  insite_data_valid_flag = 1;
  bVar1 = *_enables_input_of_eps_period_data_to_pptb_0_1;
  if (bVar1 < 0x15) {
    insite_data_buffer_offset = (byte)_enables_input_of_eps_period_data_to_pptb_0_1;
    bVar7 = insite_data_buffer_offset;
    _insite_data_read_ptr = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
    _insite_data_read_ptr = (byte *)CONCAT31(_insite_data_read_ptr,insite_data_buffer_offset + 1);
    cVar2 = *_insite_data_read_ptr;
    _insite_data_read_ptr = (byte *)CONCAT31(_insite_data_read_ptr,bVar7 + 2);
    bVar7 = 1;
    insite_response_buffer_index = 0;
    responseBufferSpaceCheck();
    if (insite_bytes_remaining != 0) {
LAB_00019c2a:
      if (bVar7 < bVar1) {
        insite_command_byte = *_insite_data_read_ptr;
        _insite_data_read_ptr =
             (byte *)CONCAT31(_insite_data_read_ptr,insite_data_buffer_offset + 1);
        cVar5 = insiteParameterParser();
        if (cVar5 == '\0') goto LAB_00019c30;
        bVar7 = cVar5 + bVar7;
        bVar6 = insite_data_buffer_offset;
        if (insite_command_byte == 0) {
          insite_command_byte = *_insite_data_read_ptr;
          _insite_data_read_ptr =
               (byte *)CONCAT31(_insite_data_read_ptr,insite_data_buffer_offset + 1);
          uVar4 = parameterLookupForInsite();
          insite_response_buffer_length = (byte)uVar4;
          bVar6 = '\x01' << (insite_command_byte & 7);
          sVar3 = (short)((int)(uint)insite_command_byte >> 3);
          if (((bVar6 & *(byte *)((int)&
                                       maximum_time_between_tailshaft_pulses_allowed_before_vehicle_0_04_40
                                 + (int)sVar3)) != 0) &&
             ((bVar6 & *(byte *)(sVar3 + 0x8055fe)) == 0)) {
            insiteParameterResponseBuilder();
          }
        }
        else if (insite_command_byte == 0x80) {
          insite_command_byte = *_insite_data_read_ptr;
          _insite_data_read_ptr =
               (byte *)CONCAT31(_insite_data_read_ptr,insite_data_buffer_offset + 1);
          cVar5 = *_insite_data_read_ptr;
          _insite_data_read_ptr = (byte *)CONCAT31(_insite_data_read_ptr,bVar6 + 2);
          if (cVar5 == -0x80) {
            uVar4 = parameterLookupForInsite();
            insite_response_buffer_length = (byte)uVar4;
            bVar6 = '\x01' << (insite_command_byte & 7);
            sVar3 = (short)((int)(uint)insite_command_byte >> 3);
            if (((bVar6 & *(byte *)((int)&
                                         maximum_time_between_tailshaft_pulses_allowed_before_vehicle_0_04_40
                                   + (int)sVar3)) != 0) &&
               ((bVar6 & *(byte *)(sVar3 + 0x8055fe)) == 0)) {
              insiteParameterResponseBuilder();
            }
          }
        }
        else if (insite_command_byte == 0xc3) {
          _insite_data_read_ptr =
               (byte *)CONCAT31(_insite_data_read_ptr,insite_data_buffer_offset + 1);
          cVar5 = *_insite_data_read_ptr;
          _insite_data_read_ptr = (byte *)CONCAT31(_insite_data_read_ptr,bVar6 + 2);
          insite_dtc_pid_byte = *_insite_data_read_ptr;
          _insite_data_read_ptr = (byte *)CONCAT31(_insite_data_read_ptr,bVar6 + 3);
          insite_live_data_parameter_index = *_insite_data_read_ptr;
          _insite_data_read_ptr = (byte *)CONCAT31(_insite_data_read_ptr,bVar6 + 4);
          if ((cVar5 == -0x80) && ((insite_live_data_parameter_index & 0xc0) < 0xc0)) {
            bVar6 = 0;
            pwVar8 = &insite_live_data_offset;
            while( true ) {
              if ((*(char *)pwVar8 == '\0') || (9 < bVar6)) goto LAB_00019c2a;
              if (cVar2 == *(char *)pwVar8) break;
              bVar6 = bVar6 + 1;
              pwVar8 = (word *)((int)pwVar8 + 1);
            }
            insite_pid_dtc_handler_state = (word)insite_live_data_parameter_index;
            if (((insite_live_data_parameter_index & 0xc0) == 0x80) ||
               ((insite_live_data_parameter_index & 0xc0) == 0x40)) {
              fault_flag_scanner_state = 2;
              diagnostic_code_clear_handler_state = (word)insite_dtc_pid_byte;
            }
            else {
              insitePidDtcHandler((uint)CONCAT12(insite_dtc_pid_byte,uVar9));
            }
            insite_command_byte = 0xc4;
            uVar4 = parameterLookupForInsite();
            insite_response_buffer_length = (byte)uVar4;
            insiteParameterResponseBuilder();
          }
        }
        else {
          _insite_data_read_ptr =
               (byte *)CONCAT31(_insite_data_read_ptr,cVar5 + -1 + insite_data_buffer_offset);
        }
        goto LAB_00019c2a;
      }
LAB_00019c30:
      responseBufferFinalize();
    }
  }
  return;
}



//
// Function: responseBufferSpaceCheck @ 0x00019c3c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void responseBufferSpaceCheck(void)

{
  byte bVar1;
  
  bVar1 = (crank_tooth_count_error_incremented_when_eps_tooth_count_wro_0_65535 -
          (char)can_transmit_buffer_ptr) - 2;
  if (bVar1 < 5) {
    insite_bytes_remaining = 0;
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
    return;
  }
  if (0x15 < bVar1) {
    insite_bytes_remaining = 0x13;
    return;
  }
  insite_bytes_remaining =
       (crank_tooth_count_error_incremented_when_eps_tooth_count_wro_0_65535 -
       (char)can_transmit_buffer_ptr) - 4;
  return;
}



//
// Function: responseBufferFinalize @ 0x00019cbc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void responseBufferFinalize(void)

{
  if (1 < insite_response_buffer_index) {
    *(byte *)insite_response_continuation_ptr = insite_response_buffer_index;
    *_insite_response_buffer_ptr = 0;
    can_transmit_buffer_ptr = (dword)_insite_response_buffer_ptr;
    tpuTransmissionTrigger();
  }
  return;
}



//
// Function: diagnosticMemoryWriteHandler @ 0x00019cf0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMemoryWriteHandler(undefined4 param_1)

{
  char cVar3;
  undefined4 uVar1;
  uint uVar2;
  undefined4 unaff_D2;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  byte bVar7;
  char cVar8;
  byte *pbVar9;
  byte *pbVar10;
  bool bVar11;
  undefined2 uVar12;
  byte bStack_f;
  uint local_e;
  byte local_9;
  undefined4 local_8;
  
  uVar12 = (undefined2)((uint)unaff_D2 >> 0x10);
  local_9 = *_enables_input_of_eps_period_data_to_pptb_0_1;
  local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
  cVar8 = (char)local_8;
  local_8._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x02');
  bVar6 = *local_8 & 0xf;
  bVar11 = bVar6 == 0;
  if (bVar11) {
    bVar5 = 4;
  }
  else {
    bVar5 = 2;
  }
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar8 + '\x03');
  cVar8 = '\0';
  pbVar9 = &CMSYRSFG;
  bVar7 = (byte)((uint)param_1 >> 0x10);
  do {
    if (local_9 <= bVar5) {
      if (bVar5 == local_9) {
        uVar2 = diagnosticResponseBuilder((uint)CONCAT12(cVar8,uVar12));
        if ((char)uVar2 != -1) {
          diagnosticMessageQueueWrite((uint)CONCAT12((char)uVar2,uVar12));
        }
      }
      else {
        diagnosticMessageQueueWrite(CONCAT22(2,uVar12));
      }
      return;
    }
    pbVar10 = &bStack_f + bVar7;
    for (bVar4 = 0; bVar4 < bVar7; bVar4 = bVar4 + 1) {
      *pbVar10 = *local_8;
      local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
      pbVar10 = pbVar10 + -1;
    }
    if (bVar11) {
      bVar6 = *local_8;
      local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
      bVar5 = bVar5 + 1;
    }
    bVar5 = bVar6 + bVar7 + bVar5;
    cVar8 = cVar8 + '\x01';
    if (bVar7 == 2) {
      pointer_to_intake_man_temp_rpm_fault_log_data_0_2_32._2_1_ = 2;
      if (local_e._0_2_ == 0x15) {
        memory_patch_pending_flag = 1;
      }
      cVar3 = diagnosticMemoryAddressResolver((short)((uint)&local_e >> 0x10));
      if (cVar3 != '\0') {
        diagnosticMessageQueueWrite(CONCAT22(8,uVar12));
        return;
      }
    }
    else {
      pointer_to_intake_man_temp_rpm_fault_log_data_0_2_32._2_1_ = 4;
    }
    uVar1 = addressRangeValidator(local_e,(uint)CONCAT12(bVar6,uVar12));
    bVar4 = (byte)uVar1;
    if ((bVar4 == 10) || (bVar4 == 4)) {
      diagnosticMessageQueueWrite(CONCAT22(10,uVar12));
      return;
    }
    if (bVar4 == 9) {
      diagnosticMessageQueueWrite(CONCAT22(9,uVar12));
      return;
    }
    *(uint *)pbVar9 = local_e;
    *(byte **)((int)pbVar9 + 4) = local_8;
    *(byte *)((int)pbVar9 + 8) = bVar6;
    *(byte *)((int)pbVar9 + 9) = bVar4;
    pbVar9 = (byte *)((int)pbVar9 + 10);
    local_8 = (byte *)CONCAT31(local_8._0_3_,bVar6 + (char)local_8);
  } while( true );
}



//
// Function: diagnosticMemoryReadHandler @ 0x00019e62
//

/* WARNING: Removing unreachable block (ram,0x00019fea) */
/* WARNING: Removing unreachable block (ram,0x0001a010) */
/* WARNING: Removing unreachable block (ram,0x00019ff8) */
/* WARNING: Removing unreachable block (ram,0x0001a014) */
/* WARNING: Removing unreachable block (ram,0x0001a01c) */
/* WARNING: Removing unreachable block (ram,0x0001a032) */
/* WARNING: Removing unreachable block (ram,0x0001a038) */
/* WARNING: Removing unreachable block (ram,0x0001a03e) */
/* WARNING: Removing unreachable block (ram,0x0001a052) */
/* WARNING: Removing unreachable block (ram,0x0001a060) */
/* WARNING: Removing unreachable block (ram,0x0001a09a) */
/* WARNING: Removing unreachable block (ram,0x0001a0b4) */
/* WARNING: Removing unreachable block (ram,0x0001a0ba) */
/* WARNING: Removing unreachable block (ram,0x0001a0ca) */
/* WARNING: Removing unreachable block (ram,0x0001a0d4) */
/* WARNING: Removing unreachable block (ram,0x0001a0e6) */
/* WARNING: Removing unreachable block (ram,0x0001a102) */
/* WARNING: Removing unreachable block (ram,0x0001a0ee) */
/* WARNING: Removing unreachable block (ram,0x0001a066) */
/* WARNING: Removing unreachable block (ram,0x0001a08c) */
/* WARNING: Removing unreachable block (ram,0x0001a06c) */
/* WARNING: Removing unreachable block (ram,0x0001a076) */
/* WARNING: Removing unreachable block (ram,0x0001a08a) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMemoryReadHandler(undefined4 param_1)

{
  byte bVar1;
  bool bVar2;
  dword dVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 unaff_D2;
  uint uVar6;
  char cVar7;
  byte bVar8;
  byte bVar9;
  char cVar10;
  undefined4 unaff_D7;
  undefined1 *puVar11;
  undefined2 uVar12;
  undefined1 local_16;
  byte bStack_15;
  undefined4 local_c;
  undefined4 local_8;
  
  dVar3 = can_transmit_buffer_ptr;
  puVar11 = &stack0xffffffbc;
  uVar12 = (undefined2)((uint)unaff_D2 >> 0x10);
  cVar10 = (char)((uint)param_1 >> 0x10);
  if (cVar10 == '\x02') {
    bVar8 = 4;
  }
  else {
    bVar8 = 2;
  }
  bVar9 = *_enables_input_of_eps_period_data_to_pptb_0_1;
  local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
  local_8._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x02');
  bVar1 = *local_8 & 0xf;
  if (bVar1 == 0) {
    if ((int)(bVar9 - 4) % (int)(bVar8 + 1) != 0) {
      diagnosticMessageQueueWrite(CONCAT22(2,uVar12));
      return;
    }
    uVar6 = (int)(bVar9 - 4) / (int)(bVar8 + 1) & 0xff;
    bVar9 = 4;
    while (cVar7 = (char)uVar6, uVar6 = (uint)(byte)(cVar7 - 1), cVar7 != '\0') {
      local_8 = (byte *)CONCAT31(local_8._0_3_,bVar8 + 1 + (char)local_8);
      bVar9 = bVar8 + *local_8 + '\x01' + bVar9;
    }
    bVar2 = true;
  }
  else {
    if ((int)(bVar9 - 2) % (int)(uint)bVar8 != 0) {
      diagnosticMessageQueueWrite(CONCAT22(2,uVar12));
      return;
    }
    bVar9 = (bVar1 + bVar8) * (char)((int)(bVar9 - 2) / (int)(uint)bVar8) + 2;
    bVar2 = false;
  }
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    iVar4 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
  }
  else {
    iVar4 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if ((int)(uint)bVar9 < iVar4) {
    local_c._3_1_ = (char)can_transmit_buffer_ptr;
    cVar7 = (char)local_c;
    local_c._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
    local_c = (byte *)CONCAT31(local_c._0_3_,(char)local_c + '\x01');
    *local_c = 7;
    local_c = (byte *)CONCAT31(local_c._0_3_,cVar7 + '\x02');
    if (cVar10 == '\x02') {
      *local_c = bVar1 | 0x80;
    }
    else if (cVar10 == '\x01') {
      *local_c = bVar1 | 0xa0;
    }
    else {
      *local_c = bVar1 | 0x20;
    }
    local_c = (byte *)CONCAT31(local_c._0_3_,cVar7 + '\x03');
    if (bVar2) {
      puVar11 = &stack0xffffffb6;
      uVar5 = crc16Calculate(local_c,CONCAT22((short)CONCAT31((int3)((uint)unaff_D7 >> 8),bVar9 - 4)
                                              ,uVar12));
      bStack_15 = (byte)uVar5;
      *local_c = bStack_15;
      local_c = (byte *)CONCAT31(local_c._0_3_,cVar7 + '\x04');
      local_16 = (undefined1)((uint)uVar5 >> 8);
      *local_c = local_16;
      local_c = (byte *)CONCAT31(local_c._0_3_,cVar7 + '\x05');
    }
    *(byte *)dVar3 = bVar9;
    *local_c = 0;
    can_transmit_buffer_ptr = (dword)local_c;
    *(undefined4 *)(puVar11 + -4) = 0x1a160;
    tpuTransmissionTrigger();
  }
  else {
    diagnosticMessageQueueWrite(CONCAT22(4,uVar12));
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
  }
  return;
}



//
// Function: diagnosticMessage45Builder @ 0x0001a192
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMessage45Builder(void)

{
  bool bVar1;
  char cVar2;
  int iVar3;
  byte bVar4;
  undefined4 local_8;
  
  fuelDemandPercentageCalculator();
  if ((arbitrated_fuel_limit != arbitrated_fuel_previous) ||
     (governor_rpm_error_value != governor_rpm_error_previous)) {
    fuel_demand_change_flag = 1;
    arbitrated_fuel_previous = arbitrated_fuel_limit;
    governor_rpm_error_previous = governor_rpm_error_value;
  }
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    iVar3 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
  }
  else {
    iVar3 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if (iVar3 < 7) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
    return;
  }
  local_8._3_1_ = (char)can_transmit_buffer_ptr;
  cVar2 = (char)local_8;
  local_8._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
  *local_8 = 0x45;
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x02');
  *local_8 = (char)(fuel_demand_percentage >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x03');
  if (((engine_fault_register_a & 0x20) == 0) || ((engine_fault_register_b & 0x20) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    if (((engine_fault_register_a & 8) == 0) || ((engine_fault_register_b & 8) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((engine_fault_register_a & 0x10) == 0) || ((engine_fault_register_b & 0x10) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        *local_8 = (char)(((uint)active_derate_value * 0xff) / 400);
        goto LAB_0001a2b8;
      }
    }
  }
  *local_8 = 0;
LAB_0001a2b8:
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x04');
  bVar4 = protection_system_enable_flag == 1;
  if (oil_pressure_protection_enabled == 1) {
    bVar4 = bVar4 | 2;
  }
  if (vp44_engine_state == 10) {
    bVar4 = bVar4 | 4;
  }
  if (((io_control_flags & 1) == 0) || ((output_control_status_byte & 1) == 0)) {
    bVar4 = bVar4 | 8;
  }
  if (proprietary_load_threshold < active_derate_value) {
    bVar4 = bVar4 | 0x10;
  }
  if (derate_threshold_exceeded == 0) {
    bVar4 = bVar4 | 0x20;
  }
  if (fuel_demand_change_flag == 1) {
    bVar4 = bVar4 | 0x40;
  }
  *local_8 = bVar4;
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x05');
  *local_8 = (char)((int)(uint)param_limit_value >> 7);
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x06');
  *local_8 = param_config_byte;
  local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\a');
  *(undefined1 *)can_transmit_buffer_ptr = 6;
  *local_8 = 0;
  can_transmit_buffer_ptr = (dword)local_8;
  tpuTransmissionTrigger();
  return;
}



//
// Function: diagnosticMessage46Builder @ 0x0001a398
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMessage46Builder(void)

{
  short sVar1;
  dword dVar2;
  char cVar3;
  int iVar4;
  undefined1 local_e;
  undefined1 uStack_d;
  undefined4 local_8;
  
  dVar2 = can_transmit_buffer_ptr;
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    iVar4 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
  }
  else {
    iVar4 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if (iVar4 < 0x17) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
  }
  else {
    local_8._3_1_ = (char)can_transmit_buffer_ptr;
    cVar3 = (char)local_8;
    local_8._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
    *local_8 = 0x46;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x02');
    sVar1 = governor_rpm_error_value * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x03');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x04');
    multiSpeedParameterInterpolation();
    *local_8 = (char)(speed_difference_interp_result_3 >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x05');
    sVar1 = the_minimum_speed_a_customer_may_program_to_correspond_with_s_1_5_15 * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x06');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\a');
    *local_8 = (char)(speed_difference_interp_result_4 >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\b');
    sVar1 = speed_lookup_parameter_value * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\t');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\n');
    *local_8 = (char)(manifold_temp_calculated >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\v');
    sVar1 = CRACSWAC * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\f');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\r');
    *local_8 = (char)(speed_difference_interp_result_1 >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x0e');
    sVar1 = CRCNDTRF * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x0f');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x10');
    *local_8 = (char)(speed_difference_interp_result_2 >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x11');
    sVar1 = the_maximum_speed_a_customer_may_program_to_correspond_with_10_10_25 * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x12');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x13');
    uStack_d = (undefined1)(the_deceleration_value_where_e_braking_will_be_removed_1_0_01 / 10);
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x14');
    sVar1 = arbitrator_fuel_value_buffer * 2;
    uStack_d = (undefined1)sVar1;
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x15');
    local_e = (undefined1)((ushort)sVar1 >> 8);
    *local_8 = local_e;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x16');
    uStack_d = (undefined1)((int)(uint)allowed_rate_of_torque_limit_change_0_2000 >> 7);
    *local_8 = uStack_d;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar3 + '\x17');
    *(undefined1 *)dVar2 = 0x16;
    *local_8 = 0;
    can_transmit_buffer_ptr = (dword)local_8;
    tpuTransmissionTrigger();
  }
  return;
}



//
// Function: fuelArbitratorControlService @ 0x0001a5b0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint fuelArbitratorControlService(void)

{
  char cVar1;
  undefined1 uVar2;
  byte bVar3;
  ushort uVar4;
  char cVar5;
  word wVar6;
  uint uVar7;
  undefined4 unaff_D2;
  word unaff_D3w;
  bool bVar8;
  undefined2 local_c;
  undefined2 local_a;
  undefined4 local_8;
  
  cVar1 = *_enables_input_of_eps_period_data_to_pptb_0_1;
  local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
  cVar5 = (char)local_8;
  local_8._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x02');
  uVar4 = *local_8 & 3;
  uVar7 = diagnosticMessageValidator
                    (0x4a,CONCAT12(*local_8,(short)((uint)unaff_D2 >> 0x10)) & 0x3ffff);
  if ((short)uVar7 != 0) {
    return uVar7;
  }
  if (3 < (uint)(int)(short)uVar4) goto LAB_0001a636;
  uVar7 = (uint)(&switchD_0001a604::switchdataD_0001a608)[(short)uVar4];
  switch(uVar4) {
  case 0:
    if (cVar1 != '\x03') {
      return uVar7;
    }
    goto LAB_0001a636;
  case 1:
    break;
  case 2:
    if (cVar1 != '\x04') {
      return uVar7;
    }
    goto LAB_0001a636;
  case 3:
  }
  if (cVar1 != '\x05') {
    return uVar7;
  }
LAB_0001a636:
  if (fuel_arbitrator_diag_t_0080cff8.rpm_target == 0) {
    uVar7 = diagnosticSessionValidator(0x4a);
    if ((short)uVar7 != 0) {
      return uVar7;
    }
    _timer_capture_value = _fuel_arbitrator_control_mode;
  }
  else if ((fuel_arbitrator_diag_t_0080cff8._28_2_ != 0) ||
          ((char)fuel_arbitrator_diag_t_0080cff8.limited_value != 'J')) {
    uVar7 = diagnosticSessionValidator(0x4a);
    if ((short)uVar7 != 0) {
      return uVar7;
    }
    if (_timer_capture_value < _fuel_arbitrator_control_mode) {
      return _fuel_arbitrator_control_mode;
    }
    _timer_capture_value = _fuel_arbitrator_control_mode;
  }
  fuel_arbitrator_diag_t_0080cff8.control_flags = (word)*local_8;
  fuel_arbitrator_diag_t_0080cff8._26_2_ = 0;
  fuel_arbitrator_diag_t_0080cff8._28_2_ = 0;
  fuel_arbitrator_diag_t_0080cff8.limited_value._1_1_ = 0x4a;
  wVar6 = unaff_D3w;
  switch(uVar4) {
  case 0:
    torque_control_mode_timer = 0;
    fuel_arbitrator_diag_t_0080cff8.rpm_target = 0;
    fuel_arbitrator_diag_t_0080cff8.fuel_mode = 0;
    fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
    wVar6 = fuel_arbitrator_increment + 1;
    break;
  case 1:
    diagnosticStateInitializer(0x4a);
    torque_control_mode_timer = *(short *)(_timer_capture_value + 4) + 1;
    fuel_arbitrator_diag_t_0080cff8.rpm_target = 1;
    fuel_arbitrator_diag_t_0080cff8.fuel_mode = 1;
    fuel_arbitrator_diag_t_0080cff8._20_2_ = 1;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar5 + '\x03');
    uVar2 = *local_8;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar5 + '\x04');
    local_a = CONCAT11(*local_8,uVar2);
    fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_ = (undefined2)((int)(uint)local_a >> 1);
    wVar6 = torque_control_mode_timer;
    break;
  case 2:
    diagnosticStateInitializer(0x4a);
    torque_control_mode_timer = *(short *)(_timer_capture_value + 8) + 1;
    fuel_arbitrator_diag_t_0080cff8.rpm_target = 2;
    fuel_arbitrator_diag_t_0080cff8.fuel_mode = 1;
    fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
    local_c = (ushort)(byte)local_c;
    fuel_arbitrator_diag_t_0080cff8._16_2_ = local_c << 8;
    fuel_arbitrator_diag_t_0080cff8._24_2_ =
         fuel_demand_percentage_current +
         (short)(((int)(short)(the_maximum_speed_a_customer_may_program_to_correspond_with_s_1_5_15
                              - boost_pressure_protection_state_bda0) *
                 (int)(short)fuel_arbitrator_diag_t_0080cff8._16_2_) / 0x6400);
    wVar6 = torque_control_mode_timer;
    if ((short)fuel_arbitrator_diag_t_0080cff8._24_2_ < 0) {
      fuel_arbitrator_diag_t_0080cff8._24_2_ = 0;
      wVar6 = torque_control_mode_timer;
    }
    break;
  case 3:
    diagnosticStateInitializer(0x4a);
    torque_control_mode_timer = *(short *)(_timer_capture_value + 0xc) + 1;
    fuel_arbitrator_diag_t_0080cff8.rpm_target = 3;
    fuel_arbitrator_diag_t_0080cff8.fuel_mode = 1;
    fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar5 + '\x03');
    local_a = (ushort)*local_8;
    fuel_arbitrator_diag_t_0080cff8.command_counter = local_a << 7;
    local_8 = (byte *)CONCAT31(local_8._0_3_,cVar5 + '\x04');
    bVar3 = *local_8;
    if (bVar3 < 0x80) {
      local_c = (ushort)bVar3;
    }
    else {
      local_c = CONCAT11(0xff,bVar3);
    }
    fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ =
         fuel_demand_percentage_current +
         (short)(((int)(short)(the_maximum_speed_a_customer_may_program_to_correspond_with_s_1_5_15
                              - boost_pressure_protection_state_bda0) * (short)local_c * 8) / 0x6400
                );
    wVar6 = torque_control_mode_timer;
    if (fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ < 0) {
      fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ = 0;
      wVar6 = torque_control_mode_timer;
    }
  }
  fuel_arbitrator_session_timer = wVar6;
  bVar8 = (fuel_arbitrator_diag_t_0080cff8.control_flags & 4) != 0;
  fuel_arbitrator_throttle_override = fuel_arbitrator_session_timer;
  if (bVar8) {
    fuel_arbitrator_throttle_override = 0;
  }
  fuel_arbitrator_diag_t_0080cff8.throttle_mode = (word)!bVar8;
  bVar8 = (fuel_arbitrator_diag_t_0080cff8.control_flags & 8) == 0;
  fuel_arbitrator_speed_timer = fuel_arbitrator_session_timer;
  if (bVar8) {
    fuel_arbitrator_speed_timer = 0;
  }
  fuel_arbitrator_diag_t_0080cff8.speed_limit = (word)!bVar8;
  bVar8 = (fuel_arbitrator_diag_t_0080cff8.control_flags & 0x10) == 0;
  if (bVar8) {
    fuel_arbitrator_diag_t_0080cff8._30_2_ = 0;
  }
  else {
    fuel_arbitrator_session_timer = 0;
  }
  fuel_arbitrator_diag_t_0080cff8.fuel_limit = (word)bVar8;
  return fuel_arbitrator_diag_t_0080cff8.control_flags & 0xffff0010;
}



//
// Function: extendedDiagnosticService4C @ 0x0001a910
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void extendedDiagnosticService4C(void)

{
  undefined4 local_8;
  
  if (*_enables_input_of_eps_period_data_to_pptb_0_1 == '\x02') {
    local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
    local_8 = (byte *)CONCAT31((int3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8),
                               (char)local_8 + '\x02');
    if ((*local_8 & 1) != 0) {
      diagnosticMessage46Builder();
      fuel_demand_change_flag = 0;
    }
    if ((*local_8 & 8) != 0) {
      diagnosticMessage54Builder();
    }
    if ((*local_8 & 0x80) == 0) {
      fuel_arbitrator_diag_t_0080cff8.session_counter = 0;
      fuel_arbitrator_session_counter = 0;
    }
    else {
      fuel_arbitrator_diag_t_0080cff8.session_counter = 1;
      fuel_arbitrator_session_counter = fuel_arbitrator_session_init;
    }
  }
  return;
}



//
// Function: extendedDiagnosticService4F @ 0x0001a97e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint extendedDiagnosticService4F(void)

{
  char cVar1;
  byte bVar2;
  ushort uVar3;
  char cVar4;
  word wVar5;
  undefined2 extraout_D0u;
  uint uVar6;
  int iVar7;
  undefined4 unaff_D2;
  word unaff_D3w;
  undefined2 local_c;
  ushort local_a;
  undefined4 local_8;
  
  cVar1 = *_enables_input_of_eps_period_data_to_pptb_0_1;
  local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
  cVar4 = (char)local_8;
  local_8._0_3_ = (undefined3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8);
  local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x02');
  uVar6 = *local_8 & 4;
  if ((*local_8 & 4) == 0) {
    uVar3 = *local_8 & 3;
    uVar6 = diagnosticMessageValidator
                      (0x4f,CONCAT12(*local_8,(short)((uint)unaff_D2 >> 0x10)) & 0x3ffff);
    if ((short)uVar6 == 0) {
      if ((uint)(int)(short)uVar3 < 4) {
        switch(uVar3) {
        case 0:
          if (cVar1 != '\x02') {
            return (uint)(&switchD_0001a9e2::switchdataD_0001a9e6)[(short)uVar3];
          }
          break;
        default:
          if (cVar1 != '\x03') {
            return (uint)(&switchD_0001a9e2::switchdataD_0001a9e6)[(short)uVar3];
          }
        }
      }
      if (fuel_arbitrator_diag_t_0080cff8.rpm_target == 0) {
        uVar6 = diagnosticSessionValidator(0x4f);
        if ((short)uVar6 != 0) {
          return uVar6;
        }
        _timer_capture_value = _fuel_arbitrator_control_mode;
      }
      else if ((fuel_arbitrator_diag_t_0080cff8._28_2_ != 0) ||
              ((char)fuel_arbitrator_diag_t_0080cff8.limited_value != 'O')) {
        uVar6 = diagnosticSessionValidator(0x4f);
        if ((short)uVar6 != 0) {
          return uVar6;
        }
        if (_timer_capture_value < _fuel_arbitrator_control_mode) {
          return _fuel_arbitrator_control_mode;
        }
        _timer_capture_value = _fuel_arbitrator_control_mode;
      }
      fuel_arbitrator_diag_t_0080cff8.control_flags = (word)*local_8;
      fuel_arbitrator_diag_t_0080cff8._26_2_ = 0;
      fuel_arbitrator_diag_t_0080cff8._28_2_ = 0;
      fuel_arbitrator_diag_t_0080cff8.limited_value._1_1_ = 'O';
      iVar7 = (int)(short)uVar3;
      wVar5 = unaff_D3w;
      switch((int)(short)uVar3) {
      case 0:
        torque_control_mode_timer = 0;
        fuel_arbitrator_diag_t_0080cff8.rpm_target = 0;
        fuel_arbitrator_diag_t_0080cff8.fuel_mode = 0;
        fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
        iVar7 = 0;
        wVar5 = fuel_arbitrator_increment + 1;
        break;
      case 1:
        diagnosticStateInitializer(0x4f);
        torque_control_mode_timer = *(short *)(_timer_capture_value + 4) + 1;
        fuel_arbitrator_diag_t_0080cff8.rpm_target = 1;
        fuel_arbitrator_diag_t_0080cff8.fuel_mode = 2;
        fuel_arbitrator_diag_t_0080cff8._20_2_ = 1;
        local_8 = (byte *)CONCAT31(local_8._0_3_,cVar4 + '\x03');
        local_a = (ushort)*local_8;
        fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_ = local_a << 7;
        iVar7 = CONCAT22(extraout_D0u,fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_);
        wVar5 = torque_control_mode_timer;
        break;
      case 2:
        diagnosticStateInitializer(0x4f);
        torque_control_mode_timer = *(short *)(_timer_capture_value + 8) + 1;
        fuel_arbitrator_diag_t_0080cff8.rpm_target = 2;
        fuel_arbitrator_diag_t_0080cff8.fuel_mode = 2;
        fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
        local_8 = (byte *)CONCAT31(local_8._0_3_,cVar4 + '\x03');
        local_c = (ushort)*local_8;
        fuel_arbitrator_diag_t_0080cff8._16_2_ = local_c << 8;
        iVar7 = ((int)(short)(the_maximum_speed_a_customer_may_program_to_correspond_with_s_1_5_15 -
                             boost_pressure_protection_state_bda0) *
                (int)(short)fuel_arbitrator_diag_t_0080cff8._16_2_) / 0x6400;
        fuel_arbitrator_diag_t_0080cff8._24_2_ = fuel_demand_percentage_current + (short)iVar7;
        iVar7 = CONCAT22((short)((uint)iVar7 >> 0x10),fuel_arbitrator_diag_t_0080cff8._24_2_);
        wVar5 = torque_control_mode_timer;
        if ((short)fuel_arbitrator_diag_t_0080cff8._24_2_ < 0) {
          fuel_arbitrator_diag_t_0080cff8._24_2_ = 0;
          wVar5 = torque_control_mode_timer;
        }
        break;
      case 3:
        diagnosticStateInitializer(0x4f);
        torque_control_mode_timer = *(short *)(_timer_capture_value + 0xc) + 1;
        fuel_arbitrator_diag_t_0080cff8.rpm_target = 3;
        fuel_arbitrator_diag_t_0080cff8.fuel_mode = 2;
        fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
        fuel_arbitrator_diag_t_0080cff8.command_counter = oil_pressure_precrank_status;
        local_8 = (byte *)CONCAT31(local_8._0_3_,cVar4 + '\x03');
        bVar2 = *local_8;
        if (bVar2 < 0x80) {
          local_c = (ushort)bVar2;
        }
        else {
          local_c = CONCAT11(0xff,bVar2);
        }
        iVar7 = ((int)(short)(the_maximum_speed_a_customer_may_program_to_correspond_with_s_1_5_15 -
                             boost_pressure_protection_state_bda0) * (short)local_c * 0x100) /
                0x6400;
        fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ =
             fuel_demand_percentage_current + (short)iVar7;
        iVar7 = CONCAT22((short)((uint)iVar7 >> 0x10),
                         fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_);
        wVar5 = torque_control_mode_timer;
        if (fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ < 0) {
          fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ = 0;
          wVar5 = torque_control_mode_timer;
        }
      }
      fuel_arbitrator_throttle_override = wVar5;
      uVar6 = CONCAT22((short)((uint)iVar7 >> 0x10),fuel_arbitrator_diag_t_0080cff8.control_flags) &
              0xffff0010;
      if ((fuel_arbitrator_diag_t_0080cff8.control_flags & 0x10) == 0) {
        fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
        fuel_arbitrator_throttle_override = 0;
      }
      else {
        fuel_arbitrator_diag_t_0080cff8.throttle_mode = 1;
      }
    }
  }
  return uVar6;
}



//
// Function: extendedDiagnosticService51 @ 0x0001ac64
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void extendedDiagnosticService51(void)

{
  undefined4 local_8;
  
  if (*_enables_input_of_eps_period_data_to_pptb_0_1 == '\x02') {
    local_8._3_1_ = (char)_enables_input_of_eps_period_data_to_pptb_0_1;
    local_8 = (byte *)CONCAT31((int3)((uint)_enables_input_of_eps_period_data_to_pptb_0_1 >> 8),
                               (char)local_8 + '\x02');
    if ((*local_8 & 1) != 0) {
      diagnosticMessage46Builder();
      fuel_demand_change_flag = 0;
    }
    if ((*local_8 & 8) != 0) {
      diagnosticMessage54Builder();
    }
  }
  return;
}



//
// Function: diagnosticMessage53Builder @ 0x0001aca8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMessage53Builder(void)

{
  char cVar1;
  int iVar2;
  undefined1 uVar3;
  undefined4 local_8;
  
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    iVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
  }
  else {
    iVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if (iVar2 < 3) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
  }
  else {
    local_8._3_1_ = (char)can_transmit_buffer_ptr;
    cVar1 = (char)local_8;
    local_8._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
    *local_8 = 0x53;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x02');
    uVar3 = 0;
    if (vp44_injection_system_active == 1) {
      uVar3 = 2;
    }
    *local_8 = uVar3;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x03');
    *(undefined1 *)can_transmit_buffer_ptr = 2;
    *local_8 = 0;
    can_transmit_buffer_ptr = (dword)local_8;
    tpuTransmissionTrigger();
  }
  return;
}



//
// Function: diagnosticMessage54Builder @ 0x0001ad50
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMessage54Builder(void)

{
  char cVar1;
  int iVar2;
  undefined4 local_8;
  
  if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
    iVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
  }
  else {
    iVar2 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
  }
  if (iVar2 < 4) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
  }
  else {
    local_8._3_1_ = (char)can_transmit_buffer_ptr;
    cVar1 = (char)local_8;
    local_8._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
    *local_8 = 0x54;
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x02');
    if (retarder_mode_threshold_value_37d4 == 3) {
      *local_8 = 4;
    }
    else {
      *local_8 = 2;
    }
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x03');
    *local_8 = (char)(((uint)vp44_fuel_temperature_raw * 0x2e1) / 10000);
    local_8 = (undefined1 *)CONCAT31(local_8._0_3_,cVar1 + '\x04');
    *(undefined1 *)can_transmit_buffer_ptr = 3;
    *local_8 = 0;
    can_transmit_buffer_ptr = (dword)local_8;
    tpuTransmissionTrigger();
  }
  return;
}



//
// Function: j1939TimeoutDataClearHandler @ 0x0001ae20
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint j1939TimeoutDataClearHandler(void)

{
  uint uVar1;
  
  uVar1 = diagnostic_system_flags_2 & 0x100;
  if (((diagnostic_system_flags_2 & 0x100) != 0) &&
     (uVar1 = _j1939_timeout_clear_value + _vp44_sensor_diag_counter, uVar1 < _loopCounter)) {
    j1939_message_type_total_counter = 0;
    _vp44_sensor_diag_counter = 0;
    rpm_histogram_bin_2_counter = 0;
    _loop_counter_snapshot_1 = 0;
    rpm_histogram_overflow_counter = 0;
    _loop_counter_snapshot_2 = 0;
    rpm_histogram_bin_1_counter = 0;
    _loop_counter_snapshot_0 = 0;
  }
  return uVar1;
}



//
// Function: j1939MessageTypeCounter @ 0x0001ae74
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint j1939MessageTypeCounter(undefined4 param_1)

{
  undefined4 in_D0;
  uint uVar1;
  
  uVar1 = CONCAT22((short)((uint)in_D0 >> 0x10),diagnostic_system_flags_2) & 0xffff0080;
  if ((diagnostic_system_flags_2 & 0x80) != 0) {
    if (param_1._0_2_ == 1) {
      j1939_message_type_total_counter = j1939_message_type_total_counter + 1;
      rpm_histogram_bin_2_counter = rpm_histogram_bin_2_counter + 1;
      _loop_counter_snapshot_1 = _loopCounter;
      _vp44_sensor_diag_counter = _loopCounter;
      return _loopCounter;
    }
    if (param_1._0_2_ == 2) {
      j1939_message_type_total_counter = j1939_message_type_total_counter + 1;
      rpm_histogram_overflow_counter = rpm_histogram_overflow_counter + 1;
      _loop_counter_snapshot_2 = _loopCounter;
      _vp44_sensor_diag_counter = _loopCounter;
      return _loopCounter;
    }
    if (param_1._0_2_ != 3) {
      return (int)param_1._0_2_;
    }
    j1939_message_type_total_counter = j1939_message_type_total_counter + 1;
    rpm_histogram_bin_1_counter = rpm_histogram_bin_1_counter + 1;
    _loop_counter_snapshot_0 = _loopCounter;
    _vp44_sensor_diag_counter = _loopCounter;
    uVar1 = _loopCounter;
  }
  return uVar1;
}



//
// Function: canMessageFilterInit @ 0x0001aef4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void canMessageFilterInit(void)

{
  byte bVar1;
  word *pwVar2;
  word *pwVar3;
  word *pwVar4;
  dword *pdVar5;
  
  bVar1 = 0;
  pwVar2 = (word *)((int)&mask_used_for_can_msg_object_15_0_ffffffff + 2);
  pwVar3 = &can_filter_mask_array_high;
  pwVar4 = &can_filter_mask_array_low;
  pdVar5 = &the_can_extended_mask_0x0_0xffffffff;
  do {
    *pwVar4 = *(word *)pdVar5;
    *pwVar3 = *pwVar2;
    bVar1 = bVar1 + 1;
    pwVar2 = pwVar2 + 1;
    pwVar3 = pwVar3 + 1;
    pwVar4 = pwVar4 + 1;
    pdVar5 = (dword *)((int)pdVar5 + 2);
  } while (bVar1 < 4);
  _j1939_multiframe_source_address = can_message_filter_init_value;
  _can_cpu_interface_address = the_can_cpu_interface_register_0_255;
  return;
}



//
// Function: timerSchedulerSetup @ 0x0001af38
// ERROR: Failed to decompile
//

//
// Function: phase3_periodic_task_scheduler @ 0x0001afe4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort phase3_periodic_task_scheduler(void)

{
  ushort uVar1;
  byte bVar2;
  int iVar3;
  
  uVar1 = _diagnostic_service_enable_flags & 8;
  if (uVar1 != 0) {
    if ((diagnostic_command_state & 4) != 0) {
      iVar3 = 0x80063c;
      for (bVar2 = 0; bVar2 < timer_scheduler_phase3_count_1; bVar2 = bVar2 + 1) {
        if (*(word *)(iVar3 + 4) == throttle_histogram_bin_index_1) {
          *(short *)(iVar3 + 4) = *(short *)(iVar3 + 2) + *(short *)(iVar3 + 4);
          (**(code **)(iVar3 + 6))();
        }
        iVar3 = iVar3 + 10;
      }
      throttle_histogram_bin_index_1 = throttle_histogram_bin_index_1 + 1;
    }
    uVar1 = diagnostic_command_state & 8;
    if (uVar1 != 0) {
      iVar3 = 0x800704;
      for (bVar2 = 0; bVar2 < timer_scheduler_phase3_count_2; bVar2 = bVar2 + 1) {
        if (*(word *)(iVar3 + 4) == throttle_histogram_bin_index_2) {
          *(short *)(iVar3 + 4) = *(short *)(iVar3 + 2) + *(short *)(iVar3 + 4);
          (**(code **)(iVar3 + 6))();
        }
        uVar1 = 10;
        iVar3 = iVar3 + 10;
      }
      throttle_histogram_bin_index_2 = throttle_histogram_bin_index_2 + 1;
    }
  }
  return uVar1;
}



//
// Function: emptyPlaceholderInit @ 0x0001b07c
//

void emptyPlaceholderInit(void)

{
  return;
}



//
// Function: j1939TorqueControlModeParser @ 0x0001b082
//

uint j1939TorqueControlModeParser(int param_1,undefined4 param_2)

{
  byte bVar1;
  char cVar2;
  undefined2 uVar3;
  undefined4 in_D0;
  ushort uVar4;
  
  uVar3 = (undefined2)((uint)in_D0 >> 0x10);
  bVar1 = *(byte *)(*(int *)(param_1 + 6) + 1);
  cVar2 = *(char *)(*(int *)(param_1 + 6) + 2);
  if ((bVar1 == 0xfe) && (cVar2 == -2)) {
    uVar4 = 0xffff;
  }
  else if (cVar2 == '\x01') {
    uVar3 = (undefined2)(bVar1 - 1 >> 0x10);
    switch(bVar1 - 1) {
    case 0:
      uVar4 = 0xc;
      break;
    case 1:
      uVar4 = 0x80;
      break;
    default:
      return 4;
    case 5:
      uVar4 = 1;
      break;
    case 6:
      uVar4 = 2;
    }
  }
  else {
    if (cVar2 != -3) {
      return 4;
    }
    uVar3 = 0;
    if (bVar1 == 0xfe) {
      uVar4 = 0x8c;
    }
    else if (bVar1 == 1) {
      uVar4 = 0xc;
    }
    else {
      if (bVar1 != 2) {
        return 4;
      }
      uVar4 = 0x80;
    }
  }
  if (param_2._1_1_ == '\x01') {
    diagnostic_command_state = uVar4 | diagnostic_command_state;
  }
  else {
    uVar4 = ~uVar4;
    diagnostic_command_state = uVar4 & diagnostic_command_state;
  }
  return CONCAT22(uVar3,uVar4) & 0xffffff00;
}



//
// Function: j1939TorqueControlModeClear @ 0x0001b150
//

void j1939TorqueControlModeClear(int param_1)

{
  ushort in_stack_00000000;
  
  j1939TorqueControlModeParser(param_1,(uint)in_stack_00000000);
  return;
}



//
// Function: j1939TorqueControlModeSet @ 0x0001b160
//

void j1939TorqueControlModeSet(int param_1)

{
  undefined2 in_stack_00000000;
  
  j1939TorqueControlModeParser(param_1,CONCAT22(1,in_stack_00000000));
  return;
}



//
// Function: systemFunction4xParameterizedAlt @ 0x0001b172
//

void systemFunction4xParameterizedAlt(void)

{
  undefined2 uVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  
  uVar3 = 0xb07e;
  coreSystemFunction(1);
  uVar2 = 0xb07e;
  uVar1 = 0x10;
  coreSystemFunction(1,uVar3);
  coreSystemFunction(1,uVar1,uVar2);
  coreSystemFunction();
  return;
}



//
// Function: coreSystemControlFunction @ 0x0001b1b4
// ERROR: Failed to decompile
//

//
// Function: timerBasedTaskScheduler @ 0x0001b1f4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint timerBasedTaskScheduler(void)

{
  char cVar1;
  bool bVar2;
  ushort uVar3;
  undefined4 in_D0;
  byte bVar4;
  dword *pdVar5;
  byte *pbVar6;
  undefined2 local_6;
  
  uVar3 = hardware_timer_register._0_2_;
  pdVar5 = (dword *)(CONCAT22((short)((uint)in_D0 >> 0x10),_diagnostic_service_enable_flags) &
                    0xffff0008);
  if ((_diagnostic_service_enable_flags & 8) != 0) {
    while ((pdVar5 = (dword *)((uint)hardware_timer_register._0_2_ - (uint)uVar3),
           (int)((uint)hardware_timer_register._0_2_ - (uint)uVar3) < 0xfa &&
           ((_serial_receive_buffer_state != _timer_task_scheduler_state ||
            (pdVar5 = _serial_receive_buffer_state, serial_receive_timer == 1))))) {
      bVar4 = *(byte *)((int)_timer_task_scheduler_state + 1);
      if (bVar4 < 0xf0) {
        local_6 = (ushort)bVar4 << 8;
      }
      else {
        local_6 = CONCAT11(bVar4,*(undefined1 *)((int)_timer_task_scheduler_state + 2));
      }
      bVar2 = false;
      pdVar5 = &can_transmission_scheduler_data;
      do {
        if (*(char *)pdVar5 == -2) goto LAB_0001b262;
        cVar1 = *(char *)pdVar5;
        pdVar5 = (dword *)((int)pdVar5 + 1);
      } while ((char)*_timer_task_scheduler_state != cVar1);
      bVar2 = true;
LAB_0001b262:
      if (!bVar2) {
        pdVar5 = &task_scheduler_dispatch_table_ptr;
        for (bVar4 = 0; bVar4 < task_scheduler_dispatch_count; bVar4 = bVar4 + 1) {
          if (*(short *)pdVar5 == local_6) {
            (**(code **)((int)pdVar5 + 2))(_timer_task_scheduler_state);
            break;
          }
          pdVar5 = (dword *)((int)pdVar5 + 6);
        }
      }
      _timer_task_scheduler_state = (dword *)((int)_timer_task_scheduler_state + 0x12);
      if ((dword *)0x80ce4e < _timer_task_scheduler_state) {
        _timer_task_scheduler_state =
             &average_pulse_period_time_period_over_1_cyl_of_primary_s_1000_65535;
      }
      if (serial_receive_timer == 1) {
        serial_receive_timer = 0;
        pbVar6 = &can_controller_config_register + (uint)serial_node_address_state * 0x10;
        bVar4 = (byte)serial_node_address_state;
        while (bVar4 = bVar4 + 1, bVar4 <= serial_node_address_limit) {
          *pbVar6 = 0xfb;
          pbVar6 = pbVar6 + 0x10;
        }
      }
    }
  }
  return (uint)pdVar5;
}



//
// Function: phase3_retarder_condition_monitor @ 0x0001b314
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort phase3_retarder_condition_monitor(void)

{
  ushort uVar1;
  
  uVar1 = diagnostic_system_flags_2 & 0x1000;
  if (((((diagnostic_system_flags_2 & 0x1000) != 0) && (fuel_arbitrator_state == 2)) &&
      (retarder_mode_can_source_priority == 1)) &&
     (((fuel_arbitrator_diag_t_0080cff8.rpm_target == 1 &&
       (fuel_arbitrator_diag_t_0080cff8.fuel_mode == 1)) &&
      (uVar1 = cached_parameter_value, cached_parameter_upper_limit <= cached_parameter_value)))) {
    _retarder_mode_threshold_result = 0;
    _retarder_mode_table_count = 3;
    fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
    fuel_arbitrator_throttle_override = 0;
    _retarder_mode_override_flag = 0;
  }
  return uVar1;
}



//
// Function: memoryOperationDispatcher @ 0x0001b37a
//

uint memoryOperationDispatcher(int param_1,undefined1 *param_2,uint param_3)

{
  undefined1 *puVar1;
  bool bVar2;
  undefined4 in_D0;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  char securityCheckResult3;
  char securityCheckResult;
  char securityCheckResult2;
  undefined4 unaff_D2;
  short sVar6;
  ushort uVar7;
  undefined2 uVar8;
  
  uVar8 = (undefined2)((uint)unaff_D2 >> 0x10);
  if (0x6e4 < param_3) {
    return 2;
  }
  sVar6 = (short)param_3;
  uVar3 = addressLookupFunction
                    (CONCAT22((short)CONCAT31((int3)((uint)in_D0 >> 8),
                                              **(undefined1 **)(param_1 + 6)),uVar8));
  uVar7 = sVar6 + ((ushort)uVar3 & 0xff);
  if (uVar7 < 8) {
    uVar7 = 8;
  }
  if (uVar7 == *(ushort *)(param_1 + 4)) {
    bVar2 = false;
  }
  else {
    if (uVar7 + 10 != (uint)*(ushort *)(param_1 + 4)) {
      return 2;
    }
    bVar2 = true;
  }
  puVar1 = (undefined1 *)(*(int *)(param_1 + 6) + (uVar3 & 0xff));
  uVar4 = addressRangeValidator((uint)param_2,CONCAT22(sVar6,uVar8));
  uVar5 = uVar4 & 0xff;
  uVar3 = uVar5;
  if (uVar5 < 6) {
    uVar3 = (uint)(&switchD_0001b416::switchdataD_0001b41a)[uVar5];
    switch(uVar5) {
    case 0:
      uVar3 = memcpy(param_2,puVar1,CONCAT22(sVar6,uVar8));
      return uVar3 & 0xffffff00;
    case 3:
      if (security_bypass_flag != 0xff) {
        if (!bVar2) {
          return 3;
        }
        securityCheckResult3 = systemSecurityCheckStub_AlwaysPasses();
        if (securityCheckResult3 != '\0') {
          return 3;
        }
      }
      uVar3 = memcpy(param_2,puVar1,CONCAT22(sVar6,uVar8));
      return uVar3 & 0xffffff00;
    case 4:
      return 10;
    case 5:
      if ((system_logging_state == 1) &&
         (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 0)) {
        return 7;
      }
      if (security_bypass_flag != 0xff) {
        if (!bVar2) {
          return 3;
        }
        securityCheckResult = systemSecurityCheckStub_AlwaysPasses();
        if (securityCheckResult != '\0') {
          return 3;
        }
      }
      if (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 == 1) {
        securityCheckResult2 = circularBufferWrite((short)((uint)puVar1 >> 0x10),sVar6);
        if (securityCheckResult2 == '\x01') {
          return 0xb;
        }
      }
      uVar3 = memcpy(param_2 + -0x7fcb08,puVar1,CONCAT22(sVar6,uVar8));
      return uVar3 & 0xffffff00;
    }
  }
  return CONCAT31((int3)(uVar3 >> 8),(char)uVar4);
}



//
// Function: j1939MemoryDataCopyResolver @ 0x0001b532
// ERROR: Failed to decompile
//

//
// Function: j1939DataCopyWrapper @ 0x0001b56e
//

void j1939DataCopyWrapper(int param_1)

{
  undefined4 unaff_A2;
  undefined1 local_6 [2];
  
  memcpy(local_6,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  j1939MemoryDataCopyResolver(param_1);
  return;
}



//
// Function: j1939DataCopyWrapper2Byte @ 0x0001b5b6
//

void j1939DataCopyWrapper2Byte(int param_1)

{
  undefined4 unaff_A2;
  undefined1 *puVar1;
  undefined1 local_a [4];
  undefined1 local_6 [2];
  
  puVar1 = local_6;
  memcpy(puVar1,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  memcpy(local_a,(undefined1 *)(*(int *)(param_1 + 6) + 3),CONCAT22(4,(short)puVar1));
  j1939MemoryDataCopyResolver(param_1);
  return;
}



//
// Function: j1939DataCopyWrapper2ByteAlt @ 0x0001b604
//

void j1939DataCopyWrapper2ByteAlt(int param_1)

{
  undefined4 unaff_A2;
  undefined1 local_6 [2];
  
  memcpy(local_6,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  j1939MemoryDataCopyResolver(param_1);
  return;
}



//
// Function: j1939DataCopyWrapperExtended @ 0x0001b668
//

void j1939DataCopyWrapperExtended(int param_1)

{
  undefined4 unaff_A2;
  undefined1 *puVar1;
  undefined1 *puVar2;
  undefined1 local_e [4];
  undefined1 local_a [4];
  undefined1 local_6 [2];
  
  puVar2 = local_6;
  memcpy(puVar2,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  puVar1 = local_a;
  memcpy(puVar1,(undefined1 *)(*(int *)(param_1 + 6) + 3),CONCAT22(4,(short)puVar2));
  memcpy(local_e,(undefined1 *)(*(int *)(param_1 + 6) + 7),CONCAT22(4,(short)puVar1));
  j1939MemoryDataCopyResolver(param_1);
  return;
}



//
// Function: memoryOperationFromMessage @ 0x0001b6ce
//

void memoryOperationFromMessage(int param_1)

{
  undefined4 unaff_A2;
  uint local_c;
  undefined1 *local_8;
  
  memcpy((undefined1 *)&local_8,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(4,(short)((uint)unaff_A2 >> 0x10)));
  local_c = (uint)*(byte *)(*(int *)(param_1 + 6) + 5);
  memoryOperationDispatcher(param_1,local_8,local_c);
  return;
}



//
// Function: memoryOperationFromMessageExtended @ 0x0001b716
//

void memoryOperationFromMessageExtended(int param_1)

{
  undefined4 unaff_A2;
  undefined1 **ppuVar1;
  uint local_c;
  undefined1 *local_8;
  
  ppuVar1 = &local_8;
  memcpy((undefined1 *)ppuVar1,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(4,(short)((uint)unaff_A2 >> 0x10)));
  memcpy((undefined1 *)&local_c,(undefined1 *)(*(int *)(param_1 + 6) + 5),CONCAT22(4,(short)ppuVar1)
        );
  memoryOperationDispatcher(param_1,local_8,local_c);
  return;
}



//
// Function: systemFunction6xParameterized @ 0x0001b762
//

void systemFunction6xParameterized(void)

{
  undefined2 uVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  
  uVar3 = 0xb56e;
  coreSystemFunction(1);
  uVar2 = 0xb56e;
  uVar1 = 0x45;
  coreSystemFunction(1,uVar3);
  coreSystemFunction(1,uVar1,uVar2);
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  return;
}



//
// Function: addressLookupFunction @ 0x0001b7ca
//

uint addressLookupFunction(undefined4 param_1)

{
  uint in_D0;
  
  if (0x40 < (byte)((uint)param_1 >> 0x10)) {
    return (uint)*(byte *)((short)(param_1._0_2_ & 0xff) + 0x1b77b);
  }
  return in_D0 & 0xffffff00;
}



//
// Function: diagnosticServiceSecurityValidator @ 0x0001b7e8
//

undefined4 diagnosticServiceSecurityValidator(int param_1)

{
  undefined3 extraout_var;
  char securityCheckResult;
  undefined4 in_D0;
  char cVar1;
  char cVar2;
  byte serviceId;
  
  serviceId = **(byte **)(param_1 + 6);
  cVar1 = *(char *)(param_1 + 5);
  if (0x17 < serviceId) {
    return CONCAT31((int3)((uint)in_D0 >> 8),0xff);
  }
  if ((serviceId == 3) || (serviceId == 4)) {
    cVar2 = '\x03';
  }
  else {
    cVar2 = '\x01';
  }
  if ((('\x01' << (serviceId & 7) &
       *(byte *)((int)&can_number_of_retarder_destination_non_specific_rx_objects_0_14 +
                ((int)(uint)serviceId >> 3))) == 0) || (security_bypass_flag != 0xb522)) {
    if ((cVar1 != '\b') && (cVar1 != (char)(cVar2 + '\n'))) {
      return 2;
    }
    return 0xff;
  }
  if ((char)(cVar2 + '\n') != cVar1) {
    return 2;
  }
  cVar1 = systemSecurityCheckStub_AlwaysPasses();
  if (cVar1 == '\0') {
    return CONCAT31(extraout_var,0xff);
  }
  return 3;
}



//
// Function: diagnosticGroupPositionBufferStore @ 0x0001b8b8
//

void diagnosticGroupPositionBufferStore(undefined4 param_1)

{
  ushort uVar1;
  uint uVar2;
  byte bVar3;
  undefined2 *puVar4;
  byte *pbVar5;
  
  uVar1 = diagnostic_buffer_write_index + 1;
  uVar2 = (uint)diagnostic_buffer_write_index;
  diagnostic_buffer_write_index = uVar1;
  if (4 < uVar1) {
    diagnostic_buffer_write_index = 0;
  }
  if (param_1._1_1_ == '\0') {
    pbVar5 = &DGRPOSLF;
  }
  else {
    pbVar5 = &diagnostic_snapshot_position_flag;
  }
  bVar3 = 0;
  puVar4 = (undefined2 *)(uVar2 * 0x18 + 0x8054c0);
  do {
    *puVar4 = *(undefined2 *)pbVar5;
    bVar3 = bVar3 + 1;
    puVar4 = puVar4 + 1;
    pbVar5 = pbVar5 + 2;
  } while (bVar3 < 0xc);
  return;
}



//
// Function: diagnosticGroupSnapshotCapture @ 0x0001b916
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticGroupSnapshotCapture(undefined4 param_1)

{
  if (param_1._1_1_ == '\0') {
    diagnostic_capture_active_flag = 1;
    diagnostic_snapshot_fuel_mode_capture = fuel_arbitrator_diag_t_0080cff8.fuel_mode;
    DGRPOSLF = 0;
    diagnostic_snapshot_limited_byte = (byte)fuel_arbitrator_diag_t_0080cff8.limited_value;
    diagnostic_snapshot_fuel_mode_0 = fuel_arbitrator_diag_t_0080cff8.fuel_mode;
    vp44_sensor_diag_state_1 = 1;
    fuel_arbitrator_rpm_target_history = fuel_arbitrator_diag_t_0080cff8.rpm_target;
    diagnostic_snapshot_zero_0 = 0;
    diagnostic_snapshot_zero_1 = 0;
    diagnostic_snapshot_zero_2 = 0;
    fuel_arbitrator_rpm_history_index = 0;
    loop_counter_capture_start_2 = _loopCounter;
    loop_counter_elapsed_time_2 = 0;
    return;
  }
  timing_measurement_active_flag_1 = 1;
  diagnostic_snapshot_retarder_mode = retarder_mode_can_source_priority;
  diagnostic_snapshot_position_flag = 1;
  diagnostic_snapshot_byte_1 = retarder_control_source_byte;
  diagnostic_snapshot_fuel_mode_1 = retarder_mode_can_source_priority;
  vp44_sensor_diag_state_2 = 1;
  fuel_arbitrator_state_history = fuel_arbitrator_state;
  diagnostic_snapshot_zero_3 = 0;
  diagnostic_snapshot_zero_4 = 0;
  diagnostic_snapshot_zero_5 = 0;
  _DGCLLVLF = 0;
  loop_counter_capture_start_1 = _loopCounter;
  loop_counter_elapsed_time_1 = 0;
  return;
}



//
// Function: memoryRegisterController @ 0x0001b9da
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint memoryRegisterController(void)

{
  undefined2 uVar1;
  undefined4 in_D0;
  uint uVar2;
  undefined4 unaff_A2;
  word *pwVar3;
  ushort uVar4;
  
  uVar4 = (ushort)((uint)unaff_A2 >> 0x10);
  uVar1 = (undefined2)((uint)in_D0 >> 0x10);
  uVar2 = CONCAT22(uVar1,diagnostic_system_flags_2) & 0xffff0800;
  if ((diagnostic_system_flags_2 & 0x800) != 0) {
    uVar2 = CONCAT22(uVar1,fuel_arbitrator_diag_t_0080cff8.rpm_target);
    if (((fuel_arbitrator_diag_t_0080cff8.rpm_target != fuel_arbitrator_previous_rpm_target) ||
        (uVar2 = CONCAT22(uVar1,fuel_arbitrator_diag_t_0080cff8._28_2_),
        fuel_arbitrator_diag_t_0080cff8._28_2_ != fuel_arbitrator_previous_state)) ||
       (uVar2 = CONCAT31((int3)(uVar2 >> 8),(byte)fuel_arbitrator_diag_t_0080cff8.limited_value),
       (byte)fuel_arbitrator_diag_t_0080cff8.limited_value != fuel_arbitrator_limited_value_prev)) {
      if (fuel_arbitrator_diag_t_0080cff8.rpm_target == 0) {
        if ((fuel_arbitrator_previous_rpm_target != 0) && (fuel_arbitrator_previous_state == 1)) {
          diagnostic_capture_active_flag = 0;
          loop_counter_elapsed_time_2 = _loopCounter - loop_counter_capture_start_2;
          uVar2 = diagnosticGroupPositionBufferStore((uint)uVar4);
        }
      }
      else if (fuel_arbitrator_diag_t_0080cff8._28_2_ == 1) {
        if (diagnostic_capture_active_flag == 1) {
          if ((byte)fuel_arbitrator_diag_t_0080cff8.limited_value ==
              fuel_arbitrator_limited_value_prev) {
            if (vp44_sensor_diag_state_1 < 5) {
              uVar2 = (uint)vp44_sensor_diag_state_1;
              vp44_sensor_diag_state_1 = vp44_sensor_diag_state_1 + 1;
              (&fuel_arbitrator_rpm_target_history)[uVar2] =
                   fuel_arbitrator_diag_t_0080cff8.rpm_target;
            }
            else {
              uVar2 = 0;
              for (pwVar3 = &fuel_arbitrator_rpm_target_history;
                  pwVar3 < &fuel_arbitrator_rpm_history_index; pwVar3 = pwVar3 + 1) {
                *pwVar3 = pwVar3[1];
              }
              fuel_arbitrator_rpm_history_index = fuel_arbitrator_diag_t_0080cff8.rpm_target;
            }
          }
          else {
            loop_counter_elapsed_time_2 = _loopCounter - loop_counter_capture_start_2;
            diagnosticGroupPositionBufferStore((uint)uVar4);
            uVar2 = diagnosticGroupSnapshotCapture((uint)uVar4);
          }
        }
        else {
          uVar2 = diagnosticGroupSnapshotCapture((uint)uVar4);
        }
      }
      else if (fuel_arbitrator_previous_state == 1) {
        diagnostic_capture_active_flag = 0;
        uVar2 = diagnosticGroupPositionBufferStore((uint)uVar4);
      }
    }
    fuel_arbitrator_previous_rpm_target = fuel_arbitrator_diag_t_0080cff8.rpm_target;
    fuel_arbitrator_previous_state = fuel_arbitrator_diag_t_0080cff8._28_2_;
    fuel_arbitrator_limited_value_prev = (byte)fuel_arbitrator_diag_t_0080cff8.limited_value;
    uVar2 = CONCAT22((short)(uVar2 >> 0x10),fuel_arbitrator_state);
    if ((fuel_arbitrator_state != fuel_arbitrator_previous_state_2) ||
       (uVar2 = (uint)_retarder_control_can_source, uVar2 != retarder_control_source_previous)) {
      if (fuel_arbitrator_state == 0) {
        if (fuel_arbitrator_previous_state_2 != 0) {
          timing_measurement_active_flag_1 = 0;
          loop_counter_elapsed_time_1 = _loopCounter - loop_counter_capture_start_1;
          uVar2 = diagnosticGroupPositionBufferStore(CONCAT22(1,uVar4));
        }
      }
      else if (timing_measurement_active_flag_1 == 1) {
        if (_retarder_control_can_source == retarder_control_source_previous) {
          if (vp44_sensor_diag_state_2 < 5) {
            uVar2 = (uint)vp44_sensor_diag_state_2;
            vp44_sensor_diag_state_2 = vp44_sensor_diag_state_2 + 1;
            (&fuel_arbitrator_state_history)[uVar2] = fuel_arbitrator_state;
          }
          else {
            uVar2 = 0xe;
            for (pwVar3 = &fuel_arbitrator_state_history; pwVar3 < &DGCLLVLF; pwVar3 = pwVar3 + 1) {
              *pwVar3 = pwVar3[1];
            }
            _DGCLLVLF = fuel_arbitrator_state;
          }
        }
        else {
          loop_counter_elapsed_time_1 = _loopCounter - loop_counter_capture_start_1;
          diagnosticGroupPositionBufferStore(CONCAT22(1,uVar4));
          uVar2 = diagnosticGroupSnapshotCapture(CONCAT22(1,uVar4));
        }
      }
      else {
        uVar2 = diagnosticGroupSnapshotCapture(CONCAT22(1,uVar4));
      }
    }
    fuel_arbitrator_previous_state_2 = fuel_arbitrator_state;
    retarder_control_source_previous = retarder_control_source_byte;
  }
  return uVar2;
}



//
// Function: byteSwap32 @ 0x0001bc1e
//

undefined4 byteSwap32(undefined4 *param_1)

{
  undefined4 uVar1;
  undefined2 uVar2;
  undefined4 local_8;
  
  uVar1 = *param_1;
  local_8._3_1_ = (undefined1)uVar1;
  local_8._0_1_ = (undefined1)((uint)uVar1 >> 0x18);
  local_8._1_1_ = (undefined1)((uint)uVar1 >> 0x10);
  local_8._2_1_ = (undefined1)((uint)uVar1 >> 8);
  uVar2 = CONCAT11((undefined1)local_8,local_8._2_1_);
  local_8 = CONCAT22(uVar2,CONCAT11(local_8._1_1_,local_8._0_1_));
  return local_8;
}



//
// Function: byteSwap16 @ 0x0001bc52
//

undefined2 byteSwap16(undefined2 *param_1)

{
  undefined2 local_6;
  
  local_6._1_1_ = (undefined1)*param_1;
  local_6._0_1_ = (undefined1)((ushort)*param_1 >> 8);
  local_6 = CONCAT11((undefined1)local_6,local_6._0_1_);
  return local_6;
}



//
// Function: ioControlBitMapper @ 0x0001bc74
//

uint ioControlBitMapper(void)

{
  uint in_D0;
  uint uVar1;
  
  uVar1 = in_D0 & 0xffffff00;
  if ((io_control_source_register & 0x10) != 0) {
    uVar1 = 0x40;
  }
  if ((io_control_source_register & 2) != 0) {
    uVar1 = uVar1 | 0x10;
  }
  if ((io_control_source_register & 0x40) != 0) {
    uVar1 = uVar1 | 4;
  }
  return uVar1;
}



//
// Function: canDiagnosticResponseSender @ 0x0001bc9c
//

undefined4 canDiagnosticResponseSender(undefined1 *param_1)

{
  undefined1 uVar1;
  undefined1 uVar2;
  char cVar4;
  undefined4 uVar3;
  undefined1 local_1a;
  undefined1 local_19;
  undefined1 local_18;
  uint local_12;
  undefined2 local_e;
  undefined1 *local_c;
  
  uVar1 = *(undefined1 *)(*(int *)(param_1 + 6) + 1);
  uVar2 = *(undefined1 *)(*(int *)(param_1 + 6) + 2);
  cVar4 = diagnosticMemoryAddressResolver();
  if (cVar4 == '\0') {
    local_12 = CONCAT31(CONCAT21((short)(CONCAT13(*param_1,0xef0000) >> 0x10),param_1[3]),param_1[2]
                       ) & 0x1cffffff;
    local_e = 7;
    local_1a = 0x42;
    local_19 = uVar1;
    local_18 = uVar2;
    local_c = &local_1a;
    uVar3 = sendCanSingleFrame(local_12,(short)((uint)&local_1a >> 0x10));
    uVar3 = CONCAT31((int3)((uint)uVar3 >> 8),0xff);
  }
  else {
    uVar3 = 8;
  }
  return uVar3;
}



//
// Function: systemFunction1xCaller @ 0x0001bd58
//

void systemFunction1xCaller(void)

{
  coreSystemFunction();
  return;
}



//
// Function: diagMemoryReadResponseBuilder @ 0x0001bd76
//

undefined4 diagMemoryReadResponseBuilder(byte *param_1,undefined1 *param_2,uint param_3)

{
  int iVar1;
  char cVar2;
  byte bVar3;
  byte bVar4;
  undefined3 uVar5;
  undefined4 in_D0;
  uint uVar6;
  undefined4 uVar7;
  undefined2 uVar8;
  j1939_header_t *msg_header;
  undefined4 unaff_D2;
  byte bVar9;
  ushort uVar10;
  byte *pbVar11;
  byte *pbVar12;
  undefined2 uVar13;
  
  uVar13 = (undefined2)((uint)unaff_D2 >> 0x10);
  cVar2 = **(char **)(param_1 + 6);
  if (0x6e4 < param_3) {
    return 2;
  }
  uVar6 = addressLookupFunction(CONCAT22((short)CONCAT31((int3)((uint)in_D0 >> 8),cVar2),uVar13));
  bVar9 = (byte)uVar6;
  if (bVar9 < 8) {
    bVar9 = 8;
  }
  if (((ushort)bVar9 != *(ushort *)(param_1 + 4)) &&
     ((ushort)(bVar9 + 10) != *(short *)(param_1 + 4))) {
    return 2;
  }
  uVar10 = (ushort)param_3;
  uVar7 = addressRangeValidator((uint)param_2,CONCAT22(uVar10,uVar13));
  uVar5 = (undefined3)((uint)uVar7 >> 8);
  if (((char)uVar7 == '\n') || ((char)uVar7 == '\t')) {
    return uVar7;
  }
  if ((cVar2 == 'C') && (uVar10 < 0x100)) {
    bVar9 = 0x44;
    *(undefined1 *)(*(int *)(param_1 + 6) + 3) = *(undefined1 *)(*(int *)(param_1 + 6) + 6);
  }
  else {
    uVar5 = 0;
    bVar9 = (&diag_memory_read_response_code_table)[(short)(ushort)(byte)(cVar2 + 0xbd)];
  }
  uVar8 = (undefined2)CONCAT31(uVar5,bVar9);
  uVar6 = addressLookupFunction(CONCAT22(uVar8,uVar13));
  bVar4 = (char)uVar6 - 1;
  msg_header = (j1939_header_t *)multiPacketBufferAllocator(CONCAT22(uVar10 + bVar4 + 1,uVar8));
  if (msg_header == (j1939_header_t *)0x0) {
    return 4;
  }
  pbVar12 = (byte *)msg_header[1].id;
  msg_header->id = 0xef0000;
  bVar3 = *param_1;
  *(byte *)&msg_header->id = *(byte *)&msg_header->id & 0xe3;
  *(byte *)&msg_header->id = bVar3 & 0x1c | *(byte *)&msg_header->id;
  *(byte *)((int)&msg_header->id + 2) = param_1[3];
  *(byte *)((int)&msg_header->id + 3) = param_1[2];
  iVar1 = *(int *)(param_1 + 6);
  pbVar11 = pbVar12 + 1;
  *pbVar12 = bVar9;
  pbVar12 = pbVar11;
  memcpy(pbVar11,(undefined1 *)(iVar1 + 1),(uint)CONCAT12(bVar4,uVar13));
  if ((undefined1 *)0xffffff < param_2) {
    param_2 = param_2 + -0x7fcb08;
  }
  memcpy(pbVar11 + bVar4,param_2,CONCAT22(uVar10,(short)((uint)pbVar12 >> 0x10)));
  uVar7 = sendCanMessage(msg_header);
  return CONCAT31((int3)((uint)uVar7 >> 8),0xff);
}



//
// Function: diagMemoryReadWithOffsetBuilder @ 0x0001bedc
// ERROR: Failed to decompile
//

//
// Function: diagMemoryReadService43Handler @ 0x0001bf18
//

void diagMemoryReadService43Handler(int param_1)

{
  undefined4 unaff_A2;
  undefined1 *puVar1;
  undefined1 local_a [4];
  undefined1 local_6 [2];
  
  puVar1 = local_6;
  memcpy(puVar1,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  memcpy(local_a,(undefined1 *)(*(int *)(param_1 + 6) + 3),CONCAT22(4,(short)puVar1));
  diagMemoryReadWithOffsetBuilder(param_1);
  return;
}



//
// Function: diagMemoryReadService46Handler @ 0x0001bf64
//

void diagMemoryReadService46Handler(int param_1)

{
  undefined4 unaff_A2;
  undefined1 local_6 [2];
  
  memcpy(local_6,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  diagMemoryReadWithOffsetBuilder(param_1);
  return;
}



//
// Function: diagMemoryReadService48Handler @ 0x0001bfc8
//

void diagMemoryReadService48Handler(int param_1)

{
  undefined4 unaff_A2;
  undefined1 *puVar1;
  undefined1 *puVar2;
  undefined1 local_e [4];
  undefined1 local_a [4];
  undefined1 local_6 [2];
  
  puVar2 = local_6;
  memcpy(puVar2,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(2,(short)((uint)unaff_A2 >> 0x10)));
  puVar1 = local_a;
  memcpy(puVar1,(undefined1 *)(*(int *)(param_1 + 6) + 3),CONCAT22(4,(short)puVar2));
  memcpy(local_e,(undefined1 *)(*(int *)(param_1 + 6) + 7),CONCAT22(4,(short)puVar1));
  diagMemoryReadWithOffsetBuilder(param_1);
  return;
}



//
// Function: diagMemoryReadService4aHandler @ 0x0001c02e
//

void diagMemoryReadService4aHandler(byte *param_1)

{
  undefined4 unaff_A2;
  uint local_c;
  undefined1 *local_8;
  
  memcpy((undefined1 *)&local_8,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(4,(short)((uint)unaff_A2 >> 0x10)));
  local_c = (uint)*(byte *)(*(int *)(param_1 + 6) + 5);
  diagMemoryReadResponseBuilder(param_1,local_8,local_c);
  return;
}



//
// Function: diagMemoryReadService4cHandler @ 0x0001c076
//

void diagMemoryReadService4cHandler(byte *param_1)

{
  undefined4 unaff_A2;
  undefined1 **ppuVar1;
  uint local_c;
  undefined1 *local_8;
  
  ppuVar1 = &local_8;
  memcpy((undefined1 *)ppuVar1,(undefined1 *)(*(int *)(param_1 + 6) + 1),
         CONCAT22(4,(short)((uint)unaff_A2 >> 0x10)));
  memcpy((undefined1 *)&local_c,(undefined1 *)(*(int *)(param_1 + 6) + 5),CONCAT22(4,(short)ppuVar1)
        );
  diagMemoryReadResponseBuilder(param_1,local_8,local_c);
  return;
}



//
// Function: systemFunction5xCaller @ 0x0001c0c2
//

void systemFunction5xCaller(void)

{
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  coreSystemFunction();
  return;
}



//
// Function: sendJ1939MultiFrame @ 0x0001c10e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void sendJ1939MultiFrame(uint *param_1)

{
  undefined1 *puVar1;
  undefined2 uVar2;
  byte bVar3;
  ushort uVar4;
  word wVar5;
  byte *pbVar6;
  byte *pbVar7;
  byte local_8;
  byte bStack_7;
  byte bStack_5;
  
  pbVar7 = diag_tp_state_t_00800f34.tx_cm_buf;
  bVar3 = *(byte *)((int)param_1 + 1);
  uVar4 = *(ushort *)((int)param_1 + 1);
  bStack_5 = (byte)uVar4;
  if ((bVar3 < 0xf0) && (bStack_5 != 0xff)) {
    if (diag_tp_state_t_00800f34.diag_state == 0) {
      diag_tp_state_t_00800f34.diag_state = 1;
      diag_tp_state_t_00800f34.expected_id_low = bStack_5;
      diag_tp_state_t_00800f34.expected_guard = uVar4 & 0xff00;
      diag_tp_state_t_00800f34.total_bytes = *(word *)(param_1 + 1);
      diag_tp_state_t_00800f34.total_packets =
           (char)((int)(diag_tp_state_t_00800f34.total_bytes - 1) / 7) + 1;
      diag_tp_state_t_00800f34.req_count = 0;
      diag_tp_state_t_00800f34.src_data_ptr = *(byte **)((int)param_1 + 6);
      diag_tp_state_t_00800f34.tx_header_id = *param_1 & 0xff00ffff | 0xec0000;
      diag_tp_state_t_00800f34.tx_length = 8;
      diag_tp_state_t_00800f34.status_code = 0;
      diag_tp_state_t_00800f34.reserved_0x47 = 0x37;
      diag_tp_state_t_00800f34.resp_byte_ptr = *(byte **)((int)param_1 + 10);
      pbVar6 = diag_tp_state_t_00800f34.tx_cm_buf + 1;
      *diag_tp_state_t_00800f34.tx_cm_buf = 0x10;
      wVar5 = diag_tp_state_t_00800f34.total_bytes;
      bStack_7 = (byte)diag_tp_state_t_00800f34.total_bytes;
      *pbVar6 = bStack_7;
      local_8 = (byte)(wVar5 >> 8);
      pbVar7[2] = local_8;
      pbVar7[3] = diag_tp_state_t_00800f34.total_packets;
      pbVar7[4] = 0xff;
      pbVar7[5] = 0;
      pbVar7[6] = bVar3;
      pbVar7[7] = 0;
      sendCanSingleFrame(diag_tp_state_t_00800f34.tx_header_id);
      if (diag_tp_state_t_00800f34.pre_status == 0) {
        *diag_tp_state_t_00800f34.resp_byte_ptr = 0x12;
        diag_tp_state_t_00800f34.tx_header_id = *param_1 & 0xff00ffff | 0xeb0000;
      }
      else {
        *diag_tp_state_t_00800f34.resp_byte_ptr = diag_tp_state_t_00800f34.pre_status;
        diag_tp_state_t_00800f34.diag_state = 0;
      }
    }
    else {
      **(undefined1 **)((int)param_1 + 10) = 8;
    }
  }
  else {
    if ((byte)*param_1 == _j1939_multiframe_source_address) {
      pbVar7 = &debounce_state_flag;
    }
    else {
      if ((byte)*param_1 != _can_cpu_interface_address) {
        **(undefined1 **)((int)param_1 + 10) = 3;
        return;
      }
      pbVar7 = &j1939_multi_frame_active_flag;
    }
    if (*pbVar7 == 1) {
      **(undefined1 **)((int)param_1 + 10) = 2;
    }
    else {
      *pbVar7 = 1;
      *(undefined2 *)(pbVar7 + 2) = *(undefined2 *)(param_1 + 1);
      pbVar7[1] = (char)((int)(*(ushort *)(pbVar7 + 2) - 1) / 7) + 1;
      pbVar7[6] = 1;
      pbVar7[4] = 0;
      pbVar7[5] = 1;
      *(undefined4 *)(pbVar7 + 8) = *(undefined4 *)((int)param_1 + 6);
      *(uint *)(pbVar7 + 0x12) = *param_1 & 0xff0000ff | 0xecff00;
      pbVar7[0x16] = 0;
      pbVar7[0x17] = 8;
      pbVar7[0x10] = 0;
      pbVar7[0x11] = 5;
      *(undefined4 *)(pbVar7 + 0xc) = *(undefined4 *)((int)param_1 + 10);
      puVar1 = *(undefined1 **)(pbVar7 + 0x18);
      *puVar1 = 0x20;
      uVar2 = *(undefined2 *)(pbVar7 + 2);
      bStack_7 = (byte)uVar2;
      puVar1[1] = bStack_7;
      local_8 = (byte)((ushort)uVar2 >> 8);
      puVar1[2] = local_8;
      puVar1[3] = pbVar7[1];
      puVar1[4] = 0xff;
      puVar1[5] = bStack_5;
      puVar1[6] = bVar3;
      puVar1[7] = 0;
      sendCanSingleFrame(*(undefined4 *)(pbVar7 + 0x12));
      if (pbVar7[7] == 0) {
        **(byte **)(pbVar7 + 0xc) = 0x10;
        *(uint *)(pbVar7 + 0x12) = *param_1 & 0xff0000ff | 0xebff00;
      }
      else {
        **(byte **)(pbVar7 + 0xc) = pbVar7[7];
        *pbVar7 = 0;
      }
    }
  }
  return;
}



//
// Function: diagnosticParamRequestHandler @ 0x0001c33e
//

void diagnosticParamRequestHandler(can_std_rx_desc_t *rx_msg)

{
  byte bVar1;
  byte bVar2;
  word local_6;
  
  bVar1 = rx_msg->data_ptr[2];
  local_6 = (ushort)rx_msg->data_ptr[6] << 8;
  if ((((diag_tp_state_t_00800f34.diag_state == 1) &&
       ((byte)rx_msg->id == diag_tp_state_t_00800f34.expected_id_low)) &&
      (bVar1 <= diag_tp_state_t_00800f34.total_packets)) &&
     (local_6 == diag_tp_state_t_00800f34.expected_guard)) {
    bVar2 = rx_msg->data_ptr[1];
    if (bVar2 == 0) {
      diag_tp_state_t_00800f34.status_code = 0;
      diag_tp_state_t_00800f34.reserved_0x47 = 0x37;
    }
    else {
      diag_tp_state_t_00800f34.req_start = bVar1;
      diag_tp_state_t_00800f34.req_count = bVar2;
      if ((int)(uint)diag_tp_state_t_00800f34.total_packets < (int)((uint)bVar2 + (uint)bVar1 + -1))
      {
        diag_tp_state_t_00800f34.req_count = (diag_tp_state_t_00800f34.total_packets - bVar1) + 1;
      }
    }
  }
  return;
}



//
// Function: messageErrorHandler @ 0x0001c3d2
//

void messageErrorHandler(undefined4 param_1)

{
  undefined1 *puVar1;
  byte bVar2;
  undefined1 *puVar3;
  undefined1 local_1e;
  undefined1 uStack_1c;
  undefined1 auStack_1b [9];
  undefined4 local_12;
  undefined2 local_e;
  undefined1 *local_c;
  
  local_12 = CONCAT31(CONCAT21(0x18ec,param_1._1_1_),j1939_source_address_primary);
  local_e = 8;
  local_c = &uStack_1c;
  uStack_1c = 0xff;
  bVar2 = 0;
  puVar1 = auStack_1b;
  do {
    puVar3 = puVar1;
    *puVar3 = 0xff;
    bVar2 = bVar2 + 1;
    puVar1 = puVar3 + 1;
  } while (bVar2 < 4);
  puVar3[1] = 0;
  local_1e = (undefined1)((uint)param_1 >> 8);
  puVar3[2] = local_1e;
  puVar3[3] = 0;
  sendCanSingleFrame(local_12);
  return;
}



//
// Function: vp44CanFrameBuilder @ 0x0001c440
//

void vp44CanFrameBuilder(undefined4 param_1)

{
  undefined1 local_20;
  undefined1 uStack_1f;
  undefined1 local_1e;
  undefined1 uStack_1c;
  undefined1 uStack_1b;
  undefined1 uStack_1a;
  byte bStack_19;
  undefined1 uStack_18;
  undefined1 uStack_17;
  undefined1 uStack_16;
  undefined1 local_15;
  undefined4 local_12;
  undefined2 local_e;
  undefined1 *local_c;
  
  local_12 = CONCAT31(CONCAT21(0x18ec,param_1._1_1_),j1939_source_address_primary);
  local_e = 8;
  local_c = &uStack_1c;
  uStack_1c = 0x13;
  uStack_1f = (undefined1)serial_port_config_value;
  uStack_1b = uStack_1f;
  local_20 = (undefined1)(serial_port_config_value >> 8);
  uStack_1a = local_20;
  bStack_19 = vp44_sequence_number;
  uStack_18 = 0xff;
  uStack_17 = 0;
  local_1e = (undefined1)((uint)param_1 >> 8);
  uStack_16 = local_1e;
  local_15 = 0;
  sendCanSingleFrame(local_12);
  return;
}



//
// Function: vp44MessageTransmitter @ 0x0001c4c0
//

undefined1 vp44MessageTransmitter(undefined4 param_1,undefined2 param_2)

{
  undefined1 local_1e;
  undefined1 auStack_1c [2];
  undefined1 uStack_1a;
  undefined1 uStack_19;
  undefined1 uStack_18;
  undefined1 uStack_17;
  undefined1 uStack_16;
  undefined1 local_15;
  undefined1 local_13;
  undefined4 local_12;
  undefined2 local_e;
  undefined1 *local_c;
  
  local_12 = CONCAT31(CONCAT21(0x18ec,param_1._1_1_),j1939_source_address_primary);
  local_e = 8;
  local_c = auStack_1c;
  auStack_1c[0] = 0x11;
  uStack_1a = (undefined1)param_1;
  uStack_19 = 0xff;
  uStack_18 = 0xff;
  uStack_17 = 0;
  local_1e = (undefined1)((ushort)param_2 >> 8);
  uStack_16 = local_1e;
  local_15 = 0;
  sendCanSingleFrame(local_12);
  return local_13;
}



//
// Function: vp44FuelTempHandler @ 0x0001c538
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FuelTempHandler(can_std_rx_desc_t *rx_msg)

{
  byte *pbVar1;
  byte bVar2;
  byte bVar3;
  undefined1 uVar4;
  undefined1 extraout_var;
  undefined2 in_D0w;
  char cVar5;
  undefined2 local_8;
  word local_6;
  
  pbVar1 = rx_msg->data_ptr;
  bVar2 = pbVar1[6];
  local_6 = (ushort)bVar2 << 8;
  bVar3 = (byte)rx_msg->id;
  local_8 = CONCAT11(pbVar1[2],pbVar1[1]);
  uVar4 = (undefined1)((ushort)in_D0w >> 8);
  if ((((vp44_response_buffer == 1) && (bVar3 != vp44_expected_sequence)) || (bVar2 != 0xef)) ||
     (0x6a4 < local_8)) {
    messageErrorHandler((uint)CONCAT21(CONCAT11(uVar4,bVar3),bVar2) << 8);
  }
  else {
    vp44_response_buffer = 1;
    _vp44_message_data = rx_msg->id;
    vp44_message_id = local_6;
    vp44_sequence_number = pbVar1[3];
    serial_port_config_value = local_8;
                    /* Constant: VP44_FUEL_TEMP_OFFSET = 112 */
    _vp44_timeout_counter = 0x70;
    vp44_retry_flag = 1;
    vp44_retry_count = vp44_sequence_number;
    if (5 < vp44_sequence_number) {
      vp44_retry_count = 5;
    }
    cVar5 = vp44MessageTransmitter(CONCAT22(CONCAT11(uVar4,bVar3),CONCAT11(uVar4,1)),0xef00);
    if (cVar5 != '\0') {
      messageErrorHandler(CONCAT22(CONCAT11(extraout_var,bVar3),vp44_message_id));
      vp44_response_buffer = 0;
    }
  }
  return;
}



//
// Function: vp44MultiFrameResponseHandler @ 0x0001c60e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44MultiFrameResponseHandler(int param_1)

{
  byte bVar1;
  byte bVar2;
  undefined1 *puVar3;
  undefined3 uVar4;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined4 in_D0;
  char cVar6;
  int iVar5;
  byte bVar7;
  byte bVar8;
  undefined1 *puVar9;
  undefined1 *puVar10;
  
  if (((*(short *)(param_1 + 4) == 8) && (bVar2 = *(byte *)(param_1 + 3), vp44_response_buffer == 1)
      ) && (bVar2 == vp44_expected_sequence)) {
    bVar1 = **(byte **)(param_1 + 6);
    if (bVar1 == vp44_retry_flag) {
      if (bVar1 == vp44_sequence_number) {
        bVar8 = (char)serial_port_config_value + bVar1 * -7 + 7;
      }
      else {
        bVar8 = 7;
      }
      puVar10 = *(undefined1 **)(param_1 + 6);
      puVar3 = (undefined1 *)(serial_buffer_pointer + (uint)bVar1 * 7 + -7);
      puVar9 = puVar3;
      for (bVar7 = 0; puVar10 = puVar10 + 1, bVar7 < bVar8; bVar7 = bVar7 + 1) {
        *puVar9 = *puVar10;
        puVar9 = puVar9 + 1;
      }
      vp44_retry_flag = vp44_retry_flag + 1;
      vp44_retry_count = vp44_retry_count - 1;
      if (vp44_retry_count == 0) {
        if (bVar1 == vp44_sequence_number) {
          vp44CanFrameBuilder(CONCAT22((short)CONCAT31((int3)((uint)puVar3 >> 8),bVar2),
                                       vp44_message_id));
          vp44_response_buffer = 0;
          serial_buffer_pointer = 0x800f78;
          diagnosticServiceDispatcher(&vp44_message_data);
          return;
        }
        iVar5 = ((uint)vp44_sequence_number - (uint)vp44_retry_flag) + 1;
        if (iVar5 < 6) {
          vp44_retry_count = (vp44_sequence_number - vp44_retry_flag) + 1;
          iVar5 = CONCAT31((int3)((uint)iVar5 >> 8),vp44_retry_count);
        }
        else {
          vp44_retry_count = 5;
        }
        uVar4 = (undefined3)((uint)iVar5 >> 8);
        cVar6 = vp44MessageTransmitter
                          (CONCAT22((short)CONCAT31(uVar4,bVar2),
                                    (short)CONCAT31(uVar4,vp44_retry_flag)),vp44_message_id);
        if (cVar6 != '\0') {
          messageErrorHandler(CONCAT22((short)CONCAT31(extraout_var_00,bVar2),vp44_message_id));
          vp44_response_buffer = 0;
          return;
        }
      }
      else {
        _vp44_timeout_counter = 0x19;
      }
    }
    else {
      uVar4 = (undefined3)((uint)in_D0 >> 8);
      cVar6 = vp44MessageTransmitter
                        (CONCAT22((short)CONCAT31(uVar4,bVar2),
                                  (short)CONCAT31(uVar4,vp44_retry_flag)),vp44_message_id);
      if (cVar6 != '\0') {
        messageErrorHandler(CONCAT22((short)CONCAT31(extraout_var,bVar2),vp44_message_id));
        vp44_response_buffer = 0;
        return;
      }
    }
  }
  return;
}



//
// Function: diagnosticStatusRequestHandler @ 0x0001c776
//

void diagnosticStatusRequestHandler(can_std_rx_desc_t *rx_msg)

{
  word local_6;
  
  if ((diag_tp_state_t_00800f34.diag_state == 1) &&
     (diag_tp_state_t_00800f34.expected_id_low == (byte)rx_msg->id)) {
    local_6 = (ushort)rx_msg->data_ptr[6] << 8;
    if (local_6 == diag_tp_state_t_00800f34.expected_guard) {
      *diag_tp_state_t_00800f34.resp_byte_ptr = 9;
      diag_tp_state_t_00800f34.diag_state = 0;
    }
  }
  return;
}



//
// Function: diagnosticErrorHandler @ 0x0001c7ca
//

void diagnosticErrorHandler(can_std_rx_desc_t *rx_msg)

{
  byte bVar1;
  word local_6;
  
  local_6 = (ushort)rx_msg->data_ptr[6] << 8;
  bVar1 = (byte)rx_msg->id;
  if (((diag_tp_state_t_00800f34.diag_state == 1) &&
      (bVar1 == diag_tp_state_t_00800f34.expected_id_low)) &&
     (local_6 == diag_tp_state_t_00800f34.expected_guard)) {
    *diag_tp_state_t_00800f34.resp_byte_ptr = 10;
    diag_tp_state_t_00800f34.diag_state = 0;
  }
  else if (((vp44_response_buffer == 1) && (bVar1 == vp44_expected_sequence)) &&
          (local_6 == vp44_message_id)) {
    vp44_response_buffer = 0;
  }
  return;
}



//
// Function: vp44CanMessageDispatcher @ 0x0001c846
//

void vp44CanMessageDispatcher(can_std_rx_desc_t *rx_msg)

{
  byte bVar1;
  
  if (rx_msg->length == 8) {
    bVar1 = *rx_msg->data_ptr;
                    /* Constant: CAN_MSG_ALT_HANDLER = 17 */
    if (bVar1 == 0x11) {
      diagnosticParamRequestHandler(rx_msg);
      return;
    }
                    /* Constant: CAN_MSG_VP44_FUEL = 16 */
    if (bVar1 == 0x10) {
      vp44FuelTempHandler(rx_msg);
      return;
    }
    if (bVar1 == 0x13) {
      diagnosticStatusRequestHandler(rx_msg);
      return;
    }
                    /* Constant: CAN_MSG_ERROR_DEFAULT = 255 */
    if (bVar1 != 0xff) {
      return;
    }
    diagnosticErrorHandler(rx_msg);
  }
  return;
}



//
// Function: diagnosticParamRequestHandlerWrapper @ 0x0001c87e
//

void diagnosticParamRequestHandlerWrapper(void)

{
  can_std_rx_desc_t *unaff_A2;
  
  diagnosticParamRequestHandler(unaff_A2);
  return;
}



//
// Function: vp44FuelTempHandlerWrapper @ 0x0001c88c
//

void vp44FuelTempHandlerWrapper(void)

{
  can_std_rx_desc_t *unaff_A2;
  
  vp44FuelTempHandler(unaff_A2);
  return;
}



//
// Function: diagnosticStatusRequestHandlerWrapper @ 0x0001c89a
//

void diagnosticStatusRequestHandlerWrapper(void)

{
  can_std_rx_desc_t *unaff_A2;
  
  diagnosticStatusRequestHandler(unaff_A2);
  return;
}



//
// Function: diagnosticErrorHandlerWrapper @ 0x0001c8a8
//

void diagnosticErrorHandlerWrapper(void)

{
  can_std_rx_desc_t *unaff_A2;
  
  diagnosticErrorHandler(unaff_A2);
  return;
}



//
// Function: unknownMessageHandler @ 0x0001c8b6
//

void unknownMessageHandler(uint param_1)

{
  byte *pbVar1;
  uint uVar2;
  int iVar3;
  byte bVar4;
  byte bVar5;
  byte *pbVar6;
  byte *pbVar7;
  
  uVar2 = param_1 >> 0x10 & 0xff;
  iVar3 = uVar2 * 0x20;
  pbVar6 = &debounce_state_flag + iVar3;
  if ((&debounce_countdown_array)[uVar2 * 0x10] != 0) {
    (&debounce_countdown_array)[uVar2 * 0x10] = (&debounce_countdown_array)[uVar2 * 0x10] - 1;
    return;
  }
  if ((&debounce_state_array_current)[iVar3] == (&j1939_multi_frame_debounce_state)[iVar3]) {
    bVar5 = (*(char *)(iVar3 + 0x800ee7) -
            *(char *)((int)&j1939_multi_frame_retry_counter + iVar3 + 1)) + 2;
    (&j1939_multi_frame_timeout_counter)[uVar2 * 0x10] = (ushort)bVar5;
    *pbVar6 = 0;
  }
  else {
    bVar5 = 8;
    (&j1939_multi_frame_timeout_counter)[uVar2 * 0x10] = 8;
    (&j1939_multi_frame_retry_counter)[uVar2 * 0x10] =
         (&j1939_multi_frame_retry_counter)[uVar2 * 0x10] + 7;
    (&debounce_countdown_array)[uVar2 * 0x10] = 5;
  }
  pbVar7 = (byte *)(&j1939_multi_frame_buffer_ptr)[uVar2 * 8];
  bVar4 = (&debounce_state_array_current)[iVar3];
  (&debounce_state_array_current)[iVar3] = (&debounce_state_array_current)[iVar3] + 1;
  *pbVar7 = bVar4;
  for (bVar4 = 0; pbVar7 = pbVar7 + 1, (int)(uint)bVar4 < (int)(bVar5 - 1); bVar4 = bVar4 + 1) {
    pbVar1 = (byte *)(&debounce_buffer_pointer_array)[uVar2 * 8];
    (&debounce_buffer_pointer_array)[uVar2 * 8] = (&debounce_buffer_pointer_array)[uVar2 * 8] + 1;
    *pbVar7 = *pbVar1;
  }
  sendCanSingleFrame((&j1939_multi_frame_pgn_data)[uVar2 * 8]);
  if ((&j1939_multi_frame_sequence_number)[iVar3] == 0) {
    if (*pbVar6 == 1) {
      *(undefined1 *)(&debounce_output_pointer_array)[uVar2 * 8] = 0x11;
      return;
    }
    *(undefined1 *)(&debounce_output_pointer_array)[uVar2 * 8] = 5;
    return;
  }
  *(byte *)(&debounce_output_pointer_array)[uVar2 * 8] = (&j1939_multi_frame_sequence_number)[iVar3]
  ;
  *pbVar6 = 0;
  return;
}



//
// Function: diagnosticMessageProcessor @ 0x0001c996
//

void diagnosticMessageProcessor(void)

{
  byte bVar1;
  byte bVar2;
  byte bVar3;
  char cVar4;
  byte bVar5;
  byte bVar6;
  byte *pbVar7;
  byte *pbVar8;
  
  bVar6 = diag_tp_state_t_00800f34.req_count;
  bVar3 = diag_tp_state_t_00800f34.req_start;
  if (diag_tp_state_t_00800f34.req_count == 0) {
    if (diag_tp_state_t_00800f34._18_2_ == 0) {
      *diag_tp_state_t_00800f34.resp_byte_ptr = 6;
      diag_tp_state_t_00800f34.diag_state = 0;
      return;
    }
    diag_tp_state_t_00800f34._18_2_ = diag_tp_state_t_00800f34._18_2_ + -1;
    return;
  }
  if (diag_tp_state_t_00800f34.req_count < 0xb) {
    diag_tp_state_t_00800f34.req_count = 0;
    diag_tp_state_t_00800f34.status_code = 0;
    diag_tp_state_t_00800f34.reserved_0x47 = 0x70;
  }
  else {
    bVar6 = 10;
    diag_tp_state_t_00800f34.req_start = diag_tp_state_t_00800f34.req_start + 10;
    diag_tp_state_t_00800f34.req_count = diag_tp_state_t_00800f34.req_count - 10;
  }
  pbVar8 = diag_tp_state_t_00800f34.src_data_ptr + (uint)bVar3 * 7 + -7;
  bVar5 = 0;
  cVar4 = bVar3 * '\a' + -7;
  while( true ) {
    pbVar7 = diag_tp_state_t_00800f34.tx_cm_buf;
    if (bVar6 <= bVar5) {
      return;
    }
    if (bVar3 == diag_tp_state_t_00800f34.total_packets) {
      bVar2 = ((char)diag_tp_state_t_00800f34.total_bytes - cVar4) + 1;
      diag_tp_state_t_00800f34.tx_length = (word)bVar2;
    }
    else {
      bVar2 = 8;
    }
    cVar4 = cVar4 + '\a';
    *diag_tp_state_t_00800f34.tx_cm_buf = bVar3;
    for (bVar1 = 0; pbVar7 = pbVar7 + 1, (int)(uint)bVar1 < (int)(bVar2 - 1); bVar1 = bVar1 + 1) {
      *pbVar7 = *pbVar8;
      pbVar8 = pbVar8 + 1;
    }
    sendCanSingleFrame(diag_tp_state_t_00800f34.tx_header_id);
    if (diag_tp_state_t_00800f34.pre_status != 0) break;
    *diag_tp_state_t_00800f34.resp_byte_ptr = 0x13;
    bVar5 = bVar5 + 1;
    bVar3 = bVar3 + 1;
  }
  *diag_tp_state_t_00800f34.resp_byte_ptr = 7;
  diag_tp_state_t_00800f34.diag_state = 0;
  return;
}



//
// Function: vp44ResponseTimeoutHandler @ 0x0001cabe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44ResponseTimeoutHandler(void)

{
  if (_vp44_timeout_counter == 0) {
    vp44_response_buffer = 0;
    return;
  }
  _vp44_timeout_counter = _vp44_timeout_counter + -1;
  return;
}



//
// Function: messageQueueDispatcher @ 0x0001cad6
//

void messageQueueDispatcher(void)

{
  ushort in_stack_00000000;
  
  if (debounce_state_flag == 1) {
    unknownMessageHandler((uint)in_stack_00000000);
  }
  if (j1939_multi_frame_active_flag == 1) {
    unknownMessageHandler(CONCAT22(1,in_stack_00000000));
  }
  if (diag_tp_state_t_00800f34.diag_state == 1) {
    diagnosticMessageProcessor();
  }
  if (vp44_response_buffer == 1) {
    vp44ResponseTimeoutHandler();
  }
  return;
}



//
// Function: multiPacketBufferAllocator @ 0x0001cb18
//

undefined4 multiPacketBufferAllocator(undefined4 param_1)

{
  if (param_1._0_2_ < 9) {
    multi_packet_small_data_ptr = 0x800edc;
    multi_packet_small_size = param_1._0_2_;
    multi_packet_small_status_ptr = 0x800eda;
    return 0x800ecc;
  }
  if ((multi_packet_status_byte & 0xf0) != 0) {
    return 0;
  }
  multi_packet_data_ptr = 0x8007c4;
  multi_packet_buffer_size = param_1._0_2_;
  multi_packet_status_ptr = (dword)&multi_packet_status_byte;
  return 0x8007b4;
}



//
// Function: vp44DiagnosticBufferPointersInit @ 0x0001cb6e
//

void vp44DiagnosticBufferPointersInit(void)

{
  j1939_multi_frame_buffer_ptr = 0x800f24;
  vp44_diag_buffer_2_ptr = 0x800f2c;
  diag_tp_state_t_00800f34.tx_cm_buf = (byte *)0x800f56;
  serial_buffer_pointer = 0x800f78;
  coreSystemControlFunction();
  coreSystemControlFunction();
  return;
}



//
// Function: fuelArbitratorResetHandler @ 0x0001cbc2
//

void fuelArbitratorResetHandler(void)

{
  word wVar1;
  undefined4 unaff_A2;
  
  wVar1 = fuel_arbitrator_diag_t_0080cff8.rpm_target;
  fuel_arbitrator_prev_rpm_target = fuel_arbitrator_diag_t_0080cff8.rpm_target;
  fuel_arbitrator_diag_t_0080cff8.rpm_target = 0;
  fuel_arbitrator_diag_t_0080cff8.fuel_mode = 0;
  fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
  j1939MessageTypeCounter(CONCAT22(wVar1,(short)((uint)unaff_A2 >> 0x10)));
  torque_control_mode_timer = 0;
  fuel_arbitrator_response_timer = 0;
  return;
}



//
// Function: fuelArbitratorVariablesReset @ 0x0001cbfe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelArbitratorVariablesReset(void)

{
  fuel_arbitrator_state = 0;
  retarder_mode_can_source_priority = 0;
  _retarder_mode_threshold_result = 0;
  _retarder_mode_table_count = 3;
  fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
  retarder_control_mode_timer = 0;
  fuel_arbitrator_status_counter = 0;
  fuel_arbitrator_throttle_override = 0;
  _retarder_mode_override_flag = 0;
  return;
}



//
// Function: systemStatusProcessor @ 0x0001cc38
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint systemStatusProcessor(void)

{
  word wVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  ushort uVar5;
  undefined2 uVar6;
  undefined3 uVar7;
  uint uVar8;
  uint uVar9;
  undefined4 unaff_D2;
  bool bVar10;
  bool bVar11;
  bool bVar12;
  bool bVar13;
  
  uVar6 = (undefined2)((uint)unaff_D2 >> 0x10);
  bVar4 = false;
  bVar3 = false;
  bVar2 = false;
  if ((fuel_arbitrator_prev_speed_limit != fuel_arbitrator_diag_t_0080cff8.speed_limit) &&
     (fuel_arbitrator_diag_t_0080cff8.speed_limit == 1)) {
    fuel_arbitrator_status_timer = fuel_arbitrator_status_init + 1;
    bVar2 = true;
  }
  if (fuel_arbitrator_speed_timer != 0) {
    fuel_arbitrator_speed_timer = fuel_arbitrator_speed_timer - 1;
    bVar2 = true;
  }
  bVar10 = fuel_arbitrator_speed_timer == 1;
  if (bVar10) {
    fuel_arbitrator_diag_t_0080cff8.speed_limit = 0;
    _crank_state_transition_flag = 0;
    fuel_arbitrator_speed_timer = 0;
    fuel_arbitrator_status_timer = 0;
  }
  if (fuel_arbitrator_status_timer != 0) {
    fuel_arbitrator_status_timer = fuel_arbitrator_status_timer - 1;
  }
  if (fuel_arbitrator_status_timer == 1) {
    fuel_arbitrator_diag_t_0080cff8.speed_limit = 0;
    _crank_state_transition_flag = 1;
    fuel_arbitrator_speed_timer = io_control_timeout_table_base + 1;
  }
  if (((fuel_arbitrator_session_counter != 0) &&
      (fuel_arbitrator_session_counter = fuel_arbitrator_session_counter - 1,
      fuel_arbitrator_prev_session != fuel_arbitrator_diag_t_0080cff8.session_counter)) &&
     (fuel_arbitrator_diag_t_0080cff8.session_counter == 1)) {
    bVar2 = true;
  }
  bVar11 = fuel_arbitrator_session_counter == 1;
  if (bVar11) {
    fuel_arbitrator_diag_t_0080cff8.session_counter = 0;
    fuel_arbitrator_session_counter = 0;
  }
  if (((fuel_arbitrator_session_timer != 0) &&
      (fuel_arbitrator_session_timer = fuel_arbitrator_session_timer - 1,
      fuel_arbitrator_prev_fuel_limit != fuel_arbitrator_diag_t_0080cff8.fuel_limit)) &&
     (fuel_arbitrator_diag_t_0080cff8.fuel_limit == 1)) {
    bVar2 = true;
  }
  bVar12 = fuel_arbitrator_session_timer == 1;
  if (bVar12) {
    fuel_arbitrator_diag_t_0080cff8.fuel_limit = 0;
    fuel_arbitrator_session_timer = 0;
  }
  if (((fuel_arbitrator_throttle_override != 0) &&
      (fuel_arbitrator_throttle_override = fuel_arbitrator_throttle_override - 1,
      fuel_arbitrator_prev_throttle != fuel_arbitrator_diag_t_0080cff8.throttle_mode)) &&
     (fuel_arbitrator_diag_t_0080cff8.throttle_mode == 1)) {
    bVar2 = true;
  }
  bVar13 = fuel_arbitrator_throttle_override == 1;
  if (bVar13) {
    fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
    fuel_arbitrator_throttle_override = 0;
  }
  bVar13 = bVar13 || (bVar12 || (bVar11 || bVar10));
  uVar5 = (short)fuel_arbitrator_diag_t_0080cff8.rpm_target >> 0xf;
  if (((fuel_arbitrator_diag_t_0080cff8.rpm_target == fuel_arbitrator_prev_rpm_target) &&
      (fuel_arbitrator_diag_t_0080cff8._28_2_ == fuel_arbitrator_prev_source)) &&
     ((byte)fuel_arbitrator_diag_t_0080cff8.limited_value == fuel_arbitrator_prev_limited)) {
    if (torque_control_mode_timer != 0) {
      torque_control_mode_timer = torque_control_mode_timer - 1;
    }
    if (fuel_arbitrator_response_timer != 0) {
      fuel_arbitrator_response_timer = fuel_arbitrator_response_timer - 1;
    }
    uVar8 = (uint)(short)fuel_arbitrator_diag_t_0080cff8.rpm_target;
    uVar9 = uVar8;
    if (uVar8 < 4) {
      uVar9 = CONCAT22(uVar5,(&switchD_0001ce60::switchdataD_0001ce64)[uVar8]);
      uVar7 = (undefined3)(uVar9 >> 8);
      switch(uVar8) {
      case 1:
        if (torque_control_mode_timer == 1) {
          uVar9 = fuelArbitratorResetHandler();
          bVar13 = true;
        }
        else if (fuel_arbitrator_response_timer == 1) {
          ioControlEntryAdd(CONCAT22(fuel_arbitrator_diag_t_0080cff8._28_2_,
                                     (short)CONCAT31(uVar7,(byte)fuel_arbitrator_diag_t_0080cff8.
                                                                 limited_value)),CONCAT22(1,uVar6));
          uVar9 = fuelArbitratorResetHandler();
        }
        break;
      case 2:
        if (torque_control_mode_timer == 1) {
          uVar9 = fuelArbitratorResetHandler();
          bVar13 = true;
        }
        else if ((fuel_arbitrator_response_timer == 1) &&
                (fuel_arbitrator_diag_t_0080cff8.fuel_limit == 0)) {
          ioControlEntryAdd(CONCAT22(fuel_arbitrator_diag_t_0080cff8._28_2_,
                                     (short)CONCAT31(uVar7,(byte)fuel_arbitrator_diag_t_0080cff8.
                                                                 limited_value)),CONCAT22(2,uVar6));
          uVar9 = fuelArbitratorResetHandler();
        }
        break;
      case 3:
        if (torque_control_mode_timer == 1) {
          uVar9 = fuelArbitratorResetHandler();
          bVar13 = true;
        }
      }
    }
  }
  else {
    uVar8 = (uint)(short)fuel_arbitrator_diag_t_0080cff8.rpm_target;
    uVar9 = uVar8;
    if (uVar8 < 4) {
      uVar9 = (uint)uVar5 << 0x10;
      switch(uVar8) {
      case 0:
        fuel_arbitrator_response_timer = 0;
        break;
      case 1:
        fuel_arbitrator_response_timer = *(short *)(_timer_capture_value + 6) + 1;
        uVar9 = CONCAT22(uVar5,fuel_arbitrator_response_timer);
        bVar2 = true;
        break;
      case 2:
        fuel_arbitrator_response_timer = *(short *)(_timer_capture_value + 10) + 1;
        uVar9 = CONCAT22(uVar5,fuel_arbitrator_response_timer);
        bVar2 = true;
        break;
      case 3:
        fuel_arbitrator_response_timer = 0;
        bVar2 = true;
      }
    }
    if (fuel_arbitrator_prev_source == 0) {
      uVar9 = j1939MessageTypeCounter(CONCAT22(fuel_arbitrator_prev_rpm_target,uVar6));
    }
  }
  if (bVar13) {
    if (fuel_arbitrator_diag_t_0080cff8._28_2_ == 1) {
      bVar4 = true;
    }
    else {
      bVar3 = true;
    }
  }
  else if (bVar2) {
    if (fuel_arbitrator_diag_t_0080cff8._28_2_ == 1) {
      fuel_arbitrator_source_1_flag = 1;
    }
    else {
      fuel_arbitrator_source_2_flag = 1;
    }
  }
  fuel_arbitrator_prev_rpm_target = fuel_arbitrator_diag_t_0080cff8.rpm_target;
  fuel_arbitrator_prev_source = fuel_arbitrator_diag_t_0080cff8._28_2_;
  fuel_arbitrator_prev_limited = (byte)fuel_arbitrator_diag_t_0080cff8.limited_value;
  fuel_arbitrator_prev_speed_limit = fuel_arbitrator_diag_t_0080cff8.speed_limit;
  fuel_arbitrator_prev_session = fuel_arbitrator_diag_t_0080cff8.session_counter;
  fuel_arbitrator_prev_fuel_limit = fuel_arbitrator_diag_t_0080cff8.fuel_limit;
  fuel_arbitrator_prev_throttle = fuel_arbitrator_diag_t_0080cff8.throttle_mode;
  uVar9 = CONCAT22((short)(uVar9 >> 0x10),fuel_arbitrator_state);
  if (fuel_arbitrator_state == fuel_arbitrator_prev_state) {
    uVar9 = (uint)_retarder_control_can_source;
    if (uVar9 == fuel_arbitrator_prev_byte) {
      if (retarder_control_mode_timer != 0) {
        retarder_control_mode_timer = retarder_control_mode_timer - 1;
      }
      if (fuel_arbitrator_status_counter != 0) {
        fuel_arbitrator_status_counter = fuel_arbitrator_status_counter - 1;
      }
      if (fuel_arbitrator_state == 2) {
        if (retarder_control_mode_timer == 1) {
          uVar9 = fuelArbitratorVariablesReset();
          bVar4 = true;
        }
        else if (fuel_arbitrator_status_counter == 1) {
          ioControlTimeoutEntryAdd(CONCAT22(_retarder_control_can_source,uVar6));
          uVar9 = fuelArbitratorVariablesReset();
        }
      }
      else if ((fuel_arbitrator_state == 3) && (retarder_control_mode_timer == 1)) {
        uVar9 = fuelArbitratorVariablesReset();
        bVar4 = true;
      }
      goto LAB_0001d026;
    }
  }
  if (fuel_arbitrator_state == 2) {
    fuel_arbitrator_status_counter = *(short *)(_retarder_control_mode_state + 0x10) + 1;
    uVar9 = CONCAT22((short)(uVar9 >> 0x10),fuel_arbitrator_status_counter);
    fuel_arbitrator_source_1_flag = 1;
  }
  else {
    fuel_arbitrator_status_counter = 0;
    if (fuel_arbitrator_state == 3) {
      fuel_arbitrator_source_1_flag = 1;
    }
  }
LAB_0001d026:
  fuel_arbitrator_prev_state = fuel_arbitrator_state;
  fuel_arbitrator_prev_byte = retarder_control_source_byte;
  if (bVar3) {
    uVar9 = (uint)fuel_arbitrator_overflow_counter_1;
    if ((int)uVar9 < (int)(io_control_index_limit - 1)) {
      fuel_arbitrator_overflow_counter_1 = fuel_arbitrator_overflow_counter_1 + 1;
    }
    else {
      io_fault_status_reg_4 = io_fault_status_reg_4 | 8;
      io_fault_latch_reg_4 = io_fault_latch_reg_4 | 8;
      fuel_arbitrator_overflow_counter_1 = 0;
    }
    fuel_arbitrator_source_2_flag = 0;
  }
  else if (fuel_arbitrator_source_2_flag == 1) {
    uVar6 = (undefined2)(uVar9 >> 0x10);
    wVar1 = io_fault_status_reg_4;
    if (((io_fault_status_reg_4 & 8) == 0) ||
       (wVar1 = fault_mask_flags_1, (fault_mask_flags_1 & 8) == 0)) {
      uVar9 = CONCAT22(uVar6,wVar1) & 0xffff0008;
      fuel_arbitrator_source_2_flag = 0;
    }
    else {
      uVar9 = CONCAT22(uVar6,io_fault_status_reg_4) & 0xffff0008;
      if ((io_fault_status_reg_4 & 8) != 0) {
        uVar9 = CONCAT22(uVar6,io_fault_latch_reg_4) & 0xffff0008;
        if ((io_fault_latch_reg_4 & 8) == 0) {
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfff7;
          fuel_arbitrator_source_2_flag = 0;
          fuel_arbitrator_overflow_counter_1 = 0;
        }
      }
    }
  }
  if (bVar4) {
    uVar9 = (uint)fuel_arbitrator_overflow_counter_2;
    if ((int)uVar9 < (int)(io_control_index_limit - 1)) {
      fuel_arbitrator_overflow_counter_2 = fuel_arbitrator_overflow_counter_2 + 1;
    }
    else {
      io_fault_status_reg_2 = io_fault_status_reg_2 | 0x400;
      io_fault_latch_reg_2 = io_fault_latch_reg_2 | 0x400;
    }
    fuel_arbitrator_source_1_flag = 0;
    return uVar9;
  }
  if (fuel_arbitrator_source_1_flag == 1) {
    uVar6 = (undefined2)(uVar9 >> 0x10);
    wVar1 = io_fault_status_reg_2;
    if (((io_fault_status_reg_2 & 0x400) == 0) ||
       (wVar1 = _engine_mode_output_control_state_68ce,
       (_engine_mode_output_control_state_68ce & 0x400) == 0)) {
      uVar9 = CONCAT22(uVar6,wVar1) & 0xffff0400;
      fuel_arbitrator_source_1_flag = 0;
    }
    else {
      uVar9 = CONCAT22(uVar6,io_fault_status_reg_2) & 0xffff0400;
      if ((io_fault_status_reg_2 & 0x400) != 0) {
        uVar9 = CONCAT22(uVar6,io_fault_latch_reg_2) & 0xffff0400;
        if ((io_fault_latch_reg_2 & 0x400) == 0) {
          io_fault_status_reg_2 = io_fault_status_reg_2 & 0xfbff;
          fuel_arbitrator_source_1_flag = 0;
          fuel_arbitrator_overflow_counter_2 = 0;
          return uVar9;
        }
      }
    }
  }
  return uVar9;
}



//
// Function: diagnosticMessageValidator @ 0x0001d19c
//

uint diagnosticMessageValidator(undefined4 param_1,undefined4 param_2)

{
  uint in_D0;
  byte bVar1;
  word *pwVar2;
  
  pwVar2 = &io_control_entry_table_base;
  bVar1 = 0;
  while( true ) {
    if (scheduler_cycle_counter <= bVar1) {
      return in_D0 & 0xffff0000;
    }
    if (((param_1._0_2_ == *pwVar2) && ((char)param_1 == *(char *)(pwVar2 + 1))) &&
       (param_2._0_2_ == pwVar2[2])) break;
    pwVar2 = pwVar2 + 4;
    bVar1 = bVar1 + 1;
  }
  pwVar2[3] = io_control_timeout_table_base;
  return 1;
}



//
// Function: ioControlTimeoutTableLookup @ 0x0001d1ec
//

uint ioControlTimeoutTableLookup(undefined4 param_1)

{
  uint in_D0;
  byte bVar1;
  byte *pbVar2;
  
  pbVar2 = &diagnostic_queue_data_array;
  bVar1 = 0;
  while( true ) {
    if (scheduler_phase_flag <= bVar1) {
      return in_D0 & 0xffff0000;
    }
    if ((byte)((uint)param_1 >> 0x10) == *pbVar2) break;
    pbVar2 = pbVar2 + 4;
    bVar1 = bVar1 + 1;
  }
  *(word *)(pbVar2 + 2) = io_control_timeout_table_base;
  return 1;
}



//
// Function: ioControlEntryAdd @ 0x0001d228
//

void ioControlEntryAdd(undefined4 param_1,undefined4 param_2)

{
  uint uVar1;
  
  if (scheduler_cycle_counter < 5) {
    uVar1 = (uint)scheduler_cycle_counter;
    scheduler_cycle_counter = scheduler_cycle_counter + 1;
    (&io_control_entry_table_base)[uVar1 * 4] = param_1._0_2_;
    (&io_control_command_array)[uVar1 * 8] = (byte)param_1;
    (&io_control_param_array)[uVar1 * 4] = param_2._0_2_;
    (&io_control_timeout_array)[uVar1 * 4] = io_control_timeout_table_base;
  }
  return;
}



//
// Function: ioControlTimeoutEntryAdd @ 0x0001d268
//

void ioControlTimeoutEntryAdd(undefined4 param_1)

{
  uint uVar1;
  
  if (scheduler_phase_flag < 5) {
    uVar1 = (uint)scheduler_phase_flag;
    scheduler_phase_flag = scheduler_phase_flag + 1;
    (&diagnostic_queue_data_array)[uVar1 * 4] = param_1._1_1_;
    (&io_control_timeout_table_entry)[uVar1 * 2] = io_control_timeout_table_base;
  }
  return;
}



//
// Function: phase3_countdown_timer_manager @ 0x0001d29c
//

void phase3_countdown_timer_manager(void)

{
  word wVar1;
  short sVar2;
  uint uVar3;
  byte bVar4;
  byte *pbVar5;
  word *pwVar6;
  
  if (scheduler_cycle_counter != 0) {
    pwVar6 = &fuel_arbitrator_prev_fuel_limit + (uint)scheduler_cycle_counter * 4;
    for (bVar4 = scheduler_cycle_counter; bVar4 != 0; bVar4 = bVar4 - 1) {
      wVar1 = pwVar6[3] - 1;
      pwVar6[3] = wVar1;
      if (wVar1 == 0) {
        if (bVar4 == scheduler_cycle_counter) {
          scheduler_cycle_counter = scheduler_cycle_counter - 1;
        }
        else {
          scheduler_cycle_counter = scheduler_cycle_counter - 1;
          uVar3 = (uint)scheduler_cycle_counter;
          *pwVar6 = (&io_control_entry_table_base)[uVar3 * 4];
          *(byte *)(pwVar6 + 1) = (&io_control_command_array)[uVar3 * 8];
          pwVar6[2] = (&io_control_param_array)[uVar3 * 4];
          pwVar6[3] = (&io_control_timeout_array)[uVar3 * 4];
        }
      }
      pwVar6 = pwVar6 + -4;
    }
  }
  if (scheduler_phase_flag != 0) {
    pbVar5 = (byte *)((uint)scheduler_phase_flag * 4 + 0x801656);
    for (bVar4 = scheduler_phase_flag; bVar4 != 0; bVar4 = bVar4 - 1) {
      sVar2 = *(short *)(pbVar5 + 2) + -1;
      *(short *)(pbVar5 + 2) = sVar2;
      if (sVar2 == 0) {
        if (bVar4 == scheduler_phase_flag) {
          scheduler_phase_flag = scheduler_phase_flag - 1;
        }
        else {
          scheduler_phase_flag = scheduler_phase_flag - 1;
          uVar3 = (uint)scheduler_phase_flag;
          *pbVar5 = (&diagnostic_queue_data_array)[uVar3 * 4];
          *(word *)(pbVar5 + 2) = (&io_control_timeout_table_entry)[uVar3 * 2];
        }
      }
      pbVar5 = pbVar5 + -4;
    }
  }
  return;
}



//
// Function: diagnosticStateInitializer @ 0x0001d34e
//

void diagnosticStateInitializer(undefined4 param_1)

{
  uint uVar1;
  byte bVar2;
  word *pwVar3;
  
  if (scheduler_cycle_counter != 0) {
    pwVar3 = &fuel_arbitrator_prev_fuel_limit + (uint)scheduler_cycle_counter * 4;
    for (bVar2 = scheduler_cycle_counter; bVar2 != 0; bVar2 = bVar2 - 1) {
      if ((param_1._0_2_ == *pwVar3) && ((char)param_1 == *(char *)(pwVar3 + 1))) {
        if (bVar2 == scheduler_cycle_counter) {
          scheduler_cycle_counter = scheduler_cycle_counter - 1;
        }
        else {
          scheduler_cycle_counter = scheduler_cycle_counter - 1;
          uVar1 = (uint)scheduler_cycle_counter;
          *pwVar3 = (&io_control_entry_table_base)[uVar1 * 4];
          *(byte *)(pwVar3 + 1) = (&io_control_command_array)[uVar1 * 8];
          pwVar3[2] = (&io_control_param_array)[uVar1 * 4];
          pwVar3[3] = (&io_control_timeout_array)[uVar1 * 4];
        }
      }
      pwVar3 = pwVar3 + -4;
    }
  }
  return;
}



//
// Function: ioControlEntryRemove @ 0x0001d3b8
//

void ioControlEntryRemove(undefined4 param_1)

{
  uint uVar1;
  byte bVar2;
  byte *pbVar3;
  
  if (scheduler_phase_flag != 0) {
    pbVar3 = (byte *)((uint)scheduler_phase_flag * 4 + 0x801656);
    for (bVar2 = scheduler_phase_flag; bVar2 != 0; bVar2 = bVar2 - 1) {
      if ((byte)((uint)param_1 >> 0x10) == *pbVar3) {
        if (bVar2 == scheduler_phase_flag) {
          scheduler_phase_flag = scheduler_phase_flag - 1;
        }
        else {
          scheduler_phase_flag = scheduler_phase_flag - 1;
          uVar1 = (uint)scheduler_phase_flag;
          *pbVar3 = (&diagnostic_queue_data_array)[uVar1 * 4];
          *(word *)(pbVar3 + 2) = (&io_control_timeout_table_entry)[uVar1 * 2];
        }
      }
      pbVar3 = pbVar3 + -4;
    }
  }
  return;
}



//
// Function: ioControlRegisterBitMapper @ 0x0001d40c
//

uint ioControlRegisterBitMapper(void)

{
  undefined2 uVar1;
  undefined2 uVar2;
  undefined4 in_D0;
  uint uVar3;
  
  if ((io_control_active_mask & 0x20) == 0) {
    io_control_source_register = io_control_source_register & 0xdf;
  }
  else {
    io_control_source_register = io_control_source_register | 0x20;
  }
  if ((io_control_active_mask & 4) == 0) {
    io_control_source_register = io_control_source_register & 0xef;
  }
  else {
    io_control_source_register = io_control_source_register | 0x10;
  }
  if ((io_control_active_mask & 0x40) == 0) {
    io_control_source_register = io_control_source_register & 0xf7;
  }
  else {
    io_control_source_register = io_control_source_register | 8;
  }
  if ((io_control_active_mask & 1) == 0) {
    io_control_source_register = io_control_source_register & 0xfd;
  }
  else {
    io_control_source_register = io_control_source_register | 2;
  }
  uVar1 = (short)((uint)in_D0 >> 0x10);
  if ((io_control_active_mask & 8) == 0) {
    uVar2 = 0;
    uVar1 = 0;
    if ((output_control_status_byte & 4) == 0) {
      io_control_source_register = io_control_source_register & 0xfe;
      goto LAB_0001d486;
    }
  }
  uVar2 = uVar1;
  io_control_source_register = io_control_source_register | 1;
LAB_0001d486:
  if ((io_control_active_mask & 2) == 0) {
    io_control_source_register = io_control_source_register & 0xbf;
  }
  else {
    io_control_source_register = io_control_source_register | 0x40;
  }
  uVar3 = CONCAT22(uVar2,io_control_active_mask) & 0xffff0010;
  if ((io_control_active_mask & 0x10) == 0) {
    uVar3 = output_control_status_byte & 8;
    if ((output_control_status_byte & 8) == 0) {
      io_control_source_register = io_control_source_register & 0xfb;
      return uVar3;
    }
  }
  io_control_source_register = io_control_source_register | 4;
  return uVar3;
}



//
// Function: ioControlStateMachineWithDelay @ 0x0001d4bc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint ioControlStateMachineWithDelay(void)

{
  uint uVar1;
  
  if ((io_control_source_register & 1) == 0) {
    _io_control_bit0_state = 0;
  }
  else if (_io_control_bit0_state == 0) {
    _io_control_bit0_state = 1;
  }
  else if (_io_control_bit0_state == 1) {
    if ((io_control_state_delay & 1) != 0) {
      _io_control_bit0_state = 2;
      io_control_delay_timer = 0;
    }
  }
  else if (_io_control_bit0_state == 2) {
    if (io_control_delay_timer < 10) {
      io_control_delay_timer = io_control_delay_timer + 1;
    }
    else {
      _io_control_bit0_state = 1;
      io_control_delay_timer = 0;
    }
  }
  if ((io_control_source_register & 2) == 0) {
    _io_control_bit1_state = 0;
  }
  else if (_io_control_bit1_state == 0) {
    _io_control_bit1_state = 1;
  }
  else if (_io_control_bit1_state == 1) {
    if ((io_control_state_delay & 2) != 0) {
      _io_control_bit1_state = 2;
      io_control_state_1 = 0;
    }
  }
  else if (_io_control_bit1_state == 2) {
    if (io_control_state_1 < 10) {
      io_control_state_1 = io_control_state_1 + 1;
    }
    else {
      _io_control_bit1_state = 1;
      io_control_state_1 = 0;
    }
  }
  if ((io_control_source_register & 4) == 0) {
    accumulated_backup_eps_period_between_vss_interrupts_0_65535 = 0;
  }
  else if (accumulated_backup_eps_period_between_vss_interrupts_0_65535 == 0) {
    accumulated_backup_eps_period_between_vss_interrupts_0_65535 = 1;
  }
  else if (accumulated_backup_eps_period_between_vss_interrupts_0_65535 == 1) {
    if ((io_control_state_delay & 4) != 0) {
      accumulated_backup_eps_period_between_vss_interrupts_0_65535 = 2;
      io_control_state_2 = 0;
    }
  }
  else if (accumulated_backup_eps_period_between_vss_interrupts_0_65535 == 2) {
    if (io_control_state_2 < 10) {
      io_control_state_2 = io_control_state_2 + 1;
    }
    else {
      accumulated_backup_eps_period_between_vss_interrupts_0_65535 = 1;
      io_control_state_2 = 0;
    }
  }
  if ((io_control_source_register & 0x40) == 0) {
    _io_control_bit6_state = 0;
  }
  else if (_io_control_bit6_state == 0) {
    _io_control_bit6_state = 1;
  }
  else if (_io_control_bit6_state == 1) {
    if ((io_control_state_delay & 0x40) != 0) {
      _io_control_bit6_state = 2;
      io_control_state_3 = 0;
    }
  }
  else if (_io_control_bit6_state == 2) {
    if (io_control_state_3 < 10) {
      io_control_state_3 = io_control_state_3 + 1;
    }
    else {
      _io_control_bit6_state = 1;
      io_control_state_3 = 0;
    }
  }
  if ((io_control_source_register & 0x10) == 0) {
    _io_control_bit4_state = 0;
  }
  else if (_io_control_bit4_state == 0) {
    _io_control_bit4_state = 1;
  }
  else if (_io_control_bit4_state == 1) {
    if ((io_control_state_delay & 0x10) != 0) {
      _io_control_bit4_state = 2;
      io_control_state_4 = 0;
    }
  }
  else if (_io_control_bit4_state == 2) {
    if (io_control_state_4 < 10) {
      io_control_state_4 = io_control_state_4 + 1;
    }
    else {
      _io_control_bit4_state = 1;
      io_control_state_4 = 0;
    }
  }
  if ((io_control_source_register & 0x20) == 0) {
    number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 = 0;
  }
  else if (number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 == 0) {
    number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 = 1;
  }
  else if (number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 == 1) {
    if ((io_control_state_delay & 0x20) != 0) {
      number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 = 2;
      io_control_state_5 = 0;
    }
  }
  else if (number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 == 2) {
    if (io_control_state_5 < 10) {
      io_control_state_5 = io_control_state_5 + 1;
    }
    else {
      number_of_backup_eps_interrupts_between_vss_interrupts_0_65535 = 1;
      io_control_state_5 = 0;
    }
  }
  if ((io_control_source_register & 8) == 0) {
    _io_control_handshake_state = 0;
    return io_control_source_register & 8;
  }
  uVar1 = (uint)_io_control_handshake_state;
  if (_io_control_handshake_state == 0) {
    _io_control_handshake_state = 1;
    return uVar1;
  }
  if (_io_control_handshake_state == 1) {
    if ((io_control_state_delay & 8) != 0) {
      _io_control_handshake_state = 2;
      io_control_state_6 = 0;
      return uVar1;
    }
  }
  else {
    if (_io_control_handshake_state != 2) {
      return uVar1;
    }
    if (9 < io_control_state_6) {
      _io_control_handshake_state = 1;
      io_control_state_6 = 0;
      return uVar1;
    }
    io_control_state_6 = io_control_state_6 + 1;
  }
  return uVar1;
}



//
// Function: ioControlPinSwitchingWrapper @ 0x0001d7d2
//

void ioControlPinSwitchingWrapper(void)

{
  ioControlRegisterBitMapper();
  ioControlStateMachineWithDelay();
  return;
}



//
// Function: initIoControlRegister @ 0x0001d7dc
//

void initIoControlRegister(void)

{
  io_control_source_register = io_control_source_register & 0xfe;
  io_control_delay_timer = 0;
  return;
}



//
// Function: initTimerCounterDefaults @ 0x0001d7ec
//

void initTimerCounterDefaults(void)

{
  io_control_mask_state_active = 1;
  diagnostic_queue_init_flag = 1;
  fault_code_display_state = 0x7d;
  diagnostic_queue_active_flag = 0;
  return;
}



//
// Function: ioControlMaskStateMachine @ 0x0001d80c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ioControlMaskStateMachine(void)

{
  word wVar1;
  word *pwVar2;
  
  if (diagnostic_queue_init_flag != 0) {
    for (pwVar2 = &io_control_mask_state_array; pwVar2 < (word *)0x808787; pwVar2 = pwVar2 + 1) {
      io_control_active_mask = *pwVar2 | io_control_active_mask;
    }
    diagnostic_queue_init_flag = 0;
    io_control_mask_state_1 = 0x28;
    _io_control_mask_state_2 = &io_control_mask_state_array;
    return;
  }
  io_control_mask_toggle = io_control_mask_toggle + 1;
  wVar1 = io_control_mask_state_1;
  if (io_control_mask_toggle == io_control_mask_state_1) {
    io_control_active_mask = ~*_io_control_mask_state_2 & io_control_active_mask;
    _io_control_mask_state_2 = _io_control_mask_state_2 + 1;
    wVar1 = io_control_mask_state_1 + 10;
    if ((*_io_control_mask_state_2 == 0) || ((ushort *)0x808786 < _io_control_mask_state_2)) {
      if (diagnostic_queue_active_flag != 1) {
        diagnostic_queue_active_flag = 1;
        io_control_mask_state_1 = io_control_mask_state_1 + 0x1e;
        return;
      }
      io_control_mask_state_active = 0;
      diagnostic_queue_counter_1 = 0;
      fault_code_display_counter = 0;
      diagnostic_queue_counter_2 = 0;
    }
  }
  io_control_mask_state_1 = wVar1;
  return;
}



//
// Function: ioControlToggleCycle @ 0x0001d8cc
//

uint ioControlToggleCycle(void)

{
  uint in_D0;
  
  if (io_toggle_cycle_counter == 0) {
    io_control_active_mask = io_control_active_mask | 1;
  }
  else if (io_toggle_cycle_counter == 10) {
    io_control_active_mask = io_control_active_mask & 0xfffe;
  }
  else if (io_toggle_cycle_counter == 0x14) {
    io_toggle_cycle_counter = 0;
    return 1;
  }
  io_toggle_cycle_counter = io_toggle_cycle_counter + 1;
  return in_D0 & 0xffffff00;
}



//
// Function: ioControlLampStateMachine @ 0x0001d904
//

undefined1 ioControlLampStateMachine(void)

{
  undefined1 uVar1;
  
  uVar1 = 1;
  if (high_rpm_protection_warning_flag == 0) {
    if (diagnostic_queue_pending_flag_1 != 0) {
      diagnostic_queue_pending_flag_1 = 0;
      lamp_2_blink_counter = 0;
      io_control_active_mask = io_control_active_mask & 0xfffd;
    }
  }
  else {
    uVar1 = 0;
    if (lamp_2_blink_counter == 0) {
      io_control_active_mask = io_control_active_mask | 2;
      lamp_2_blink_counter = 1;
    }
    else if (lamp_2_blink_counter == lamp_blink_on_duration) {
      io_control_active_mask = io_control_active_mask & 0xfffd;
      lamp_2_blink_counter = lamp_2_blink_counter + 1;
    }
    else if (((uint)lamp_blink_on_duration + (uint)lamp_blink_off_duration) - 1 ==
             (uint)lamp_2_blink_counter) {
      lamp_2_blink_counter = 0;
    }
    else {
      lamp_2_blink_counter = lamp_2_blink_counter + 1;
    }
    diagnostic_queue_pending_flag_1 = 1;
  }
  if (lamp_3_blink_trigger == 0) {
    if (diagnostic_queue_pending_flag_2 != 0) {
      diagnostic_queue_pending_flag_2 = 0;
      lamp_3_blink_counter = 0;
      io_control_active_mask = io_control_active_mask & 0xfffb;
    }
  }
  else {
    uVar1 = 0;
    if (lamp_3_blink_counter == 0) {
      io_control_active_mask = io_control_active_mask | 4;
      lamp_3_blink_counter = 1;
    }
    else if (lamp_3_blink_counter == lamp_blink_on_duration) {
      io_control_active_mask = io_control_active_mask & 0xfffb;
      lamp_3_blink_counter = lamp_3_blink_counter + 1;
    }
    else if (((uint)lamp_blink_on_duration + (uint)lamp_blink_off_duration) - 1 ==
             (uint)lamp_3_blink_counter) {
      lamp_3_blink_counter = 0;
    }
    else {
      lamp_3_blink_counter = lamp_3_blink_counter + 1;
    }
    diagnostic_queue_pending_flag_2 = 1;
  }
  return uVar1;
}



//
// Function: ioControlDigitDisplaySequencer @ 0x0001d9ea
//

uint ioControlDigitDisplaySequencer(undefined4 param_1)

{
  ushort uVar1;
  undefined3 uVar2;
  uint in_D0;
  
  if (fault_code_display_value == 0) {
    io_control_active_mask = io_control_active_mask & 0xfffe | 2;
    fault_code_display_value = 1;
    digit_display_hundreds_digit = (byte)(param_1._0_2_ / 100);
    digit_display_tens_digit = (char)(param_1._0_2_ / 10) + digit_display_hundreds_digit * -10;
    uVar1 = (short)(param_1._0_2_ / 10) * 10;
    in_D0 = (uint)uVar1;
    digit_display_ones_digit = (char)((uint)param_1 >> 0x10) - (char)uVar1;
  }
  else {
    uVar2 = (undefined3)(in_D0 >> 8);
    if (fault_code_display_value == 0x28) {
      io_control_active_mask = io_control_active_mask & 0xfffd;
      in_D0 = CONCAT31(uVar2,digit_display_sequencer_state);
      if (digit_display_sequencer_state == digit_display_hundreds_digit) {
        digit_display_sequencer_state = 0;
        fault_code_display_value = 0x29;
      }
      else {
        in_D0 = ioControlToggleCycle();
        if ((char)in_D0 != '\0') {
          digit_display_sequencer_state = digit_display_sequencer_state + 1;
        }
      }
    }
    else if (fault_code_display_value == 0x50) {
      in_D0 = CONCAT31(uVar2,digit_display_sequencer_state);
      if (digit_display_sequencer_state == digit_display_tens_digit) {
        digit_display_sequencer_state = 0;
        fault_code_display_value = 0x51;
      }
      else {
        in_D0 = ioControlToggleCycle();
        if ((char)in_D0 != '\0') {
          digit_display_sequencer_state = digit_display_sequencer_state + 1;
        }
      }
    }
    else if (fault_code_display_value == 0x78) {
      in_D0 = CONCAT31(uVar2,digit_display_sequencer_state);
      if (digit_display_sequencer_state == digit_display_ones_digit) {
        digit_display_sequencer_state = 0;
        fault_code_display_value = 0x79;
      }
      else {
        in_D0 = ioControlToggleCycle();
        if ((char)in_D0 != '\0') {
          digit_display_sequencer_state = digit_display_sequencer_state + 1;
        }
      }
    }
    else {
      if (fault_code_display_value != 0xa0) {
        fault_code_display_value = fault_code_display_value + 1;
        return 1;
      }
      fault_code_display_value = 0;
    }
  }
  return in_D0 & 0xffffff00;
}



//
// Function: activeFaultCodeIteratorForward @ 0x0001dae8
//

byte activeFaultCodeIteratorForward(undefined4 param_1)

{
  byte bVar1;
  
  if (diagnostic_pending_code_count == 0) {
    bVar1 = 0x7d;
  }
  else {
    if ((param_1._1_1_ == '}') ||
       (active_fault_code_iterator = active_fault_code_iterator + 1,
       diagnostic_state_machine_index < active_fault_code_iterator)) {
      active_fault_code_iterator = 1;
    }
    bVar1 = (&diagnostic_pending_code_count)[(short)(ushort)active_fault_code_iterator];
  }
  return bVar1;
}



//
// Function: activeFaultCodeIteratorBackward @ 0x0001db2e
//

byte activeFaultCodeIteratorBackward(undefined4 param_1)

{
  byte bVar1;
  
  if (diagnostic_pending_code_count == 0) {
    bVar1 = 0x7d;
  }
  else {
    if ((param_1._1_1_ == '}') ||
       (active_fault_code_iterator = active_fault_code_iterator - 1, active_fault_code_iterator == 0
       )) {
      active_fault_code_iterator = (byte)diagnostic_state_machine_index;
    }
    bVar1 = (&diagnostic_pending_code_count)[(short)(ushort)active_fault_code_iterator];
  }
  return bVar1;
}



//
// Function: faultCodeDisplayController @ 0x0001db66
//

uint faultCodeDisplayController(void)

{
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  undefined3 extraout_var_01;
  byte bVar2;
  uint uVar1;
  undefined4 unaff_D2;
  undefined2 uVar3;
  
  uVar3 = (undefined2)((uint)unaff_D2 >> 0x10);
  if (((derate_status_byte & 0x80) != 0) && (engine_operating_mode == ENGINE_IDLE)) {
    fault_code_display_mode = 1;
    if (((derate_status_byte & 0x80) == 0) || (diagnostic_queue_counter_2 != 0)) {
      if (((derate_status_byte & 0x20) == 0) || (diagnostic_queue_counter_1 != 0)) {
        uVar1 = 0;
        if (((derate_status_byte & 0x40) != 0) && (fault_code_display_counter == 0)) {
          bVar2 = activeFaultCodeIteratorBackward((uint)CONCAT12(fault_code_display_state,uVar3));
          uVar1 = CONCAT31(extraout_var_01,bVar2);
          if ((bVar2 != 0x7d) &&
             (uVar1 = 0, (*(ushort *)(&dtc_fault_table_base + (uint)bVar2 * 6) & 0x40) == 0)) {
            io_control_active_mask = io_control_active_mask & 0xfffc;
            fault_code_display_value = 0;
            io_toggle_cycle_counter = 0;
            digit_display_sequencer_state = 0;
            fault_code_display_state = bVar2;
          }
        }
      }
      else {
        bVar2 = activeFaultCodeIteratorForward((uint)CONCAT12(fault_code_display_state,uVar3));
        uVar1 = CONCAT31(extraout_var_00,bVar2);
        if ((bVar2 != 0x7d) &&
           (uVar1 = 0, (*(ushort *)(&dtc_fault_table_base + (uint)bVar2 * 6) & 0x40) == 0)) {
          io_control_active_mask = io_control_active_mask & 0xfffc;
          fault_code_display_value = 0;
          io_toggle_cycle_counter = 0;
          digit_display_sequencer_state = 0;
          fault_code_display_state = bVar2;
        }
      }
    }
    else {
      bVar2 = activeFaultCodeIteratorForward((uint)CONCAT12(fault_code_display_state,uVar3));
      uVar1 = CONCAT31(extraout_var,bVar2);
      if ((bVar2 != 0x7d) &&
         (uVar1 = 0, (*(ushort *)(&dtc_fault_table_base + (uint)bVar2 * 6) & 0x40) == 0)) {
        io_control_active_mask = io_control_active_mask & 0xfff8;
        fault_code_display_value = 0;
        io_toggle_cycle_counter = 0;
        digit_display_sequencer_state = 0;
        fault_code_display_state = bVar2;
      }
    }
    if (fault_code_display_state == 0x7d) {
      io_control_active_mask = io_control_active_mask | 3;
    }
    else {
      uVar1 = ioControlDigitDisplaySequencer
                        (CONCAT22((&diagnostic_fault_parameter_array)
                                  [(uint)fault_code_display_state * 3],uVar3));
    }
    return uVar1 & 0xffffff00;
  }
  if (fault_code_display_mode != 0) {
    fault_code_display_mode = 0;
    io_control_active_mask = io_control_active_mask & 0xfffc;
  }
  return 1;
}



//
// Function: activeFaultLampStateMachine @ 0x0001dd00
//

void activeFaultLampStateMachine(void)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  bool bVar4;
  bool bVar5;
  bool bVar6;
  byte bVar7;
  
  bVar6 = false;
  bVar1 = false;
  bVar3 = false;
  bVar2 = false;
  bVar5 = false;
  bVar4 = false;
  for (bVar7 = 1; bVar7 <= diagnostic_pending_code_count; bVar7 = bVar7 + 1) {
    if (((*(ushort *)
           (&dtc_fault_table_base + (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6
           ) & 1) == 0) ||
       ((*(ushort *)
          (&dtc_fault_table_base + (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6)
        & 0x40) != 0)) {
      if (((*(ushort *)
             (&dtc_fault_table_base +
             (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 2) == 0) ||
         ((*(ushort *)
            (&dtc_fault_table_base +
            (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 0x40) != 0)) {
        if (((*(ushort *)
               (&dtc_fault_table_base +
               (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 4) != 0) &&
           ((*(ushort *)
              (&dtc_fault_table_base +
              (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 0x40) == 0)) {
          if ((*(ushort *)
                (&dtc_fault_table_base +
                (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 8) == 0) {
            bVar5 = true;
          }
          else {
            bVar4 = true;
          }
        }
      }
      else if ((*(ushort *)
                 (&dtc_fault_table_base +
                 (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 8) == 0) {
        bVar3 = true;
      }
      else {
        bVar2 = true;
      }
    }
    else if ((*(ushort *)
               (&dtc_fault_table_base +
               (uint)(&diagnostic_pending_code_count)[(short)(ushort)bVar7] * 6) & 8) == 0) {
      bVar6 = true;
    }
    else {
      bVar1 = true;
    }
  }
  if (bVar1) {
    if (lamp_1_blink_counter == 0) {
      io_control_active_mask = io_control_active_mask | 1;
      lamp_1_blink_counter = 1;
    }
    else if (lamp_1_blink_counter == lamp_blink_on_duration) {
      io_control_active_mask = io_control_active_mask & 0xfffe;
      lamp_1_blink_counter = lamp_1_blink_counter + 1;
    }
    else if ((uint)lamp_blink_on_duration + (uint)lamp_blink_off_duration ==
             (uint)lamp_1_blink_counter) {
      lamp_1_blink_counter = 0;
    }
    else {
      lamp_1_blink_counter = lamp_1_blink_counter + 1;
    }
  }
  else if (bVar6) {
    io_control_active_mask = io_control_active_mask | 1;
  }
  else {
    io_control_active_mask = io_control_active_mask & 0xfffe;
  }
  if (bVar2) {
    if (lamp_2_blink_counter == 0) {
      io_control_active_mask = io_control_active_mask | 2;
      lamp_2_blink_counter = 1;
    }
    else if (lamp_2_blink_counter == lamp_blink_on_duration) {
      io_control_active_mask = io_control_active_mask & 0xfffd;
      lamp_2_blink_counter = lamp_2_blink_counter + 1;
    }
    else if ((uint)lamp_blink_on_duration + (uint)lamp_blink_off_duration ==
             (uint)lamp_2_blink_counter) {
      lamp_2_blink_counter = 0;
    }
    else {
      lamp_2_blink_counter = lamp_2_blink_counter + 1;
    }
  }
  else if (bVar3) {
    io_control_active_mask = io_control_active_mask | 2;
  }
  else {
    io_control_active_mask = io_control_active_mask & 0xfffd;
  }
  if (bVar4) {
    if (lamp_3_blink_counter == 0) {
      io_control_active_mask = io_control_active_mask | 4;
      lamp_3_blink_counter = 1;
    }
    else if (lamp_3_blink_counter == lamp_blink_on_duration) {
      io_control_active_mask = io_control_active_mask & 0xfffb;
      lamp_3_blink_counter = lamp_3_blink_counter + 1;
    }
    else if (((uint)lamp_blink_on_duration + (uint)lamp_blink_off_duration) - 1 ==
             (uint)lamp_3_blink_counter) {
      lamp_3_blink_counter = 0;
    }
    else {
      lamp_3_blink_counter = lamp_3_blink_counter + 1;
    }
  }
  else if (bVar5) {
    io_control_active_mask = io_control_active_mask | 4;
  }
  else {
    io_control_active_mask = io_control_active_mask & 0xfffb;
  }
  return;
}



//
// Function: faultLampBlinkPatternGenerator @ 0x0001dfc2
//

void faultLampBlinkPatternGenerator(void)

{
  if (fault_lamp_blink_pattern_state < 5) {
    if (fault_lamp_blink_counter < 6) {
      io_control_active_mask = io_control_active_mask | 4;
    }
    else if ((fault_lamp_blink_counter < 6) || (0xb < fault_lamp_blink_counter)) {
      if ((fault_lamp_blink_counter < 0xc) || (0x11 < fault_lamp_blink_counter)) {
        if ((fault_lamp_blink_counter < 0x12) || (0x17 < fault_lamp_blink_counter)) {
          if ((fault_lamp_blink_counter < 0x18) || (0x1d < fault_lamp_blink_counter)) {
            if ((fault_lamp_blink_counter < 0x1e) || (0x23 < fault_lamp_blink_counter)) {
              fault_lamp_blink_counter = 0;
              fault_lamp_blink_pattern_state = fault_lamp_blink_pattern_state + 1;
              return;
            }
            io_control_active_mask = io_control_active_mask & 0xfffb;
          }
          else {
            io_control_active_mask = io_control_active_mask | 4;
          }
        }
        else {
          io_control_active_mask = io_control_active_mask & 0xfffb;
        }
      }
      else {
        io_control_active_mask = io_control_active_mask | 4;
      }
    }
    else {
      io_control_active_mask = io_control_active_mask & 0xfffb;
    }
    fault_lamp_blink_counter = fault_lamp_blink_counter + 1;
  }
  return;
}



//
// Function: waitToStartLampBlinkPattern @ 0x0001e050
//

void waitToStartLampBlinkPattern(void)

{
  if (lamp_flash_timer_state < 6) {
    io_control_active_mask = io_control_active_mask | 2;
    wait_to_start_lamp_state = 1;
  }
  else if ((lamp_flash_timer_state < 6) || (0x17 < lamp_flash_timer_state)) {
    if ((lamp_flash_timer_state < 0x18) || (0x1d < lamp_flash_timer_state)) {
      if ((lamp_flash_timer_state < 0x1e) || (0x2f < lamp_flash_timer_state)) {
        if ((lamp_flash_timer_state < 0x30) || (0x35 < lamp_flash_timer_state)) {
          if ((lamp_flash_timer_state < 0x36) || (0x47 < lamp_flash_timer_state)) {
            wait_to_start_lamp_state = 0;
          }
          else {
            io_control_active_mask = io_control_active_mask & 0xfffd;
          }
        }
        else {
          io_control_active_mask = io_control_active_mask | 2;
        }
      }
      else {
        io_control_active_mask = io_control_active_mask & 0xfffd;
      }
    }
    else {
      io_control_active_mask = io_control_active_mask | 2;
    }
  }
  else {
    io_control_active_mask = io_control_active_mask & 0xfffd;
  }
  lamp_flash_timer_state = lamp_flash_timer_state + 1;
  return;
}



//
// Function: periodicLampFlashController @ 0x0001e0d6
//

void periodicLampFlashController(void)

{
  if (diagnostic_pending_flag == 0) {
    lamp_flash_controller_state = lamp_flash_controller_state + 1;
    if (36000 < lamp_flash_controller_state) {
      diagnostic_pending_flag = 1;
      lamp_flash_controller_state = 0;
      return;
    }
  }
  else {
    if (lamp_flash_controller_state < 0x14) {
      io_control_active_mask = io_control_active_mask | 4;
    }
    else if ((lamp_flash_controller_state < 0x14) || (0x4f < lamp_flash_controller_state)) {
      lamp_flash_cycle_counter = lamp_flash_cycle_counter + 1;
      lamp_flash_controller_state = 0;
    }
    else {
      io_control_active_mask = io_control_active_mask & 0xfffb;
    }
    lamp_flash_controller_state = lamp_flash_controller_state + 1;
    if (3 < lamp_flash_cycle_counter) {
      diagnostic_pending_flag = 0;
      lamp_flash_controller_state = 0;
      lamp_flash_cycle_counter = 0;
    }
  }
  return;
}



//
// Function: epsSignalQualityValidator @ 0x0001e140
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void epsSignalQualityValidator(void)

{
  uint uVar1;
  char cVar2;
  
  if (io_control_mask_state_active != 0) {
    ioControlMaskStateMachine();
    return;
  }
  uVar1 = faultCodeDisplayController();
  if ((char)uVar1 != '\0') {
    cVar2 = ioControlLampStateMachine();
    if (cVar2 != '\0') {
      fault_code_display_state = 0x7d;
      activeFaultLampStateMachine();
    }
  }
  if (io_control_state_0 < 0x191) {
    io_control_state_0 = io_control_state_0 + 1;
  }
  if (((99 < io_control_state_0) && (io_control_state_0 < 400)) &&
     (eps_period_backup_time_between_the_two_most_recent_eps_200_16777216 != 0)) {
    faultLampBlinkPatternGenerator();
  }
  if ((_crank_state_active_flag != 0) || (wait_to_start_lamp_state != 0)) {
    waitToStartLampBlinkPattern();
  }
  if (((eps_signal_quality_threshold != 0) &&
      (eps_period_backup_time_between_the_two_most_recent_eps_200_16777216 != 0)) &&
     (engine_operating_mode == HIGH_RPM_RUNNING)) {
    periodicLampFlashController();
  }
  diagnostic_queue_counter_1 = -((derate_status_byte & 0x20) != 0) & 1;
  fault_code_display_counter = -((derate_status_byte & 0x40) != 0) & 1;
  diagnostic_queue_counter_2 = -((derate_status_byte & 0x80) != 0) & 1;
  return;
}



//
// Function: camSyncDiagnosticProcessor @ 0x0001e210
//

void camSyncDiagnosticProcessor(void)

{
  uint uVar1;
  
  if (diagnostic_status_register == EPS_FAULT_MODE) {
    cam_sync_lost_duration_0_20 = coreTableInterpolation();
    uVar1 = ((uint)cam_sync_scaling_factor * (uint)cam_sync_lost_duration_0_20) / 0x7800;
    if ((uint)cam_sync_upper_limit < (uint)cam_sync_base_offset + (uVar1 & 0xffff)) {
      backup_signal_edge_time_stamp_0_65535 = cam_sync_base_offset;
    }
    else {
      backup_signal_edge_time_stamp_0_65535 = cam_sync_upper_limit - (short)uVar1;
    }
    if (derate_threshold_exceeded == 1) {
      if (cam_sync_derate_previous == 1) {
        main_signal_edge_time_stamp_0_65535 =
             cam_sync_increment_rate + main_signal_edge_time_stamp_0_65535;
        if (backup_signal_edge_time_stamp_0_65535 < main_signal_edge_time_stamp_0_65535) {
          main_signal_edge_time_stamp_0_65535 = backup_signal_edge_time_stamp_0_65535;
        }
      }
      else {
        main_signal_edge_time_stamp_0_65535 = cam_sync_default_value;
      }
    }
    else if (derate_threshold_exceeded == 0) {
      main_signal_edge_time_stamp_0_65535 = mask_used_for_can_msg_object_15_0_ffffffff;
    }
    cached_parameter_value = main_signal_edge_time_stamp_0_65535;
  }
  cam_sync_derate_previous = derate_threshold_exceeded;
  return;
}



//
// Function: epsDiagnosticModeChecker @ 0x0001e2d2
//

void epsDiagnosticModeChecker(undefined4 param_1)

{
  if ((((eps_diagnostic_mode_checker_param != 0) && (diagnostic_status_register == NORMAL_OPERATION)
       ) && ((((engine_fault_register_a & 2) != 0 && ((engine_fault_register_b & 2) != 0)) ||
             (((engine_fault_register_a & 4) != 0 && ((engine_fault_register_b & 4) != 0)))))) &&
     (diagnostic_status_register = EPS_FAULT_MODE, param_1._0_2_ != 6)) {
    epsDiagnosticSnapshotCapture();
  }
  return;
}



//
// Function: epsDiagnosticSnapshotCapture @ 0x0001e33a
//

void epsDiagnosticSnapshotCapture(void)

{
  main_signal_edge_time_stamp_0_65535 = current_fuel_demand_value;
  eps_diagnostic_rpm_snapshot = (uint)current_engine_rpm_raw << 0x10;
  return;
}



//
// Function: epsDiagnosticVariablesInit @ 0x0001e358
//

void epsDiagnosticVariablesInit(void)

{
  eps_diagnostic_rpm_snapshot = 0;
  eps_diagnostic_table_ptr = 0x808788;
  return;
}



//
// Function: epsTimingCalculationSlowCycle40Coordinator @ 0x0001e36a
//

void epsTimingCalculationSlowCycle40Coordinator(void)

{
  eps_timing_rpm_input_1 = current_engine_rpm;
  dzg_pressure_threshold_high =
       lookupTableInterpolation((table_interp_args_t *)&dzg_pressure_lookup_table_arg);
  eps_timing_rpm_input_2 = current_engine_rpm;
  eps_main_lost_duration_0_20 =
       lookupTableInterpolation((table_interp_args_t *)&eps_main_lookup_table_arg);
  return;
}



//
// Function: initLookupTablePointers1 @ 0x0001e3a8
//

void initLookupTablePointers1(void)

{
  eps_timing_table_2_ptr = 0x8087a4;
  eps_timing_table_1_ptr = 0x808796;
  dzg_pressure_lookup_table_arg = 2;
  eps_timing_table_4_ptr = 0x8087b2;
  eps_timing_table_3_ptr = 0x808796;
  eps_main_lookup_table_arg = 2;
  return;
}



//
// Function: governorFuelModeBlendCalculator @ 0x0001e3dc
//

void governorFuelModeBlendCalculator(void)

{
  ushort unaff_D2w;
  ushort unaff_D3w;
  undefined8 uVar1;
  
  if (fuel_timing_mode_blend_factor_965a != 0) {
    governor_blend_table_1_input = governor_rpm_target_adjusted;
    uVar1 = tableInterpolationLookup((short *)&governor_blend_table_1_type);
    unaff_D3w = (ushort)((ulonglong)uVar1 >> 0x20);
  }
  if (fuel_timing_mode_blend_factor_965a < 0x4000) {
    governor_blend_table_2_input = governor_rpm_target_adjusted;
    uVar1 = tableInterpolationLookup((short *)&governor_blend_table_2_type);
    unaff_D2w = (ushort)((ulonglong)uVar1 >> 0x20);
  }
  if (fuel_timing_mode_blend_factor_965a == 0x4000) {
    governor_fuel_blend_output = unaff_D3w;
    return;
  }
  if (fuel_timing_mode_blend_factor_965a == 0) {
    governor_fuel_blend_output = unaff_D2w;
    return;
  }
  governor_fuel_blend_output =
       unaff_D2w +
       (short)((uint)fuel_timing_mode_blend_factor_965a * ((uint)unaff_D3w - (uint)unaff_D2w) >> 0xe
              );
  return;
}



//
// Function: governorFuelPidController @ 0x0001e462
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void governorFuelPidController(void)

{
  bool bVar1;
  dword dVar2;
  word wVar3;
  word wVar4;
  short sVar6;
  int iVar5;
  undefined4 local_8;
  
  if (fuel_arbitrator_diag_t_0080cff8.rpm_target == 0) {
    governor_rpm_error_value = fuel_timing_offset_value;
  }
  else {
    governor_rpm_error_value = fuel_timing_offset_min_limit;
  }
  sVar6 = coreTableInterpolation();
  wVar3 = eps_external_lost_duration_0_20;
  governor_rpm_target_adjusted = governor_rpm_error_value + sVar6;
  if (governor_rpm_target_max < governor_rpm_target_adjusted) {
    governor_rpm_target_adjusted = governor_rpm_target_max;
  }
  governor_rpm_target_adjusted = governor_rpm_target_adjusted - governor_pid_min_clamp;
  if ((diagnostic_fuel_control_mode == 0xb) || (current_engine_rpm < fuel_timing_offset_value)) {
    eps_external_lost_duration_0_20 = exponentialMovingAverage();
    wVar4 = eps_control_mode_param_1;
    if ((short)governor_pid_integral_limit_low < (short)eps_external_lost_duration_0_20) {
      eps_external_lost_duration_0_20 = governor_pid_integral_limit_low;
      governor_pid_integral_fractional =
           (short)governor_pid_integral_limit_low * 0x10000 + 0x80000000;
    }
    else if ((short)eps_external_lost_duration_0_20 < (short)governor_pid_integral_limit_high) {
      eps_external_lost_duration_0_20 = governor_pid_integral_limit_high;
      governor_pid_integral_fractional =
           (short)governor_pid_integral_limit_high * 0x10000 + 0x80000000;
    }
    epsControlModeSelector();
    if (((int)((int)(short)governor_pid_error_term + (uint)governor_rpm_error_value) <
         (int)(uint)current_engine_rpm) &&
       (diagnostic_rpm_threshold_status < governor_pid_output_limit)) {
      governor_fuel_pid_integral = (uint)governor_pid_scale_factor << 0x10;
      eps_external_lost_duration_0_20 = 0;
      governor_pid_integral_fractional = 0x80000000;
    }
    else {
      governor_pid_proportional_term_d060 =
           (word)(((int)(short)eps_external_lost_duration_0_20 *
                  (int)(short)eps_control_mode_param_1) / 0x3c0);
      iVar5 = (int)(short)eps_control_mode_param_3 *
              ((int)(short)eps_external_lost_duration_0_20 - (int)(short)wVar3);
      if (iVar5 < 0x783f0f) {
        if (iVar5 < -0x783fff) {
          governor_pid_derivative_term_d062 = 0x8000;
        }
        else {
          governor_pid_derivative_term_d062 =
               (word)((((int)(short)eps_external_lost_duration_0_20 - (int)(short)wVar3) *
                      (int)(short)eps_control_mode_param_3) / 0xf0);
        }
      }
      else {
        governor_pid_derivative_term_d062 = 0x7fff;
      }
      governorFuelModeBlendCalculator();
      eps_raw_period_backup_raw_time_between_teeth_not_norm_d_to_1_200000._2_2_ =
           governor_fuel_blend_output + governor_pid_fuel_sum_previous;
      if ((short)eps_raw_period_backup_raw_time_between_teeth_not_norm_d_to_1_200000._2_2_ < 0) {
        eps_raw_period_backup_raw_time_between_teeth_not_norm_d_to_1_200000._2_2_ = 0;
      }
      cam_sync_backup_lost_duration_duration_in_no_sync_state_0_20 =
           governor_fuel_blend_output + governor_pid_derivative_term_87d0;
      local_8._2_2_ = (word)(((int)(short)eps_control_mode_param_1 - (int)(short)wVar4) * 0x44 >> 3)
      ;
      dVar2 = governor_fuel_pid_integral +
              (int)(short)eps_external_lost_duration_0_20 *
              (int)(short)(eps_control_mode_param_2 << 2) +
              (int)(short)eps_external_lost_duration_0_20 * (int)(short)local_8._2_2_ * -8 +
              _fuel_delivery_offset_correction * -0x10000;
      governor_fuel_pid_integral._0_2_ = (short)(dVar2 >> 0x10);
      if (governor_fuel_pid_integral._0_2_ <
          (short)cam_sync_backup_lost_duration_duration_in_no_sync_state_0_20) {
        bVar1 = governor_fuel_pid_integral._0_2_ < (short)governor_pid_integral_min;
        governor_fuel_pid_integral = dVar2;
        if (bVar1) {
          governor_fuel_pid_integral = (uint)governor_pid_integral_min << 0x10;
        }
      }
      else {
        governor_fuel_pid_integral =
             (uint)cam_sync_backup_lost_duration_duration_in_no_sync_state_0_20 << 0x10;
      }
      eps_raw_period_backup_raw_time_between_teeth_not_norm_d_to_1_200000._0_2_ =
           governor_fuel_pid_integral._0_2_;
      local_8 = (int)governor_fuel_pid_integral._0_2_ +
                (int)(short)governor_pid_derivative_term_d062 +
                (int)(short)governor_pid_proportional_term_d060;
      if ((vp44_flag_register_1 & 0x200) != 0) {
        local_8 = (uint)fsmxthfl_calc_input + local_8;
      }
      if ((int)(uint)eps_raw_period_backup_raw_time_between_teeth_not_norm_d_to_1_200000._2_2_ <
          local_8) {
        _eps_backup_lost_duration_0_20 =
             eps_raw_period_backup_raw_time_between_teeth_not_norm_d_to_1_200000._2_2_;
      }
      else if (local_8 < (int)(uint)eps_backup_duration_init) {
        _eps_backup_lost_duration_0_20 = eps_backup_duration_init;
      }
      else {
        _eps_backup_lost_duration_0_20 = local_8._2_2_;
      }
      if (diagnostic_fuel_control_mode == 0xb) {
        diagnostic_rpm_threshold_status = _eps_backup_lost_duration_0_20;
      }
    }
  }
  return;
}



//
// Function: governorPidFuelCalculator @ 0x0001e78e
//

void governorPidFuelCalculator(void)

{
  word wVar1;
  word *pwVar2;
  word wStack_6;
  
  pwVar2 = (word *)((uint)governor_pid_max_clamp * (uint)active_derate_value);
  if (&governor_pid_fuel_lookup_table < pwVar2) {
    pwVar2 = &governor_pid_fuel_lookup_table;
  }
  governor_pid_fuel_scaled = (int)pwVar2 << 0x10;
  wStack_6 = (word)((int)(short)governor_pid_integral_term *
                    ((int)(short)governor_rpm_target_adjusted - (int)(short)current_engine_rpm) >> 9
                   );
  if ((short)governor_pid_integral_limit_low < (short)wStack_6) {
    wStack_6 = governor_pid_integral_limit_low;
  }
  else if ((short)wStack_6 < (short)governor_pid_integral_limit_high) {
    wStack_6 = governor_pid_integral_limit_high;
  }
  governor_pid_integral_fractional = (short)wStack_6 * 0x10000 + 0x80000000;
  eps_external_lost_duration_0_20 = wStack_6;
  epsInitializationWrapper();
  governorFuelModeBlendCalculator();
  crank_sync_backup_lost_duration_amount_of_time_crank_sync_lost_1_20 =
       governor_fuel_blend_output + governor_pid_proportional_term_87c4;
  governor_fuel_pid_integral._0_2_ =
       current_fuel_demand_value -
       (short)(((int)(short)eps_external_lost_duration_0_20 *
               (int)(short)eps_control_mode_duration_value_8804) / 0x3c0);
  if ((vp44_flag_register_1 & 0x200) != 0) {
    governor_fuel_pid_integral._0_2_ = governor_fuel_pid_integral._0_2_ - fsmxthfl_calc_input;
  }
  wVar1 = crank_sync_backup_lost_duration_amount_of_time_crank_sync_lost_1_20;
  if (((short)governor_fuel_pid_integral._0_2_ <=
       (short)crank_sync_backup_lost_duration_amount_of_time_crank_sync_lost_1_20) &&
     (wVar1 = governor_fuel_pid_integral._0_2_,
     (short)governor_fuel_pid_integral._0_2_ < (short)governor_pid_integral_max)) {
    governor_fuel_pid_integral._0_2_ = governor_pid_integral_max;
    wVar1 = governor_fuel_pid_integral._0_2_;
  }
  governor_fuel_pid_integral._0_2_ = wVar1;
  governor_fuel_pid_integral._2_2_ = 0;
  return;
}



//
// Function: intakeTemperatureTablesInit @ 0x0001e8a6
//

void intakeTemperatureTablesInit(void)

{
  eps_governor_table_ptr_1 = 0x8087e2;
  eps_governor_table_ptr_2 = 0x8087c8;
  epsControlModeInit();
  governor_blend_table_1_x_ptr = 0x807f42;
  governor_blend_table_1_type = 2;
  intake_temp_table_1_count = 400;
  intake_temp_table_1_x_ptr = 0x807f68;
  intake_temp_table_1_type = 2;
  intake_temp_table_1_y_ptr =
       (dword)&lower_limitation_of_intake_manifold_temperature_to_inhibit_50_to_293;
  governor_blend_table_2_x_ptr = 0x808002;
  governor_blend_table_2_type = 2;
  intake_temp_table_2_count = 400;
  intake_temp_table_2_x_ptr = 0x808028;
  intake_temp_table_2_type = 2;
  intake_temp_table_2_y_ptr = 0x808032;
  return;
}



//
// Function: epsAccelerationMonitor @ 0x0001e92e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint epsAccelerationMonitor(void)

{
  undefined2 uVar1;
  uint uVar2;
  word wVar3;
  
  wVar3 = eps_external_lost_duration_0_20;
  if ((short)eps_external_lost_duration_0_20 < 0) {
    wVar3 = -eps_external_lost_duration_0_20;
  }
  uVar2 = (uint)(short)wVar3;
  if ((int)(uint)eps_accel_threshold_lower < (int)uVar2) {
    eps_acceleration_timer_1 = 0;
    eps_acceleration_timer_2 = 0;
  }
  else {
    if (eps_acceleration_timer_1 < eps_acceleration_timer_threshold) {
      eps_acceleration_timer_1 = eps_acceleration_timer_1 + 1;
    }
    uVar2 = CONCAT22((short)wVar3 >> 0xf,throttle_position_value);
    if (throttle_position_value < throttle_position_threshold) {
      uVar2 = CONCAT22((short)wVar3 >> 0xf,eps_acceleration_timer_2);
      if (eps_acceleration_timer_2 < eps_acceleration_timer_threshold) {
        eps_acceleration_timer_2 = eps_acceleration_timer_2 + 1;
      }
      else {
        eps_acceleration_timer_2 = 0;
      }
    }
  }
  if (eps_acceleration_active_flag != 0) {
    uVar2 = CONCAT22((short)(uVar2 >> 0x10),eps_acceleration_timer_2);
    if (eps_acceleration_timer_2 == eps_acceleration_timer_threshold) {
      eps_acceleration_active_flag = 0;
      eps_rpm_tracking_state = 0;
    }
    goto LAB_0001ea26;
  }
  if (eps_rpm_tracking_state == 1) {
    uVar2 = (int)(short)eps_accel_duration_counter + (uint)governor_rpm_error_value;
    if (((int)(uint)current_engine_rpm <= (int)uVar2) ||
       (uVar2 = derate_status_byte & 4, (derate_status_byte & 4) != 0)) {
      uVar1 = (undefined2)(uVar2 >> 0x10);
      uVar2 = CONCAT22(uVar1,throttle_position_value);
      if ((throttle_position_value < throttle_position_threshold) ||
         (uVar2 = CONCAT22(uVar1,eps_acceleration_timer_1),
         eps_acceleration_timer_1 != eps_acceleration_timer_threshold)) goto LAB_0001e9f8;
    }
  }
  else {
LAB_0001e9f8:
    uVar2 = CONCAT22((short)(uVar2 >> 0x10),throttle_position_value);
    if (throttle_position_value <= eps_accel_threshold_upper) goto LAB_0001ea26;
  }
  eps_acceleration_active_flag = 1;
LAB_0001ea26:
  if (eps_acceleration_active_flag == 0) {
    if (eps_acceleration_monitor_value == 0) {
      uVar1 = (undefined2)(uVar2 >> 0x10);
      uVar2 = CONCAT22(uVar1,fuel_demand_control_flags) & 0xffff1000;
      if (((fuel_demand_control_flags & 0x1000) != 0) &&
         ((uVar2 = CONCAT22(uVar1,eps_external_lost_duration_0_20),
          (short)eps_duration_upper_limit < (short)eps_external_lost_duration_0_20 ||
          ((uVar2 = CONCAT22(uVar1,eps_external_lost_duration_0_20),
           (short)eps_duration_lower_limit < (short)eps_external_lost_duration_0_20 &&
           (uVar2 = (int)(short)rpm_offset_adjustment + (uint)current_engine_rpm,
           (int)uVar2 < (int)(uint)eps_previous_engine_rpm)))))) {
        eps_acceleration_monitor_value = 1;
      }
    }
    else if ((eps_acceleration_monitor_value == 1) &&
            ((uVar2 = (int)(short)eps_duration_lower_limit - (int)(short)eps_accel_mode_state,
             (int)(short)eps_external_lost_duration_0_20 < (int)uVar2 ||
             ((uVar2 = CONCAT22((short)(uVar2 >> 0x10),eps_external_lost_duration_0_20),
              (short)eps_external_lost_duration_0_20 < (short)eps_duration_upper_limit &&
              (uVar2 = (int)(short)rpm_offset_adjustment + (uint)eps_previous_engine_rpm,
              (int)uVar2 < (int)(uint)current_engine_rpm)))))) {
      eps_acceleration_monitor_value = 0;
    }
  }
  if (eps_acceleration_monitor_value == 1) {
    eps_rpm_tracking_state = 1;
    _eps_acceleration_monitor_state = 0x8087fe;
  }
  eps_previous_engine_rpm = current_engine_rpm;
  return uVar2;
}



//
// Function: epsRpmTrackingInit @ 0x0001eade
//

void epsRpmTrackingInit(void)

{
  eps_previous_engine_rpm = current_engine_rpm;
  eps_acceleration_timer_1 = 0;
  eps_acceleration_timer_2 = 0;
  return;
}



//
// Function: epsControlModeReset @ 0x0001eaf6
//

void epsControlModeReset(void)

{
  eps_rpm_tracking_state = 0;
  return;
}



//
// Function: epsOverrideChecker @ 0x0001eafe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint epsOverrideChecker(undefined4 param_1)

{
  uint in_D0;
  
  if (param_1._0_2_ != 0) {
    return 1;
  }
  if (eps_override_checker_state != 0) {
    eps_override_output_state = eps_override_checker_state;
    _eps_control_mode_selector_state_d08e = &eps_control_mode_init_value_2;
    return 1;
  }
  return in_D0 & 0xffff0000;
}



//
// Function: epsControlModeSelector @ 0x0001eb2a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void epsControlModeSelector(void)

{
  int iVar1;
  uint uVar2;
  undefined4 unaff_D2;
  undefined2 uVar3;
  
  uVar3 = (undefined2)((uint)unaff_D2 >> 0x10);
  epsAccelerationMonitor();
  iVar1 = epsRpmTargetModeChecker();
  uVar2 = epsOverrideChecker(CONCAT22((short)iVar1,uVar3));
  if ((short)uVar2 == 0) {
    eps_override_output_state = eps_acceleration_monitor_value;
    if (eps_acceleration_monitor_value == 0) {
      _eps_control_mode_selector_state_d08e = &eps_control_mode_duration_value_8804;
    }
    else {
      _eps_control_mode_selector_state_d08e = _eps_acceleration_monitor_state;
    }
  }
  eps_control_mode_param_1 = *_eps_control_mode_selector_state_d08e;
  eps_control_mode_param_2 = _eps_control_mode_selector_state_d08e[1];
  eps_control_mode_param_3 = _eps_control_mode_selector_state_d08e[2];
  return;
}



//
// Function: epsInitializationWrapper @ 0x0001eb86
//

void epsInitializationWrapper(void)

{
  epsRpmTrackingInit();
  epsCounterReset();
  return;
}



//
// Function: epsControlModeInit @ 0x0001eb94
//

void epsControlModeInit(void)

{
  epsControlModeReset();
  eps_acceleration_monitor_value = 0;
  eps_control_mode_init_value_2 = eps_control_mode_duration_value_8804;
  eps_control_mode_init_value_1 = eps_control_mode_duration_value_8806;
  eps_control_mode_init_state = eps_control_mode_selector_state_8808._0_2_;
  return;
}



//
// Function: epsDiagnosticModeHandler @ 0x0001ebcc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void epsDiagnosticModeHandler(void)

{
  undefined2 uStack_6;
  
  if ((diagnostic_fuel_control_mode == 0xb) && (eps_acceleration_active_flag == 1)) {
    if (((short)eps_diagnostic_lower_limit < (short)eps_external_lost_duration_0_20) ||
       (((short)eps_external_lost_duration_0_20 < (short)eps_diagnostic_upper_limit ||
        (fuel_temp_protection_threshold_flag != 0)))) {
      eps_acceleration_monitor_value = 0;
      eps_diagnostic_mode_counter = 0;
    }
    else {
      if (eps_diagnostic_mode_counter < eps_diagnostic_counter_limit) {
        eps_diagnostic_mode_counter = eps_diagnostic_mode_counter + 1;
      }
      uStack_6 = (short)((uint)throttle_position_filtered * (uint)vp44_fault_calc_factor_2 >> 0xb);
      if (eps_control_mode_selector_state_8808._2_2_ < uStack_6) {
        eps_acceleration_monitor_value = 0;
      }
      else if ((((eps_acceleration_monitor_value == 0) &&
                (eps_diagnostic_mode_counter == eps_diagnostic_counter_limit)) &&
               ((fuel_demand_control_flags & 0x4000) != 0)) &&
              ((int)uStack_6 <
               (int)eps_control_mode_selector_state_8808._2_2_ - (int)(short)eps_fuel_demand_delta))
      {
        if (((fuel_demand_control_flags & 0x2000) == 0) ||
           ((short)eps_fuel_demand_threshold < uStack_6)) {
          eps_acceleration_monitor_value = 2;
          _eps_acceleration_monitor_state = 0x80881c;
        }
        else if ((int)uStack_6 <
                 (int)(short)eps_fuel_demand_threshold - (int)(short)eps_fuel_demand_delta) {
          eps_acceleration_monitor_value = 3;
          _eps_acceleration_monitor_state = 0x808816;
        }
      }
    }
  }
  return;
}



//
// Function: epsCounterReset @ 0x0001ecee
//

void epsCounterReset(void)

{
  eps_diagnostic_mode_counter = 0;
  return;
}



//
// Function: fuelTimingOffsetCalculator @ 0x0001ecf6
//

void fuelTimingOffsetCalculator(void)

{
  if (((diagnostic_system_flags_1 & 8) == 0) ||
     (((io_fault_status_reg_4 & 2) != 0 && ((fault_mask_flags_1 & 2) != 0)))) {
    fuel_timing_offset_state = 0;
  }
  else if ((derate_bit5_status_latch == 0) && ((derate_status_byte & 0x20) != 0)) {
    fuel_timing_offset_state = fuel_timing_offset_step + fuel_timing_offset_state;
    if ((short)fuel_timing_offset_max < (short)fuel_timing_offset_state) {
      fuel_timing_offset_state = fuel_timing_offset_max;
    }
  }
  else if (((derate_bit6_status_latch == 0) && ((derate_status_byte & 0x40) != 0)) &&
          (fuel_timing_offset_state = fuel_timing_offset_state - fuel_timing_offset_step,
          (short)fuel_timing_offset_state < (short)fuel_timing_offset_min)) {
    fuel_timing_offset_state = fuel_timing_offset_min;
  }
  fuel_timing_offset_value = fuel_timing_offset_state + governor_rpm_error_init_value;
  if (fuel_timing_offset_limit < fuel_timing_offset_value) {
    fuel_timing_offset_value = fuel_timing_offset_limit;
  }
  else if (fuel_timing_offset_value < fuel_timing_offset_min_limit) {
    fuel_timing_offset_value = fuel_timing_offset_min_limit;
  }
  if ((vp44_status_flags_2 & 1) == 0) {
    fuel_timing_offset_state_backup = 0;
  }
  else {
    fuel_timing_offset_state_backup = fuel_timing_offset_state;
  }
  derate_bit5_status_latch = -((derate_status_byte & 0x20) != 0) & 1;
  derate_bit6_status_latch = -((derate_status_byte & 0x40) != 0) & 1;
  return;
}



//
// Function: initVP44StatusFlags @ 0x0001ee02
//

ushort initVP44StatusFlags(void)

{
  if ((vp44_status_flags_2 & 1) == 0) {
    fuel_timing_offset_state_backup = 0;
  }
  engine_mode_timing_init_flag = 0;
  fuel_timing_offset_state = fuel_timing_offset_state_backup;
  return vp44_status_flags_2 & 1;
}



//
// Function: epsRpmTargetModeChecker @ 0x0001ee2c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

int epsRpmTargetModeChecker(void)

{
  ushort uVar1;
  undefined4 in_D0;
  
  uVar1 = (ushort)((uint)in_D0 >> 0x10);
  if ((fuel_arbitrator_diag_t_0080cff8.rpm_target != 0) &&
     (uVar1 = 0, (fuel_demand_control_flags & 0x8000) != 0)) {
    eps_override_output_state = 4;
    _eps_control_mode_selector_state_d08e = 0x808822;
    return 1;
  }
  return (uint)uVar1 << 0x10;
}



//
// Function: engineModeTimingAdjuster @ 0x0001ee5c
//

void engineModeTimingAdjuster(void)

{
  bool bVar1;
  bool bVar2;
  
  bVar2 = throttle_position_raw < engine_mode_timing_adjust_param_1;
  if ((vp44_status_flags_2 & 0x4000) == 0) {
    bVar1 = false;
  }
  else if (engine_mode_timing_init_flag == 0) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (engine_operating_mode == ENGINE_IDLE) {
    fuel_arbitrator_diag_timer = 0;
    if (bVar2) {
      engine_mode_timing_adjuster_state = engine_mode_timing_adjust_param_2;
    }
    else {
      engine_mode_timing_adjuster_state = 0;
    }
  }
  else if (engine_operating_mode != LOW_RPM_RUNNING) {
    if ((bVar2) && (fuel_arbitrator_diag_timer < fuel_arbitrator_timer_threshold)) {
      fuel_arbitrator_diag_timer = fuel_arbitrator_diag_timer + 1;
    }
    if ((engine_operating_mode == HIGH_RPM_RUNNING) &&
       ((fuel_arbitrator_timer_threshold <= fuel_arbitrator_diag_timer || (!bVar2)))) {
      if (engine_timing_decrement_step < engine_mode_timing_adjuster_state) {
        engine_mode_timing_adjuster_state =
             engine_mode_timing_adjuster_state - engine_timing_decrement_step;
      }
      else {
        engine_mode_timing_adjuster_state = 0;
      }
    }
  }
  if ((fuel_timing_offset_value < engine_mode_timing_adjuster_state) && (!bVar1)) {
    fuel_timing_offset_value = engine_mode_timing_adjuster_state;
  }
  return;
}



//
// Function: timingOffsetCalculatorWrapper @ 0x0001ef18
//

void timingOffsetCalculatorWrapper(void)

{
  fuelTimingOffsetCalculator();
  return;
}



//
// Function: qadcDataCollectionStateMachine @ 0x0001ef20
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void qadcDataCollectionStateMachine(void)

{
  byte bVar1;
  word *pwVar2;
  
  if (_qadc_collection_state_machine == 2) {
    if (TPU_PRAM_CH1_4 == 5) {
      if ((qadc_qadcivr & 1) == 0) {
        if (circular_buffer_count == 0) {
          _qadc_collection_state_machine = 0;
          qadc_circular_buffer_offset = parameter_circular_buffer_value;
          TPU_PRAM_CH1_4 = 3;
          TPU_PRAM_CH0_2 = 0xbd;
          TPU_PRAM_CH1_6 = parameter_circular_buffer_value;
          TPU_PRAM_CH0_3 = 0xfd;
        }
        else {
          _qadc_collection_state_machine = 1;
        }
      }
    }
    else {
      TPU_PRAM_CH1_4 = 5;
      TPU_PRAM_CH0_2 = 0xbd;
      TPU_PRAM_CH1_6 = 0;
      TPU_PRAM_CH0_3 = 0x3d;
      TPU_PRAM_CH1_8 = 0;
      TPU_PRAM_CH0_4 = 0xfd;
      TPU_PRAM_CH1_10 = 0;
      TPU_PRAM_CH0_5 = 0xfd;
    }
  }
  else if (_qadc_collection_state_machine == 0) {
    pwVar2 = &qadc_portqa;
    bVar1 = 4;
    do {
      if (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 0) {
        *(word *)(qadc_circular_buffer_dest_ptr + qadc_circular_buffer_offset) = *pwVar2;
      }
      qadc_circular_buffer_offset = qadc_circular_buffer_offset + 2;
      if (0xfff < qadc_circular_buffer_offset) {
        qadc_circular_buffer_offset = 0;
        qadc_data_collection_ready_flag = 1;
        bVar1 = 0x10;
      }
      pwVar2 = pwVar2 + 1;
      bVar1 = bVar1 + 1;
    } while (bVar1 < 0x10);
    if (circular_buffer_count == 0) {
      TPU_PRAM_CH1_6 = qadc_circular_buffer_offset;
      TPU_PRAM_CH0_3 = 0xfd;
    }
    else {
      _qadc_collection_state_machine = 1;
    }
  }
  if (_qadc_collection_state_machine == 1) {
    TPU_PRAM_CH1_4 = 6;
    TPU_PRAM_CH0_2 = 0x3d;
    TPU_PRAM_CH1_6 = 2;
    TPU_PRAM_CH0_3 = 0xbd;
    TPU_PRAM_CH1_8 = (&circular_buffer_metadata)[(short)circular_buffer_read_index];
    TPU_PRAM_CH0_4 = 0xfd;
    TPU_PRAM_CH1_10 = (word)(&circular_buffer_data)[(short)circular_buffer_read_index];
    TPU_PRAM_CH0_5 = 0x3d;
    _qadc_collection_state_machine = 2;
    circular_buffer_count = circular_buffer_count - 1;
    circular_buffer_read_index = circular_buffer_read_index + 1 & 0x1ff;
  }
  return;
}



//
// Function: tpuQadcInterruptHandler @ 0x0001f068
//

undefined8 tpuQadcInterruptHandler(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  TPU_CFSR1 = TPU_CFSR1 & 0x7f;
  qadcDataCollectionStateMachine();
  tpu_hssr1 = tpu_hssr1 | 0x8000;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: emptyStubWrapper2 @ 0x0001f08e
//

void emptyStubWrapper2(void)

{
  return;
}



//
// Function: initTPU @ 0x0001f090
//

/* WARNING: Removing unreachable block (ram,0x0001f19e) */
/* WARNING: Removing unreachable block (ram,0x0001f1b0) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initTPU(void)

{
  ushort uVar1;
  
  emptyStubWrapper2();
  system_callback_table_t_00808f02.tpu_adc_isr = (dword)tpuQadcInterruptHandler;
  tpu_hsqr1 = 0x7b;
  TPU_HSRR0_H = 0xfe;
  TPU_HSQR1_H = 0xff;
  tpu_hssr0 = 0x8004;
  tpu_cpr0 = tpu_cpr0 & 0xf0f0 | 0xf02;
  tpu_hssr1 = tpu_hssr1 & 0x8000 | 0x1001;
  TPU_PRAM_CH1_0 = 0;
  TPU_PRAM_CH0_0 = 0x7e;
  TPU_PRAM_CH1_2 = 0;
  TPU_PRAM_CH0_1 = 0x7e;
  TPU_PRAM_CH1_4 = 3;
  TPU_PRAM_CH0_2 = 0xbd;
  TPU_PRAM_CH1_6 = qadc_circular_buffer_offset;
  TPU_PRAM_CH0_3 = 0xfd;
  uVar1 = 4;
  do {
    (&TPU_PRAM_CH1_0)[uVar1] = 0;
    (&TPU_PRAM_CH0_0)[uVar1] = 0xfd;
    uVar1 = uVar1 + 1;
  } while (uVar1 < 0x10);
  amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 1;
  qadc_circular_buffer_dest_ptr = (dword)&can_message_buffer_start;
  _qadc_collection_state_machine = 0;
  if (qadc_data_collection_ready_flag == 0) {
    do {
    } while( true );
  }
  tpu_cpr0 = tpu_cpr0 | 0x8000;
  tpu_hssr1 = tpu_hssr1 & 0xff00 | 0x8023;
  return;
}



//
// Function: memcpy @ 0x0001f1e0
//

void memcpy(undefined1 *param_1,undefined1 *param_2,undefined4 param_3)

{
  ushort uVar1;
  
  for (uVar1 = 0; uVar1 < param_3._0_2_; uVar1 = uVar1 + 1) {
    *param_1 = *param_2;
    param_1 = param_1 + 1;
    param_2 = param_2 + 1;
  }
  return;
}



//
// Function: dualTableFuelInterpolationCalculator @ 0x0001f1fa
//

void dualTableFuelInterpolationCalculator(void)

{
  short sVar1;
  short sVar2;
  
  snapshot_engine_rpm = current_engine_rpm;
  snapshot_throttle_position = throttle_position_raw;
  sVar1 = lookupTableInterpolation((table_interp_args_t *)&rpm_lookup_table_2_arg);
  sVar2 = lookupTableInterpolation((table_interp_args_t *)&rpm_lookup_table_1_arg);
  fsmxthfl_calc_input = sVar1 + sVar2;
  return;
}



//
// Function: initRpmLookupTables @ 0x0001f23e
//

void initRpmLookupTables(void)

{
  snapshot_engine_rpm = current_engine_rpm;
  rpm_lookup_table_1_ptr = 0x80883a;
  rpm_lookup_table_2_ptr = 0x80884e;
  rpm_lookup_table_1_arg = 2;
  snapshot_throttle_position = throttle_position_raw;
  rpm_lookup_table_3_ptr = 0x808862;
  rpm_lookup_table_4_ptr = 0x808876;
  rpm_lookup_table_2_arg = 2;
  return;
}



//
// Function: crankStateVariablesReset @ 0x0001f28c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void crankStateVariablesReset(void)

{
  crank_initial_advace_break_speed_0_1000 = 0;
  _crank_state_active_flag = 0;
  crank_initial_fuel_break_speed_0_1000 = 0;
  _crank_fuel_delta_accumulator = 0;
  _crank_timing_delta_accumulator = 0;
  crank_fuel_over_limit_snapshot = 0;
  _DGCLTPLF = 0;
  eps_period_backup_time_between_the_two_most_recent_eps_200_16777216 = 0;
  crank_fuel_status_flags = 0;
  crank_fuel_buffer_index = scheduler_slot_index;
  return;
}



//
// Function: crankFuelAndTimingBufferStore @ 0x0001f2ce
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void crankFuelAndTimingBufferStore(void)

{
  byte *pbVar1;
  short sVar2;
  short sVar3;
  
  scheduler_slot_index = (word)((crank_fuel_buffer_index + 2) % 3);
  *(undefined4 *)((short)(scheduler_slot_index * 2) * 8 + 0x80559c) = _crank_fuel_calculation_state;
  *(int *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a0) =
       _fueling_val_to_be_added_to_crank_initial_fuel_val_0_100;
  *(dword *)((short)(scheduler_slot_index * 2) * 8 + 0x8055ce) = crank_timing_state_current;
  *(int *)((short)(scheduler_slot_index * 2) * 8 + 0x8055d2) = _crank_exit_fuel_adjustment_0_100;
  if (crank_fuel_timing_buffer_value != 0) {
    if (crank_fuel_timing_buffer_value == 1) {
      if ((crank_fuel_status_flags & 0xc) == 0) {
        *(undefined2 *)((short)scheduler_slot_index * 2 + 0x805594) = 0;
      }
      else {
        *(undefined2 *)((short)scheduler_slot_index * 2 + 0x805594) = 1;
      }
      *(uint *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a8) =
           (uint)crank_mode_1_calibration_factor * 0x465;
      *(uint *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a4) =
           (uint)crank_mode_1_calibration_factor * 0x465;
      pbVar1 = &DGLOPRLF + (short)(scheduler_slot_index * 2) * 8;
      pbVar1[0] = 0;
      pbVar1[1] = 0;
      pbVar1[2] = 0;
      pbVar1[3] = 0;
      *(undefined4 *)((short)(scheduler_slot_index * 2) * 8 + 0x8055d6) = 0;
      return;
    }
    *(undefined4 *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a8) = 0;
    *(undefined4 *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a4) = 0;
    pbVar1 = &DGLOPRLF + (short)(scheduler_slot_index * 2) * 8;
    pbVar1[0] = 0;
    pbVar1[1] = 0;
    pbVar1[2] = 0;
    pbVar1[3] = 0;
    *(undefined4 *)((short)(scheduler_slot_index * 2) * 8 + 0x8055d6) = 0;
    return;
  }
  *(ushort *)((short)scheduler_slot_index * 2 + 0x805594) = (ushort)(crank_fuel_status_flags != 0);
  *(uint *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a4) = (uint)crank_fuel_divisor * 0x465;
  sVar2 = scheduler_slot_index << 4;
  *(uint *)(sVar2 + 0x8055d6) = (uint)timing_command_before_cranking_is_envoked_0_120 << 7;
  if (0x63ff < crank_adjusted_initial_fuel_0_100) {
    *(dword *)((short)(scheduler_slot_index * 2) * 8 + 0x8055a8) = crank_fuel_over_limit_snapshot;
    *(undefined4 *)(&DGLOPRLF + (short)(scheduler_slot_index * 2) * 8) = _DGCLTPLF;
    return;
  }
  sVar3 = scheduler_slot_index << 4;
  *(int *)(sVar3 + 0x8055a8) =
       _fueling_val_to_be_added_to_crank_initial_fuel_val_0_100 +
       (*(int *)(sVar2 + 0x8055a4) - _crank_fuel_delta_accumulator);
  *(int *)(&DGLOPRLF + (short)(scheduler_slot_index * 2) * 8) =
       _crank_exit_fuel_adjustment_0_100 +
       (*(int *)(sVar3 + 0x8055d6) - _crank_timing_delta_accumulator);
  return;
}



//
// Function: crankFuelCalculationAndProtection @ 0x0001f4f8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint crankFuelCalculationAndProtection(void)

{
  undefined4 in_D0;
  uint uVar1;
  uint uVar2;
  uint uVar3;
  ushort uVar4;
  undefined1 *puVar5;
  
  puVar5 = &stack0xffffffe0;
  uVar3 = CONCAT22((short)((uint)in_D0 >> 0x10),vp44_status_flags_2) & 0xffff2000;
  if ((vp44_status_flags_2 & 0x2000) != 0) {
    if ((ushort)(((uint)crank_fuel_threshold_divisor << 8) / 10) <=
        crank_adjusted_initial_fuel_0_100) {
      eps_period_backup_time_between_the_two_most_recent_eps_200_16777216 = 1;
    }
    _fueling_val_to_be_added_to_crank_initial_fuel_val_0_100 =
         _crank_fuel_calculation_state -
         *(int *)((short)(crank_fuel_buffer_index * 2) * 8 + 0x80559c);
    _crank_exit_fuel_adjustment_0_100 =
         crank_timing_state_current - *(int *)((short)(crank_fuel_buffer_index * 2) * 8 + 0x8055ce);
    if ((current_engine_rpm != 0) && (_crank_rpm_condition_flag != 0)) {
      if (crank_debounce_threshold < crank_rpm_debounce_counter) {
        crank_fuel_status_flags = crank_fuel_status_flags | 2;
      }
      else {
        crank_rpm_debounce_counter = crank_rpm_debounce_counter + 1;
      }
    }
    if (((current_engine_rpm != 0) && ((fault_flags_active_base & 0x800) != 0)) &&
       ((fault_flags_enabled_base & 0x800) != 0)) {
      if (crank_debounce_threshold < crank_sensor_fault_debounce_counter) {
        crank_fuel_status_flags = crank_fuel_status_flags | 4;
      }
      else {
        crank_sensor_fault_debounce_counter = crank_sensor_fault_debounce_counter + 1;
      }
    }
    uVar3 = (uint)crank_fuel_timing_buffer_value;
    if (crank_fuel_timing_buffer_value == 0) {
      uVar4 = (short)_crank_fuel_calculation_state - crank_fuel_state_delta_base;
      _crank_fuel_state_previous = _crank_fuel_calculation_state;
      uVar4 = (ushort)((uint)uVar4 * (uint)param_scaling_factor >> 8);
      if (-(uint)uVar4 - 1 < _crank_fuel_delta_accumulator) {
        crank_fuel_status_flags = crank_fuel_status_flags | 8;
      }
      _crank_fuel_delta_accumulator = uVar4 + _crank_fuel_delta_accumulator;
      uVar1 = proportionalCalculation
                        (_crank_fuel_delta_accumulator,0x6400,(uint)crank_fuel_divisor * 0x465);
      uVar4 = (short)crank_timing_state_current - crank_timing_state_delta_base;
      _crank_timing_state_previous = crank_timing_state_current;
      uVar4 = (ushort)((uint)uVar4 * (uint)param_scaling_factor >> 8);
      if (-(uint)uVar4 - 1 < _crank_timing_delta_accumulator) {
        crank_fuel_status_flags = crank_fuel_status_flags | 8;
      }
      _crank_timing_delta_accumulator = uVar4 + _crank_timing_delta_accumulator;
      uVar2 = proportionalCalculation
                        (_crank_timing_delta_accumulator,0x6400,
                         (uint)timing_command_before_cranking_is_envoked_0_120 << 7);
      puVar5 = &stack0xffffffe0;
      if ((uVar1 < uVar2) || (uVar3 = (uint)crank_adjusted_initial_rpm_0_1000, uVar1 < uVar3)) {
        if ((uVar1 < crank_adjusted_initial_rpm_0_1000) &&
           (uVar3 = (uint)crank_adjusted_initial_rpm_0_1000, uVar2 < uVar3)) {
          crank_fuel_limit_source_selector = 3;
          crank_adjusted_initial_fuel_0_100 = crank_adjusted_initial_rpm_0_1000;
        }
        else {
          uVar3 = (uint)crank_adjusted_initial_rpm_0_1000;
          crank_fuel_limit_source_selector = 2;
          crank_adjusted_initial_fuel_0_100 = (word)uVar2;
        }
      }
      else {
        crank_fuel_limit_source_selector = 1;
        crank_adjusted_initial_fuel_0_100 = (word)uVar1;
      }
    }
    else if (crank_fuel_timing_buffer_value == 1) {
      puVar5 = &stack0xffffffd4;
      uVar3 = proportionalCalculation
                        (_crank_fuel_calculation_state -
                         *(int *)((short)(crank_fuel_buffer_index * 2) * 8 + 0x80559c),0x6400,
                         (uint)crank_mode_1_calibration_factor * 0x465);
      crank_adjusted_initial_fuel_0_100 = (word)uVar3;
      crank_fuel_limit_source_selector = 1;
    }
    else {
      crank_adjusted_initial_fuel_0_100 = crank_adjusted_initial_rpm_0_1000;
      crank_fuel_limit_source_selector = 3;
    }
    if (((crank_fuel_over_limit_snapshot == 0) && (_DGCLTPLF == 0)) &&
       (0x63ff < crank_adjusted_initial_fuel_0_100)) {
      crank_fuel_over_limit_snapshot =
           _crank_fuel_calculation_state -
           *(int *)((short)(crank_fuel_buffer_index * 2) * 8 + 0x80559c);
      uVar3 = crank_timing_state_current -
              *(int *)((short)(crank_fuel_buffer_index * 2) * 8 + 0x8055ce);
      _DGCLTPLF = uVar3;
    }
    if ((crank_state_reset_trigger == 1) || (_crank_state_active_flag == 1)) {
      *(undefined4 *)(puVar5 + -4) = 0x1f7b4;
      crankFuelAndTimingBufferStore();
      *(undefined4 *)(puVar5 + -4) = 0x1f7b8;
      uVar3 = crankStateVariablesReset();
    }
    crank_state_reset_trigger = crank_initial_advace_break_speed_0_1000;
  }
  return uVar3;
}



//
// Function: initParameterScalingSystem @ 0x0001f7cc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initParameterScalingSystem(void)

{
  table_interp_args_t local_1c;
  table_interp_args_t local_10;
  
  _crank_fuel_state_previous = _crank_fuel_calculation_state;
  _crank_timing_state_previous = crank_timing_state_current;
  param_scaling_factor = 0x100;
  local_1c.current_index = 2;
  local_1c.x_axis_ptr = 0x80888c;
  local_1c.y_axis_ptr = 0x8088a4;
  local_10.current_index = 2;
  local_10.x_axis_ptr = 0x80888c;
  local_10.y_axis_ptr = 0x808898;
  if (crank_fuel_timing_buffer_value == 0) {
    local_1c.input_value = param_scaling_lookup_value;
    timing_command_before_cranking_is_envoked_0_120 = lookupTableInterpolation(&local_1c);
    local_10.input_value = param_scaling_lookup_value;
    crank_fuel_divisor = lookupTableInterpolation(&local_10);
  }
  return;
}



//
// Function: pwmOutputInit @ 0x0001f860
//

void pwmOutputInit(void)

{
  qsm_sci_status_reg =
       (pwm_output_channel_select & 7) << 0xc |
       (ushort)(30000000 / ((uint)pwm_output_period_multiplier * (uint)pwm_output_frequency_divisor)
               ) & 0xfff;
  if (pwm_output_enable_flag == 1) {
    qsm_sci_status_reg = qsm_sci_status_reg | 0x8000;
  }
  return;
}



//
// Function: fuelSmokeLimiterCalculator @ 0x0001f8aa
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelSmokeLimiterCalculator(void)

{
  int iVar1;
  uint uVar2;
  ushort uVar3;
  
  if ((fsmxthfl_calc_input < current_fuel_demand_value) &&
     (fsmxthfl_calc_input < calculated_fuel_timing_value)) {
    uVar2 = proportionalCalculation
                      ((uint)current_fuel_demand_value - (uint)fsmxthfl_calc_input,0x6400,
                       (uint)calculated_fuel_timing_value - (uint)fsmxthfl_calc_input);
    if (uVar2 < 0x7f81) {
      smoke_limiter_output_value = (word)uVar2;
    }
    else {
      smoke_limiter_output_value = 0x7f80;
    }
  }
  else {
    smoke_limiter_output_value = 0;
  }
  if (fsmxthfl_calc_input < current_fuel_demand_value) {
    if ((fuel_demand_rate_limit < current_engine_rpm) && (_arbitrator_status_flag != 0)) {
      iVar1 = ((uint)fuel_limit_offset_value + (uint)current_engine_rpm) -
              (uint)fuel_demand_rate_limit;
      uVar2 = iVar1 * 0x1111;
      if ((uint)fuel_limit_comparison_low * (uint)fuel_limit_comparison_high < uVar2 ||
          (uint)fuel_limit_comparison_low * (uint)fuel_limit_comparison_high + iVar1 * -0x1111 == 0)
      {
        uVar3 = 0;
      }
      else {
        uVar3 = fuel_limit_comparison_low - (short)(uVar2 / fuel_limit_comparison_high);
        if (0x1700 < uVar3) {
          uVar3 = 0x1700;
        }
      }
      if (uVar3 <= fsmxthfl_calc_input) {
        asthrfes_calc_input = 0;
        return;
      }
      uVar3 = uVar3 - fsmxthfl_calc_input;
    }
    else {
      if (calculated_fuel_timing_value <= fsmxthfl_calc_input) {
        asthrfes_calc_input = 0;
        return;
      }
      uVar3 = calculated_fuel_timing_value - fsmxthfl_calc_input;
    }
    uVar2 = (uint)(ushort)(current_fuel_demand_value - fsmxthfl_calc_input) * 0x6400;
    if (uVar2 < (uint)uVar3 * 0x7f80) {
      asthrfes_calc_input = (word)(uVar2 / uVar3);
    }
    else {
      asthrfes_calc_input = 0x7f80;
    }
  }
  else {
    asthrfes_calc_input = 0;
  }
  return;
}



//
// Function: insiteActiveFaultListBuilder @ 0x0001fa00
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteActiveFaultListBuilder(void)

{
  byte bVar1;
  char cVar3;
  uint uVar2;
  byte bVar4;
  
  if (insite_response_buffer_length < 0x14) {
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    cVar3 = (char)diagnostic_active_fault_counter;
    *_insite_response_buffer_ptr = cVar3;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar4 = 1;
    for (; cVar3 != '\0'; cVar3 = cVar3 + -1) {
      *_insite_response_buffer_ptr = (&diagnostic_pending_code_count)[(short)(ushort)bVar4] | 0x80;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar4 = bVar4 + 1;
    }
    insite_response_buffer_index = insite_response_buffer_length + insite_response_buffer_index;
    insite_bytes_remaining = insite_bytes_remaining - insite_response_buffer_length;
    return;
  }
  uVar2 = insiteMultiFrameResponseBuilder(0xe000f);
  if ((char)uVar2 == '\0') {
    bVar4 = 1;
    while (multi_packet_tx_state <= insite_multi_frame_state) {
      while (bVar1 = multi_packet_sequence_counter - 1, multi_packet_sequence_counter != 0) {
        multi_packet_sequence_counter = bVar1;
        *_insite_response_buffer_ptr = (&diagnostic_pending_code_count)[(short)(ushort)bVar4] & 0x80
        ;
        bVar4 = bVar4 + 1;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      }
      if (multi_packet_tx_state == insite_multi_frame_state) {
        multi_packet_sequence_counter = bVar1;
        responseBufferFinalize();
        insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
        multi_packet_tx_state = multi_packet_tx_state + 1;
        insite_response_buffer_index = 0;
      }
      else {
        multi_packet_sequence_counter = bVar1;
        insiteMultiFrameContinuation();
      }
    }
  }
  return;
}



//
// Function: insiteFaultDetailBuilder @ 0x0001fafe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteFaultDetailBuilder(void)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  word wVar4;
  ushort uVar5;
  ushort uVar6;
  byte bVar7;
  byte *pbVar8;
  byte *pbVar9;
  
  if (insite_response_buffer_length < 0x14) {
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    if (insite_data_valid_flag == 0) {
      *_insite_response_buffer_ptr = (char)insite_fault_detail_state * '\x02';
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      wVar4 = insite_fault_detail_state;
      uVar6 = 1;
      while ((char)wVar4 != '\0') {
        uVar5 = (ushort)(byte)((char)uVar6 + 1);
        iVar2 = (int)(short)((ushort)(&diagnostic_pending_code_count)[(short)uVar6] * 6);
        uVar6 = uVar5;
        if (((*(ushort *)(&dtc_fault_table_base + iVar2) & 0x2000) == 0) &&
           (*(char *)((int)&diagnostic_sensor_data_ptr + iVar2) != '\0')) {
          *_insite_response_buffer_ptr = *(undefined1 *)((int)&diagnostic_sensor_data_ptr + iVar2);
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          *_insite_response_buffer_ptr =
               (byte)((int)(uint)*(ushort *)(&dtc_fault_table_base + iVar2) >> 7) & 0x3f;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          wVar4 = (word)(byte)((char)wVar4 - 1);
        }
      }
    }
    else {
      *_insite_response_buffer_ptr =
           ((char)insite_fault_detail_index + (char)insite_fault_detail_state) * '\x03';
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      wVar4 = insite_fault_detail_state;
      uVar6 = 1;
      while ((char)wVar4 != '\0') {
        uVar5 = (ushort)(byte)((char)uVar6 + 1);
        bVar7 = (&diagnostic_pending_code_count)[(short)uVar6];
        iVar2 = (int)(short)((ushort)bVar7 * 6);
        uVar6 = uVar5;
        if (((*(ushort *)(&dtc_fault_table_base + iVar2) & 0x2000) == 0) &&
           (*(char *)((int)&diagnostic_sensor_data_ptr + iVar2) != '\0')) {
          *_insite_response_buffer_ptr = *(undefined1 *)((int)&diagnostic_sensor_data_ptr + iVar2);
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          *_insite_response_buffer_ptr =
               (byte)((int)(uint)*(ushort *)(&dtc_fault_table_base + iVar2) >> 7) & 0x3f | 0x80;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          *_insite_response_buffer_ptr = (&diagnostic_pid_dtc_index)[(short)((ushort)bVar7 * 5) * 2]
          ;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          wVar4 = (word)(byte)((char)wVar4 - 1);
        }
      }
      wVar4 = insite_fault_detail_index;
      uVar6 = 1;
      while ((char)wVar4 != '\0') {
        uVar5 = (ushort)(byte)((char)uVar6 + 1);
        bVar7 = (&diagnostic_active_code_count)[(short)uVar6];
        iVar2 = (int)(short)((ushort)bVar7 * 6);
        uVar6 = uVar5;
        if (((*(ushort *)(&dtc_fault_table_base + iVar2) & 0x2000) == 0) &&
           (*(char *)((int)&diagnostic_sensor_data_ptr + iVar2) != '\0')) {
          *_insite_response_buffer_ptr = *(undefined1 *)((int)&diagnostic_sensor_data_ptr + iVar2);
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          *_insite_response_buffer_ptr =
               (byte)((int)(uint)*(ushort *)(&dtc_fault_table_base + iVar2) >> 7) & 0x3f | 0xc0;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          *_insite_response_buffer_ptr = (&diagnostic_pid_dtc_index)[(short)((ushort)bVar7 * 5) * 2]
          ;
          _insite_response_buffer_ptr =
               (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
          wVar4 = (word)(byte)((char)wVar4 - 1);
        }
      }
    }
    insite_response_buffer_index = insite_response_buffer_length + insite_response_buffer_index;
    insite_bytes_remaining = insite_bytes_remaining - insite_response_buffer_length;
    return;
  }
  if (insite_data_valid_flag == 0) {
    uVar3 = insiteMultiFrameResponseBuilder(0xe000e);
    if ((char)uVar3 == '\0') {
      uVar6 = 1;
      while (multi_packet_tx_state <= insite_multi_frame_state) {
        while (multi_packet_sequence_counter != 0) {
          uVar5 = (ushort)(byte)((char)uVar6 + 1);
          iVar2 = (int)(short)((ushort)(&diagnostic_pending_code_count)[(short)uVar6] * 6);
          uVar6 = uVar5;
          if (((*(ushort *)(&dtc_fault_table_base + iVar2) & 0x2000) == 0) &&
             (*(char *)((int)&diagnostic_sensor_data_ptr + iVar2) != '\0')) {
            *_insite_response_buffer_ptr = *(byte *)((int)&diagnostic_sensor_data_ptr + iVar2);
            _insite_response_buffer_ptr =
                 (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
            *_insite_response_buffer_ptr =
                 (byte)((int)(uint)*(ushort *)(&dtc_fault_table_base + iVar2) >> 7) & 0x3f;
            _insite_response_buffer_ptr =
                 (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
            multi_packet_sequence_counter = multi_packet_sequence_counter - 2;
          }
        }
        if (multi_packet_tx_state == insite_multi_frame_state) {
          responseBufferFinalize();
          insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
          multi_packet_tx_state = multi_packet_tx_state + 1;
          insite_response_buffer_index = 0;
        }
        else {
          insiteMultiFrameContinuation();
        }
      }
      return;
    }
  }
  else {
    uVar3 = insiteMultiFrameResponseBuilder(0xc000f);
    if ((char)uVar3 == '\0') {
      bVar7 = 0;
      pbVar8 = &diagnostic_pending_code_array;
      wVar4 = insite_fault_detail_state;
      while (multi_packet_tx_state <= insite_multi_frame_state) {
        while (multi_packet_sequence_counter != 0) {
          pbVar9 = pbVar8;
          if ((char)wVar4 == '\0') {
            pbVar9 = &diagnostic_active_code_array;
            bVar7 = 0x40;
            wVar4 = insite_fault_detail_index;
          }
          pbVar8 = pbVar9 + 1;
          bVar1 = *pbVar9;
          iVar2 = (int)(short)((ushort)bVar1 * 6);
          if (((*(ushort *)(&dtc_fault_table_base + iVar2) & 0x2000) == 0) &&
             (*(char *)((int)&diagnostic_sensor_data_ptr + iVar2) != '\0')) {
            *_insite_response_buffer_ptr = *(byte *)((int)&diagnostic_sensor_data_ptr + iVar2);
            _insite_response_buffer_ptr =
                 (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
            *_insite_response_buffer_ptr =
                 bVar7 | (byte)((int)(uint)*(ushort *)(&dtc_fault_table_base + iVar2) >> 7) & 0x3f |
                 0x80;
            _insite_response_buffer_ptr =
                 (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
            *_insite_response_buffer_ptr =
                 (&diagnostic_pid_dtc_index)[(short)((ushort)bVar1 * 5) * 2];
            _insite_response_buffer_ptr =
                 (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
            wVar4 = (word)(byte)((char)wVar4 - 1);
            multi_packet_sequence_counter = multi_packet_sequence_counter - 3;
          }
        }
        if (multi_packet_tx_state == insite_multi_frame_state) {
          responseBufferFinalize();
          insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
          multi_packet_tx_state = multi_packet_tx_state + 1;
          insite_response_buffer_index = 0;
        }
        else {
          insiteMultiFrameContinuation();
        }
      }
    }
  }
  return;
}



//
// Function: insiteEcuIdResponseBuilder @ 0x0001fec4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteEcuIdResponseBuilder(void)

{
  uint uVar1;
  byte bVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  
  if (insite_response_buffer_length < 0x14) {
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = insite_response_buffer_length - 2;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar2 = 0;
    pbVar4 = &insite_ecu_id_part_1;
    do {
      *_insite_response_buffer_ptr = *pbVar4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar2 < 4);
    *_insite_response_buffer_ptr = 0x2a;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar2 = 0;
    pbVar4 = &insite_ecu_id_part_2;
    do {
      *_insite_response_buffer_ptr = *pbVar4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar2 < 4);
    *_insite_response_buffer_ptr = 0x2a;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar2 = 0;
    pbVar4 = &insite_ecu_id_part_3;
    do {
      *_insite_response_buffer_ptr = *pbVar4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar2 < 0xc);
    insite_response_buffer_index = insite_response_buffer_length + insite_response_buffer_index;
    insite_bytes_remaining = insite_bytes_remaining - insite_response_buffer_length;
    return;
  }
  uVar1 = insiteMultiFrameResponseBuilder(0xe000f);
  if ((char)uVar1 == '\0') {
    bVar2 = 0;
    pbVar4 = &insite_ecu_id_response_buffer;
    pbVar5 = &insite_ecu_id_part_1;
    do {
      pbVar3 = pbVar4;
      *pbVar3 = *pbVar5;
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar3 + 1;
      pbVar5 = pbVar5 + 1;
    } while (bVar2 < 4);
    pbVar3[1] = 0x2a;
    bVar2 = 0;
    pbVar4 = pbVar3 + 2;
    pbVar5 = &insite_ecu_id_part_2;
    do {
      pbVar3 = pbVar4;
      *pbVar3 = *pbVar5;
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar3 + 1;
      pbVar5 = pbVar5 + 1;
    } while (bVar2 < 4);
    pbVar3[1] = 0x2a;
    bVar2 = 0;
    pbVar4 = pbVar3 + 2;
    pbVar5 = &insite_ecu_id_part_3;
    do {
      *pbVar4 = *pbVar5;
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
      pbVar5 = pbVar5 + 1;
    } while (bVar2 < 0xc);
    pbVar4 = &insite_ecu_id_response_buffer;
    while (multi_packet_tx_state <= insite_multi_frame_state) {
      while (bVar2 = multi_packet_sequence_counter - 1, multi_packet_sequence_counter != 0) {
        multi_packet_sequence_counter = bVar2;
        *_insite_response_buffer_ptr = *pbVar4;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        pbVar4 = pbVar4 + 1;
      }
      if (multi_packet_tx_state == insite_multi_frame_state) {
        multi_packet_sequence_counter = bVar2;
        responseBufferFinalize();
        insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
        multi_packet_tx_state = multi_packet_tx_state + 1;
        insite_response_buffer_index = 0;
      }
      else {
        multi_packet_sequence_counter = bVar2;
        insiteMultiFrameContinuation();
      }
    }
  }
  return;
}



//
// Function: insiteCapacityResponseBuilder @ 0x0002003c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteCapacityResponseBuilder(void)

{
  uint uVar1;
  byte bVar2;
  char *pcVar3;
  byte *pbVar4;
  
  if (insite_response_buffer_length < 0x14) {
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = 0x14;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    pcVar3 = s_CAPACITY_39442720003948543000394_00004499 + 0x1e;
    for (bVar2 = 0; bVar2 < 0x14; bVar2 = bVar2 + 1) {
      *_insite_response_buffer_ptr = *pcVar3;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      pcVar3 = pcVar3 + 1;
    }
    insite_response_buffer_index = insite_response_buffer_length + insite_response_buffer_index;
    insite_bytes_remaining = insite_bytes_remaining - insite_response_buffer_length;
    return;
  }
  uVar1 = insiteMultiFrameResponseBuilder(0xe000f);
  if ((char)uVar1 == '\0') {
    pbVar4 = (byte *)(s_CAPACITY_39442720003948543000394_00004499 + 0x1e);
    while (multi_packet_tx_state <= insite_multi_frame_state) {
      for (bVar2 = 0; bVar2 < multi_packet_sequence_counter; bVar2 = bVar2 + 1) {
        *_insite_response_buffer_ptr = *pbVar4;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        pbVar4 = pbVar4 + 1;
      }
      if (multi_packet_tx_state == insite_multi_frame_state) {
        responseBufferFinalize();
        insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
        multi_packet_tx_state = multi_packet_tx_state + 1;
        insite_response_buffer_index = 0;
      }
      else {
        insiteMultiFrameContinuation();
      }
    }
  }
  return;
}



//
// Function: insiteVersionInfoBuilder @ 0x0002011c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void insiteVersionInfoBuilder(void)

{
  uint uVar1;
  byte bVar2;
  byte *pbVar3;
  byte *pbVar4;
  byte *pbVar5;
  
  if (insite_response_buffer_length < 0x14) {
    *_insite_response_buffer_ptr = insite_command_byte;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = insite_response_buffer_length - 2;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    *_insite_response_buffer_ptr = 0x80;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar2 = 0;
    pbVar4 = &insite_version_string_part_1;
    do {
      *_insite_response_buffer_ptr = *pbVar4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar2 < 5);
    *_insite_response_buffer_ptr = 0x2a;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar2 = 0;
    pbVar4 = &insite_version_string_part_2;
    do {
      *_insite_response_buffer_ptr = *pbVar4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar2 < 0x11);
    *_insite_response_buffer_ptr = 0x2a;
    _insite_response_buffer_ptr =
         (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
    bVar2 = 0;
    pbVar4 = &insite_version_string_part_3;
    do {
      *_insite_response_buffer_ptr = *pbVar4;
      _insite_response_buffer_ptr =
           (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
    } while (bVar2 < 4);
    insite_response_buffer_index = insite_response_buffer_length + insite_response_buffer_index;
    insite_bytes_remaining = insite_bytes_remaining - insite_response_buffer_length;
    return;
  }
  uVar1 = insiteMultiFrameResponseBuilder(0xe000f);
  if ((char)uVar1 == '\0') {
    insite_version_response_buffer = 0x80;
    bVar2 = 0;
    pbVar4 = &insite_version_buffer_start;
    pbVar5 = &insite_version_string_part_1;
    do {
      pbVar3 = pbVar4;
      *pbVar3 = *pbVar5;
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar3 + 1;
      pbVar5 = pbVar5 + 1;
    } while (bVar2 < 5);
    pbVar3[1] = 0x2a;
    bVar2 = 0;
    pbVar4 = pbVar3 + 2;
    pbVar5 = &insite_version_string_part_2;
    do {
      pbVar3 = pbVar4;
      *pbVar3 = *pbVar5;
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar3 + 1;
      pbVar5 = pbVar5 + 1;
    } while (bVar2 < 0x11);
    pbVar3[1] = 0x2a;
    bVar2 = 0;
    pbVar4 = pbVar3 + 2;
    pbVar5 = &insite_version_string_part_3;
    do {
      *pbVar4 = *pbVar5;
      bVar2 = bVar2 + 1;
      pbVar4 = pbVar4 + 1;
      pbVar5 = pbVar5 + 1;
    } while (bVar2 < 4);
    pbVar4 = &insite_version_response_buffer;
    while (multi_packet_tx_state <= insite_multi_frame_state) {
      while (bVar2 = multi_packet_sequence_counter - 1, multi_packet_sequence_counter != 0) {
        multi_packet_sequence_counter = bVar2;
        *_insite_response_buffer_ptr = *pbVar4;
        _insite_response_buffer_ptr =
             (byte *)CONCAT31(_insite_response_buffer_ptr,insite_response_write_offset + 1);
        pbVar4 = pbVar4 + 1;
      }
      if (multi_packet_tx_state == insite_multi_frame_state) {
        multi_packet_sequence_counter = bVar2;
        responseBufferFinalize();
        insite_response_continuation_ptr = (dword)_insite_response_buffer_ptr;
        multi_packet_tx_state = multi_packet_tx_state + 1;
        insite_response_buffer_index = 0;
      }
      else {
        multi_packet_sequence_counter = bVar2;
        insiteMultiFrameContinuation();
      }
    }
  }
  return;
}



//
// Function: hourMeterEventLogger @ 0x000202a4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void hourMeterEventLogger(void)

{
  byte bVar1;
  bool bVar2;
  short sVar3;
  int iVar4;
  uint uVar5;
  word wVar6;
  byte bVar7;
  byte *pbVar8;
  byte local_5;
  
  while( true ) {
    uVar5 = circularBufferPop(&time_key_switch_is_on_and_ecm_is_running_boot_or_application_0_2_29,
                              &local_5);
    if ((char)uVar5 != '\0') break;
    iVar4 = (uint)(local_5 & 0x7f) * 6;
    if (((*(char *)((int)&diagnostic_sensor_data_ptr + iVar4) != '\0') &&
        ((*(ushort *)(&dtc_fault_table_base + iVar4) & 0x800) == 0)) &&
       (((uint)_hour_meter_fault_category_mask &
        1 << ((int)(*(ushort *)(&dtc_fault_table_base + iVar4) & 0x780) >> 7)) != 0)) {
      bVar1 = *(byte *)((int)&diagnostic_sensor_data_ptr + iVar4);
      bVar7 = '\x01' << (bVar1 & 7);
      sVar3 = (short)((int)(uint)bVar1 >> 3);
      if ((bVar7 & *(byte *)((int)&
                                  maximum_time_between_tailshaft_pulses_allowed_before_vehicle_0_04_40
                            + (int)sVar3)) != 0) {
        wVar6 = fault_code_active_list_count;
        for (pbVar8 = &hour_meter_event_log_array; (wVar6 != 0 && (bVar1 != *pbVar8));
            pbVar8 = pbVar8 + 2) {
          wVar6 = wVar6 - 1;
        }
        if (wVar6 == 0) {
          if ((local_5 & 0x80) != 0) {
            *pbVar8 = bVar1;
            pbVar8[1] = 1;
            fault_code_active_list_count = fault_code_active_list_count + 1;
            *(byte *)(sVar3 + 0x8055fe) = bVar7 | *(byte *)(sVar3 + 0x8055fe);
          }
        }
        else if ((local_5 & 0x80) == 0) {
          bVar1 = pbVar8[1] - 1;
          pbVar8[1] = bVar1;
          if (bVar1 == 0) {
            *(byte *)(sVar3 + 0x8055fe) = ~bVar7 & *(byte *)(sVar3 + 0x8055fe);
            wVar6 = fault_code_active_list_count - 1;
            bVar2 = 1 < fault_code_active_list_count;
            fault_code_active_list_count = wVar6;
            if (bVar2) {
              *pbVar8 = (&hour_meter_event_log_array)[(short)wVar6 * 2];
              pbVar8[1] = (&hour_meter_event_log_array_1)[(short)fault_code_active_list_count * 2];
            }
          }
        }
        else {
          pbVar8[1] = pbVar8[1] + 1;
        }
      }
    }
  }
  return;
}



//
// Function: mainSystemInitialization @ 0x00020462
//

/* WARNING: This function may have set the stack pointer */

void mainSystemInitialization(void)

{
  char in_XF;
  char cVar1;
  char cVar2;
  char cVar3;
  byte bVar4;
  
  tpu_dscr = 0;
  tpu_cier = 0;
  sim_csor0 = 0;
  sim_csbar1 = 0;
  can1_cantbsel = 0;
  QADC64_QMCR = 0x1201;
  QADC64_QADCTEST = 8;
  QADC64_PORTQA = 0x200;
  tpu_channel_priority_select = 4;
  QADC64_QACR1 = 8;
  QADC64_QACR2 = 0;
  QADC64_QSTAT = 0;
  QADC64_QADCSR = 1;
  QADC64_RJURR = 1;
  QADC64_CCW0 = 1;
  sim_timer_control_register._0_2_ = 0xffff;
  sim_timer_control_register._2_2_ = 0;
  QADC64_QADCINT = 8;
  QADC64_DDRQA = 0xffff;
  QADC64_PQBPAR = 0;
  QADC64_PQAPAR = 8;
  tpu_pwm_channel_3_output._0_2_ = 0xffff;
  tpu_pwm_channel_3_output._2_2_ = 0;
  QADC64_DDRQB = 8;
  tpu_pwm_channel_4_output._0_2_ = 0xffff;
  tpu_pwm_channel_4_output._2_2_ = 0;
  QADC64_LJSRR = 8;
  QADC64_CCW8 = 0x104;
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x576;
  initInternalRamAndCAN1();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x57c;
  clearWorkingMemory();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x582;
  firmwareDataCopyToWorkingMemory();
  calibration_checksum_workspace._2_2_ = 0xeeee;
  sim_data_direction_control = sim_data_direction_control | 8;
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x598;
  initVectorTable();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x5ac;
  initQADC();
  tpu_tpumcr = 5;
  tpu_dscr = 0x13;
  TPU_TICR_H = 0x50;
  cVar1 = '\0';
  cVar2 = '\0';
  cVar3 = '\0';
  bVar4 = 0;
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x5ca;
  initTPU();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x5d0;
  initMIOS14Timers();
  init_checkpoint_address = (word)(byte)(in_XF << 4 | cVar1 << 3 | cVar2 << 2 | cVar3 << 1 | bVar4);
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x5e0;
  validateRedundantSensors();
  if (loop_termination_flag == 0) {
    fault_flags_active_base = fault_flags_active_base & 0xfbff;
  }
  else {
    fault_flags_active_base = fault_flags_active_base | 0x400;
    fault_flags_history_base = fault_flags_history_base | 0x400;
  }
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x61c;
  initVP44StatusMonitoring();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x622;
  initADCChannelConfiguration();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x628;
  initCANBus();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x62e;
  initLoopCounter();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x634;
  initFuelSystemOutputDriver();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x63a;
  dmaDescriptorSetup2();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x640;
  initDerateSystemPointers();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x646;
  initMultiSystemParameters();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x64c;
  dmaControllerSetup1();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x652;
  engineProtectionSystemInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x658;
  diagnosticProtectionEvaluator();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x65e;
  fuelDeliverySystemInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x664;
  fuelArbitratorInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x66a;
  engineRpmSourceInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x670;
  canBusTimingInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x676;
  canControllerConfigInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x67c;
  canRpmModeConfigInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x682;
  engineOperatingModeInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x688;
  scheduler_init();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x68e;
  emptyInitPlaceholder();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x694;
  initDiagnosticModeSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x69a;
  initDerateSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6a0;
  initBoostProtectionSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6a6;
  initAcControlSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6ac;
  initAncSpeedLimitAndAltitudeDerate();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6b2;
  initVp44BufferAddresses();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6b8;
  initHourMeterSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6be;
  initLoadTrendingSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6c4;
  initOilPressureModeSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6ca;
  initFuelDemandCalculationSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6d0;
  emptyInit2();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6d6;
  initFuelArbitratorThreshold5();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6dc;
  initFuelArbitratorThreshold3();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6e2;
  initTimerCounterDefaults();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6e8;
  initIoControlRegister();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6ee;
  initLookupTablePointers1();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6f4;
  initVP44StatusFlags();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x6fa;
  initRpmLookupTables();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x700;
  initParameterScalingSystem();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x706;
  initOilPressureProtectionPointers();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x70c;
  initOilPressureMonitoring();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x712;
  initSensorDataArrays();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x718;
  initDiagnosticSystemState();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x71e;
  initIntakeManifoldTemperatureLimits();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x724;
  vp44ControlStructureInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x72a;
  hardwareTimerFlagsInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x730;
  intakeTemperatureTablesInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x736;
  masterSubsystemInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x73c;
  fuelTimingModeInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x742;
  canMessageFilterInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x748;
  engineProtectionSystemInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x74e;
  tpuChannelIsrRegister();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x754;
  engineSpeedIsrRegister();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x75a;
  can1ControllerInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x760;
  pwmOutputInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x766;
  serialCommunicationIsrRegister();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x76c;
  canMessageInterruptHandlerSetup();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x772;
  dualCanControllerInit();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x778;
  initDiagnosticProtocol();
  sim_chip_select_option_reg0 = 2;
  sim_chip_select_base_reg0 = 0x77e;
  emptyPlaceholderInit();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x786;
  initMIOS14Timers();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x78c;
  engineModeOutputControlInit();
  engine_shutdown_complete_flag = 0;
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x7a4;
  schedulerWaitLoop();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x7ae;
  boostPressureControlInit();
  sim_chip_select_base_reg0 = 2;
  init_checkpoint_address = 0x7b4;
  vp44CommunicationTestAndInit();
  return;
}



//
// Function: phase4InitSequence @ 0x00020780
//

/* WARNING: This function may have set the stack pointer */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void phase4InitSequence(void)

{
  initMIOS14Timers();
  engineModeOutputControlInit();
  engine_shutdown_complete_flag = 0;
  _sim_chip_select_base_reg0 = 0x207a4;
  schedulerWaitLoop();
  _sim_chip_select_base_reg0 = 0x207ae;
  boostPressureControlInit();
  _sim_chip_select_base_reg0 = 0x207b4;
  vp44CommunicationTestAndInit();
  return;
}



//
// Function: dualCanControllerInit @ 0x000207b6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void dualCanControllerInit(void)

{
  byte bVar1;
  byte *pbVar2;
  word *pwVar3;
  
  do {
    serial_port_1_base_register._2_1_ = can_controller_1_status_byte;
  } while ((can_controller_1_status_byte & 0x80) != 0);
  sim_tpu_prescaler = can_controller_1_baud_byte_0;
  sim_tpu_control_2 = can_controller_1_baud_byte_1;
  sim_tpu_timer_high = PTGNQDTB._0_1_;
  sim_tpu_timer_low = (byte)PTGNQDTB;
  _sim_tpu_control_0 = can_controller_1_timing_word;
  sim_tpu_mb1_data_7 = can_controller_1_filter_byte_1;
  sim_tpu_mb2_data_7 = can_controller_1_filter_byte_2;
  sim_tpu_mb3_data_7 = can_controller_1_filter_byte_3;
  sim_tpu_mb0_data_7 = 0;
  serial_port_1_base_register._0_1_ = 0;
  pbVar2 = &can_controller_config_register;
  bVar1 = 1;
  do {
    *pbVar2 = 0x7d;
    pbVar2 = pbVar2 + 0x10;
    bVar1 = bVar1 + 1;
  } while (bVar1 < 0x10);
  serial_port_1_base_register._0_1_ = serial_port_1_base_register._0_1_ & 0xfe;
  do {
    serial_port_2_base_register._2_1_ = can_controller_2_status_byte;
  } while ((can_controller_2_status_byte & 0x80) != 0);
  toucan_prescaler_div = can_controller_2_baud_byte_0;
  toucan_control_reg_2 = can_controller_2_baud_byte_1;
  toucan_free_timer_high = can_controller_2_baud_byte_2;
  toucan_free_timer_low = can_controller_2_baud_byte_3;
  _toucan_control_reg_0 = can_controller_2_timing_word;
  toucan_mb1_data_7 = can_controller_2_filter_byte_1;
  toucan_mb2_data_7 = can_controller_2_filter_byte_2;
  toucan_mb3_data_7 = can_controller_2_filter_byte_3;
  toucan_mb0_data_7 = 0;
  serial_port_2_base_register._0_1_ = 0;
  pwVar3 = &toucan_mb0_control;
  bVar1 = 1;
  do {
    *(undefined1 *)pwVar3 = 0x7d;
    pwVar3 = pwVar3 + 8;
    bVar1 = bVar1 + 1;
  } while (bVar1 < 0x10);
  serial_port_2_base_register._0_1_ = serial_port_2_base_register._0_1_ & 0xfe;
  tpuTimerInitializer();
  canTransmissionScheduler();
  return;
}



//
// Function: canTransmissionScheduler @ 0x00020918
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void canTransmissionScheduler(void)

{
  byte bVar1;
  uint uVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  dword *pdVar6;
  byte *pbVar7;
  
  can_transmit_buffer_ptr_1 = 0x80ce60;
  can_transmit_buffer_ptr_2 = 0x80ce60;
  _timer_task_scheduler_state = &average_pulse_period_time_period_over_1_cyl_of_primary_s_1000_65535
  ;
  _serial_receive_buffer_state =
       &average_pulse_period_time_period_over_1_cyl_of_primary_s_1000_65535;
  vp44DiagnosticBufferPointersInit();
  can_transmit_retry_count = 4;
  bVar3 = 0;
  pdVar6 = &can_transmission_scheduler_data;
  do {
    *(undefined1 *)pdVar6 = 0xfe;
    bVar3 = bVar3 + 1;
    pdVar6 = (dword *)((int)pdVar6 + 1);
  } while (bVar3 < 4);
  canBufferSetup1();
  j1939MessageSetup_PGN_65265();
  vp44Command0x100Builder();
  cumminsProprietaryDM_983_Builder();
  secondaryParamPGN_65247_Builder();
  extendedDiagPGN_65251_Builder();
  cumminsProprietaryTSC_PGN_15728640_Builder();
  fuelEconomyPGN_65266_Builder();
  retarderConfigPGN_65249_Builder();
  retarderModeThresholdsSetup();
  ambientConditionsPGN_65269_Builder();
  engineFluidLevelPGN_65263_Builder();
  engineHoursPGN_65252_Builder();
  intakeManifoldPGN_65526_Builder();
  cruiseControlPGN_65264_Builder();
  electronicBrakePGN_65527_Builder();
  engineCoolantPGN_65226_Builder();
  diagnosticDM8PGN_65232_Builder();
  timerSchedulerSetup(0,100);
  timerSchedulerSetup(0,0x14);
  timerSchedulerSetup(0,0x32);
  timerSchedulerSetup(0,0xfa);
  timerSchedulerSetup(0,5000);
  timerSchedulerSetup(1,100);
  timerSchedulerSetup(0,100);
  timerSchedulerSetup(1,5000);
  timerSchedulerSetup(0,1000);
  timerSchedulerSetup(0,500);
  timerSchedulerSetup(0,100);
  timerSchedulerSetup(0,1000);
  timerSchedulerSetup(0,500);
  timerSchedulerSetup(0,1000);
  timerSchedulerSetup(0,1000);
  systemControlFunction1();
  systemControlFunction4();
  systemControlFunction3();
  diagnosticDataDump();
  systemControlFunction2();
  systemFunction5xCaller();
  systemFunction1xCaller();
  systemFunction6xParameterized();
  systemFunction8xMaximum();
  systemFunction4xParameterizedAlt();
  serial_node_address_state = serial_node_address_offset + 1;
  serial_node_address_offset = serial_node_address_offset + 8;
  serial_node_transmit_ptr =
       (dword)(&serial_port_1_base_register + (uint)serial_node_address_state * 4);
  serial_node_address_limit = serial_node_address_offset;
  *(undefined1 *)serial_node_transmit_ptr = 0x55;
  *(undefined1 *)(serial_node_transmit_ptr + 1) = 0xfb;
  *(undefined1 *)serial_node_transmit_ptr = 0xef;
  *(undefined1 *)(serial_node_transmit_ptr + 6) = 4;
  pbVar7 = &can_controller_config_register + (uint)serial_node_address_state * 0x10;
  uVar2 = (uint)_j1939_multiframe_source_address;
  bVar5 = j1939_source_address_primary << 3;
  bVar3 = 0;
  for (bVar4 = 0; bVar4 < _histogram_bin_count_3; bVar4 = bVar4 + 1) {
    *pbVar7 = 0x99;
    pbVar7[6] = 4;
    pbVar7[1] = 0xdf;
    pbVar7[2] = *(byte *)(bVar3 + 0x8088ea);
    pbVar7[3] = (byte)((int)(uVar2 & 0xe0) >> 5) | *(byte *)((byte)(bVar3 + 1) + 0x8088ea) & 0xf8;
    bVar1 = bVar3 + 3;
    pbVar7[4] = bVar5 | *(byte *)((byte)(bVar3 + 2) + 0x8088ea) & 7;
    bVar3 = bVar3 + 4;
    pbVar7[5] = *(byte *)(bVar1 + 0x8088ea);
    pbVar7 = pbVar7 + 0x10;
  }
  for (bVar4 = 0; bVar4 < _histogram_bin_count_0; bVar4 = bVar4 + 1) {
    *pbVar7 = 0x99;
    pbVar7[1] = 0xdf;
    pbVar7[6] = 4;
    pbVar7[2] = *(byte *)(bVar3 + 0x8088ea);
    pbVar7[3] = *(byte *)((byte)(bVar3 + 1) + 0x8088ea);
    bVar5 = bVar3 + 3;
    pbVar7[4] = *(byte *)((byte)(bVar3 + 2) + 0x8088ea);
    bVar3 = bVar3 + 4;
    pbVar7[5] = *(byte *)(bVar5 + 0x8088ea);
    pbVar7 = pbVar7 + 0x10;
  }
  uVar2 = (uint)_can_cpu_interface_address;
  bVar5 = j1939_source_address_secondary << 3;
  for (bVar4 = 0; bVar4 < _histogram_bin_count_1; bVar4 = bVar4 + 1) {
    *pbVar7 = 0x99;
    pbVar7[1] = 0xdf;
    pbVar7[6] = 4;
    pbVar7[2] = *(byte *)(bVar3 + 0x8088ea);
    pbVar7[3] = (byte)((int)(uVar2 & 0xe0) >> 5) | *(byte *)((byte)(bVar3 + 1) + 0x8088ea) & 0xf8;
    bVar1 = bVar3 + 3;
    pbVar7[4] = bVar5 | *(byte *)((byte)(bVar3 + 2) + 0x8088ea) & 7;
    bVar3 = bVar3 + 4;
    pbVar7[5] = *(byte *)(bVar1 + 0x8088ea);
    pbVar7 = pbVar7 + 0x10;
  }
  for (bVar4 = 0; bVar4 < _histogram_bin_count_2; bVar4 = bVar4 + 1) {
    *pbVar7 = 0x99;
    pbVar7[1] = 0xdf;
    pbVar7[6] = 4;
    pbVar7[2] = *(byte *)(bVar3 + 0x8088ea);
    pbVar7[3] = *(byte *)((byte)(bVar3 + 1) + 0x8088ea);
    bVar5 = bVar3 + 3;
    pbVar7[4] = *(byte *)((byte)(bVar3 + 2) + 0x8088ea);
    bVar3 = bVar3 + 4;
    pbVar7[5] = *(byte *)(bVar5 + 0x8088ea);
    pbVar7 = pbVar7 + 0x10;
  }
  serial_port_1_base_register._0_1_ = serial_port_1_base_register._0_1_ | 10;
  return;
}



//
// Function: mainCanTransmissionLoop @ 0x00020980
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void mainCanTransmissionLoop(void)

{
  byte bVar1;
  uint uVar2;
  byte bVar3;
  byte bVar4;
  byte bVar5;
  byte *pbVar6;
  int unaff_A3;
  code *unaff_A4;
  int *unaff_A5;
  
  vp44Command0x100Builder();
  cumminsProprietaryDM_983_Builder();
  secondaryParamPGN_65247_Builder();
  extendedDiagPGN_65251_Builder();
  cumminsProprietaryTSC_PGN_15728640_Builder();
  fuelEconomyPGN_65266_Builder();
  retarderConfigPGN_65249_Builder();
  retarderModeThresholdsSetup();
  ambientConditionsPGN_65269_Builder();
  engineFluidLevelPGN_65263_Builder();
  engineHoursPGN_65252_Builder();
  intakeManifoldPGN_65526_Builder();
  cruiseControlPGN_65264_Builder();
  electronicBrakePGN_65527_Builder();
  engineCoolantPGN_65226_Builder();
  diagnosticDM8PGN_65232_Builder();
  (*unaff_A4)(0,100);
  (*unaff_A4)(0,0x14);
  (*unaff_A4)(0,0x32);
  (*unaff_A4)(0,0xfa);
  (*unaff_A4)(0,5000);
  (*unaff_A4)(1,100);
  (*unaff_A4)(0,100);
  (*unaff_A4)(1,5000);
  (*unaff_A4)(0,1000);
  (*unaff_A4)(0,500);
  (*unaff_A4)(0,100);
  (*unaff_A4)(0,1000);
  (*unaff_A4)(0,500);
  (*unaff_A4)(0,1000);
  (*unaff_A4)(0,1000);
  systemControlFunction1();
  systemControlFunction4();
  systemControlFunction3();
  diagnosticDataDump();
  systemControlFunction2();
  systemFunction5xCaller();
  systemFunction1xCaller();
  systemFunction6xParameterized();
  systemFunction8xMaximum();
  systemFunction4xParameterizedAlt();
  serial_node_address_state = serial_node_address_offset + 1;
  serial_node_address_offset = serial_node_address_offset + 8;
  uVar2 = (uint)serial_node_address_state;
  serial_node_address_limit = serial_node_address_offset;
  *unaff_A5 = (int)(&serial_port_1_base_register + uVar2 * 4);
  *(undefined1 *)(&serial_port_1_base_register + uVar2 * 4) = 0x55;
  *(undefined1 *)(*unaff_A5 + 1) = 0xfb;
  *(undefined1 *)*unaff_A5 = 0xef;
  *(undefined1 *)(*unaff_A5 + 6) = 4;
  pbVar6 = &can_controller_config_register + (uint)serial_node_address_state * 0x10;
  uVar2 = (uint)_j1939_multiframe_source_address;
  bVar5 = j1939_source_address_primary << 3;
  bVar3 = 0;
  for (bVar4 = 0; bVar4 < _histogram_bin_count_3; bVar4 = bVar4 + 1) {
    *pbVar6 = 0x99;
    pbVar6[6] = 4;
    pbVar6[1] = 0xdf;
    pbVar6[2] = *(byte *)(unaff_A3 + (uint)bVar3);
    pbVar6[3] = (byte)((int)(uVar2 & 0xe0) >> 5) |
                *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 1)) & 0xf8;
    bVar1 = bVar3 + 3;
    pbVar6[4] = bVar5 | *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 2)) & 7;
    bVar3 = bVar3 + 4;
    pbVar6[5] = *(byte *)(unaff_A3 + (uint)bVar1);
    pbVar6 = pbVar6 + 0x10;
  }
  for (bVar4 = 0; bVar4 < _histogram_bin_count_0; bVar4 = bVar4 + 1) {
    *pbVar6 = 0x99;
    pbVar6[1] = 0xdf;
    pbVar6[6] = 4;
    pbVar6[2] = *(byte *)(unaff_A3 + (uint)bVar3);
    pbVar6[3] = *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 1));
    bVar5 = bVar3 + 3;
    pbVar6[4] = *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 2));
    bVar3 = bVar3 + 4;
    pbVar6[5] = *(byte *)(unaff_A3 + (uint)bVar5);
    pbVar6 = pbVar6 + 0x10;
  }
  uVar2 = (uint)_can_cpu_interface_address;
  bVar5 = j1939_source_address_secondary << 3;
  for (bVar4 = 0; bVar4 < _histogram_bin_count_1; bVar4 = bVar4 + 1) {
    *pbVar6 = 0x99;
    pbVar6[1] = 0xdf;
    pbVar6[6] = 4;
    pbVar6[2] = *(byte *)(unaff_A3 + (uint)bVar3);
    pbVar6[3] = (byte)((int)(uVar2 & 0xe0) >> 5) |
                *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 1)) & 0xf8;
    bVar1 = bVar3 + 3;
    pbVar6[4] = bVar5 | *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 2)) & 7;
    bVar3 = bVar3 + 4;
    pbVar6[5] = *(byte *)(unaff_A3 + (uint)bVar1);
    pbVar6 = pbVar6 + 0x10;
  }
  for (bVar4 = 0; bVar4 < _histogram_bin_count_2; bVar4 = bVar4 + 1) {
    *pbVar6 = 0x99;
    pbVar6[1] = 0xdf;
    pbVar6[6] = 4;
    pbVar6[2] = *(byte *)(unaff_A3 + (uint)bVar3);
    pbVar6[3] = *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 1));
    bVar5 = bVar3 + 3;
    pbVar6[4] = *(byte *)(unaff_A3 + (uint)(byte)(bVar3 + 2));
    bVar3 = bVar3 + 4;
    pbVar6[5] = *(byte *)(unaff_A3 + (uint)bVar5);
    pbVar6 = pbVar6 + 0x10;
  }
  serial_port_1_base_register._0_1_ = serial_port_1_base_register._0_1_ | 10;
  return;
}



//
// Function: vp44StatusInitAndWait @ 0x00020de4
//

void vp44StatusInitAndWait(void)

{
  short sVar1;
  ushort uVar2;
  char in_XF;
  char cVar3;
  char cVar4;
  char cVar5;
  byte bVar6;
  ushort uVar7;
  word local_6;
  
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  cVar3 = '\x01';
  cVar4 = '\0';
  cVar5 = '\0';
  bVar6 = 0;
  initVP44StatusMonitoring();
  uVar7 = (ushort)(byte)(in_XF << 4 | cVar3 << 3 | cVar4 << 2 | cVar5 << 1 | bVar6);
  local_6 = redundant_sensor_param_3 + 1;
  parameterCircularBufferWrite(0x80368e,(undefined1 *)&local_6,CONCAT22(2,uVar7));
  uVar2 = 0;
  while ((uVar2 < 1000 && (redundant_sensor_param_3 != local_6))) {
    emptyPlaceholderFunction();
    delayWithWatchdogService(CONCAT22(500,uVar7));
    uVar2 = uVar2 + 1;
  }
  local_6 = redundant_sensor_param_2 + redundant_sensor_param_3;
  parameterCircularBufferWrite(0x803686,(undefined1 *)&local_6,CONCAT22(2,uVar7));
  uVar2 = 0;
  while ((uVar2 < 1000 && (vp44_comm_test_flag != local_6))) {
    emptyPlaceholderFunction();
    sVar1 = 0;
    do {
      uVar7 = 0;
      do {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        uVar7 = uVar7 + 1;
      } while (uVar7 < 0xa0);
      sVar1 = sVar1 + 1;
    } while (sVar1 == 0);
    uVar2 = uVar2 + 1;
  }
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  phase4InitSequence();
  return;
}



//
// Function: vp44CommunicationTestAndInit @ 0x00020f14
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44CommunicationTestAndInit(void)

{
  uint uVar1;
  undefined4 unaff_D2;
  short sVar2;
  short sVar3;
  ushort uVar4;
  ushort uVar5;
  byte bVar6;
  uint unaff_D7;
  word *pwVar7;
  dword *pdVar8;
  char in_XF;
  char cVar9;
  char cVar10;
  char cVar11;
  char cVar12;
  byte bVar13;
  ushort uVar14;
  undefined2 uVar15;
  int local_a;
  word local_6;
  
  uVar15 = (undefined2)((uint)unaff_D2 >> 0x10);
  protectionFlagAccumulator();
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 1;
  uVar14 = (ushort)(byte)(in_XF << 4);
  uVar5 = 0;
  while ((uVar5 < 1000 && (uVar1 = circularBufferEmptyCheck(), (char)uVar1 == '\0'))) {
    emptyPlaceholderFunction();
    delayWithWatchdogService(CONCAT22(500,uVar14));
    uVar5 = uVar5 + 1;
  }
  sim_data_direction_control = sim_data_direction_control | 4;
  ioControlAndCanPinSwitching();
  if (points_to_engine_sync_fuel_pressure_fuel_minimun_threshold_0_2_32 != 0) {
    pwVar7 = &can_memory_vp44_comm_ptr;
    if (calibration_checksum_workspace._0_2_ == 2) {
      pdVar8 = &can_memory_pointer_table_entry_2;
    }
    else {
      pdVar8 = &can_memory_pointer_table_entry_1;
    }
    for (; pwVar7 < (word *)0x8062ce; pwVar7 = pwVar7 + 1) {
      *pwVar7 = *(word *)pdVar8;
      pdVar8 = (dword *)((int)pdVar8 + 2);
    }
  }
  sVar2 = calibration_checksum_workspace._0_2_;
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  bVar13 = 1;
  do {
    if (((sVar2 == 2) && (bVar13 == 1)) || ((sVar2 == 1 && (bVar13 == 2)))) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      uVar1 = eepromCalibrationWritePrimary();
      unaff_D7 = uVar1 & 0xffff;
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
    }
    else if (((sVar2 == 1) && (bVar13 == 1)) || ((sVar2 == 2 && (bVar13 == 2)))) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      uVar1 = eepromCalibrationWriteSecondary();
      unaff_D7 = uVar1 & 0xffff;
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
    }
    if ((short)unaff_D7 == 1) {
      vp44StatusInitAndWait();
    }
    if (vp44_comm_test_flag != vp44_comm_test_sensor_value) {
      parameterCircularBufferWrite
                (0x803688,(undefined1 *)&vp44_comm_test_flag,
                 CONCAT22(2,(ushort)(byte)((vp44_comm_test_flag < vp44_comm_test_sensor_value) << 4
                                           | ((short)(vp44_comm_test_flag -
                                                     vp44_comm_test_sensor_value) < 0) << 3 |
                                           SBORROW2(vp44_comm_test_flag,vp44_comm_test_sensor_value)
                                           << 1 | vp44_comm_test_flag < vp44_comm_test_sensor_value)
                         ));
      uVar5 = 0;
      while( true ) {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        if ((999 < uVar5) || (vp44_comm_test_flag == vp44_comm_test_sensor_value)) break;
        emptyPlaceholderFunction();
        sVar3 = 0;
        do {
          uVar14 = 0;
          do {
            uVar14 = uVar14 + 1;
          } while (uVar14 < 0xa0);
          sVar3 = sVar3 + 1;
        } while (sVar3 == 0);
        uVar5 = uVar5 + 1;
      }
    }
    bVar6 = 0;
    while (bVar6 < 4) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      vp44_status_data_collector();
      delayWithWatchdogService(CONCAT22(10000,uVar15));
      bVar6 = bVar6 + 1;
    }
    if ((vp44_communication_status & 1) != 0) {
      vp44StatusInitAndWait();
    }
    bVar6 = bVar13 + 1;
    cVar12 = bVar13 - 1;
    bVar13 = bVar6;
  } while (bVar6 < 3);
  uVar14 = (ushort)(byte)((bVar6 < 2) << 4 | (cVar12 < '\0') << 3 | (bVar6 == 2) << 2 |
                          SBORROW1(bVar6,'\x02') << 1 | bVar6 < 2);
  local_a = _loopCounter;
  parameterCircularBufferWrite(0x80352c,(undefined1 *)&local_a,CONCAT22(4,uVar14));
  uVar5 = 0;
  while( true ) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    if ((999 < uVar5) || (_loop_counter_reference == local_a)) break;
    emptyPlaceholderFunction();
    sVar2 = 0;
    do {
      uVar4 = 0;
      do {
        uVar4 = uVar4 + 1;
      } while (uVar4 < 0xa0);
      sVar2 = sVar2 + 1;
    } while (sVar2 == 0);
    uVar5 = uVar5 + 1;
  }
  local_6 = 0;
  parameterCircularBufferWrite
            (0x80367e,(undefined1 *)&local_6,
             CONCAT22(2,(ushort)(byte)(((uVar14 & 0x10) != 0) << 4 | ((uVar14 & 8) != 0) << 3 |
                                       ((uVar14 & 4) != 0) << 2 | ((uVar14 & 2) != 0) << 1 |
                                      (uVar14 & 1) != 0)));
  uVar5 = 0;
  while ((uVar5 < 1000 && (loop_termination_flag != local_6))) {
    emptyPlaceholderFunction();
    sVar2 = 0;
    do {
      uVar14 = 0;
      do {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        uVar14 = uVar14 + 1;
      } while (uVar14 < 0xa0);
      sVar2 = sVar2 + 1;
    } while (sVar2 == 0);
    uVar5 = uVar5 + 1;
  }
  flashBootloaderProgrammer();
  sim_data_direction_control = sim_data_direction_control & 0xf3;
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  ioControlAndCanPinSwitching();
  local_6 = 0;
  sVar2 = hardware_timer_register._0_2_;
  do {
    while ((ushort)(hardware_timer_register._0_2_ - sVar2) < 500) {
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      vp44_status_data_collector();
      if ((vp44_communication_status & 1) != 0) {
        sim_data_direction_control = sim_data_direction_control & 0xfb | 8;
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        ioControlAndCanPinSwitching();
        vp44StatusInitAndWait();
      }
    }
    local_6 = local_6 + 1;
    sVar2 = hardware_timer_register._0_2_;
  } while (local_6 < 0x28);
  sim_data_direction_control = sim_data_direction_control & 0xfb | 8;
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  ioControlAndCanPinSwitching();
  REG_SIM_SWSR = 0xaa;
  qsm_sci_data_reg._1_1_ = 0xaa;
  bVar13 = 0;
  while( true ) {
    cVar12 = bVar13 < 4;
    cVar11 = SBORROW1(bVar13,'\x04');
    cVar9 = (char)(bVar13 - 4) < '\0';
    if (!(bool)cVar12) break;
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    vp44_status_data_collector();
    delayWithWatchdogService(CONCAT22(10000,uVar15));
    bVar13 = bVar13 + 1;
  }
  cVar10 = (vp44_communication_status & 1) == 0;
  bVar13 = cVar12;
  if (!(bool)cVar10) {
    vp44StatusInitAndWait();
  }
  local_6 = 1;
  parameterCircularBufferWrite
            (0x80367e,(undefined1 *)&local_6,
             CONCAT22(2,(ushort)(byte)(cVar12 << 4 | cVar9 << 3 | cVar10 << 2 | cVar11 << 1 | bVar13
                                      )));
  uVar5 = 0;
  while ((uVar5 < 1000 && (loop_termination_flag != local_6))) {
    emptyPlaceholderFunction();
    sVar2 = 0;
    do {
      uVar14 = 0;
      do {
        REG_SIM_SWSR = 0xaa;
        qsm_sci_data_reg._1_1_ = 0xaa;
        uVar14 = uVar14 + 1;
      } while (uVar14 < 0xa0);
      sVar2 = sVar2 + 1;
    } while (sVar2 == 0);
    uVar5 = uVar5 + 1;
  }
  while ((vp44_communication_status & 1) == 0) {
    vp44_status_data_collector();
  }
  vp44StatusInitAndWait();
  return;
}



//
// Function: huffmanTreeBuilder @ 0x00024d06
//

short huffmanTreeBuilder(int param_1)

{
  ushort uVar2;
  uint uVar1;
  ushort uVar3;
  uint uVar4;
  ushort uVar5;
  
  *(undefined2 *)(param_1 + 0xc06) = 0xffff;
  for (uVar2 = 0; uVar2 < 0x100; uVar2 = uVar2 + 1) {
    *(ushort *)(param_1 + (uint)uVar2 * 6) = (ushort)(&huffman_symbol_frequency_table)[(short)uVar2]
    ;
  }
  *(undefined2 *)(param_1 + 0x600) = 1;
  uVar2 = 0x101;
  while( true ) {
    uVar5 = 0x201;
    uVar4 = 0x201;
    uVar1 = 0;
    while( true ) {
      uVar3 = (ushort)uVar1;
      if (uVar2 <= uVar3) break;
      REG_SIM_SWSR = 0xaa;
      qsm_sci_data_reg._1_1_ = 0xaa;
      if (*(short *)(param_1 + uVar1 * 6) != 0) {
        if (*(ushort *)(param_1 + uVar1 * 6) < *(ushort *)(param_1 + (uint)uVar5 * 6)) {
          uVar4 = (uint)uVar5;
          uVar5 = uVar3;
        }
        else if (*(ushort *)(param_1 + uVar1 * 6) < *(ushort *)(param_1 + uVar4 * 6)) {
          uVar4 = uVar1;
        }
      }
      uVar1 = (uint)(ushort)(uVar3 + 1);
    }
    if ((short)uVar4 == 0x201) break;
    *(short *)(param_1 + (uint)uVar2 * 6) =
         *(short *)(param_1 + uVar4 * 6) + *(short *)(param_1 + (uint)uVar5 * 6);
    *(undefined2 *)(param_1 + (uint)uVar5 * 6) = 0;
    *(undefined2 *)(param_1 + uVar4 * 6) = 0;
    *(ushort *)(param_1 + 2 + (uint)uVar2 * 6) = uVar5;
    *(short *)(param_1 + 4 + (uint)uVar2 * 6) = (short)uVar4;
    uVar2 = uVar2 + 1;
  }
  return uVar2 - 1;
}



//
// Function: huffmanDecompress @ 0x00024e58
//

void huffmanDecompress(int param_1,undefined4 param_2)

{
  bool bVar1;
  byte bVar2;
  ushort uVar3;
  byte *pbVar4;
  word *local_8;
  
  bVar2 = 0;
  pbVar4 = &huffman_compressed_data_start;
  local_8 = &rpm_rate_limit_countdown;
  bVar1 = false;
  while( true ) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
    uVar3 = param_2._0_2_;
    do {
      bVar2 = (byte)((int)(uint)bVar2 >> 1);
      if (bVar2 == 0) {
        bVar2 = 0x80;
        pbVar4 = pbVar4 + 1;
        if (&huffman_compressed_data_end < pbVar4) {
          bVar1 = true;
        }
      }
      if ((*pbVar4 & bVar2) == 0) {
        uVar3 = *(ushort *)(param_1 + 2 + (uint)uVar3 * 6);
      }
      else {
        uVar3 = *(ushort *)(param_1 + 4 + (uint)uVar3 * 6);
      }
    } while ((0x100 < uVar3) && (!bVar1));
    if (bVar1) break;
    *(char *)local_8 = (char)uVar3;
    local_8 = (word *)((int)local_8 + 1);
  }
  return;
}



//
// Function: huffmanDecompressMain @ 0x00024efc
//

void huffmanDecompressMain(void)

{
  short sVar1;
  undefined4 unaff_A2;
  undefined2 *puVar2;
  undefined2 uVar3;
  undefined2 local_c0a [1539];
  
  uVar3 = (undefined2)((uint)unaff_A2 >> 0x10);
  for (puVar2 = local_c0a; puVar2 < &stack0xfffffffc; puVar2 = puVar2 + 3) {
    *puVar2 = 0;
    puVar2[1] = 0;
    puVar2[2] = 0;
  }
  sVar1 = huffmanTreeBuilder((int)local_c0a);
  huffmanDecompress((int)local_c0a,CONCAT22(sVar1,uVar3));
  return;
}



//
// Function: busyWaitDelayLoop @ 0x00024f36
//

void busyWaitDelayLoop(undefined4 param_1)

{
  ushort uVar1;
  ushort uVar2;
  
  for (uVar2 = 0; uVar2 < param_1._0_2_; uVar2 = uVar2 + 1) {
    for (uVar1 = 0; uVar1 < 0x378; uVar1 = uVar1 + 1) {
    }
  }
  return;
}



//
// Function: portPinTestSequence1 @ 0x00024f50
//

byte portPinTestSequence1(void)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  undefined4 unaff_D2;
  undefined2 uVar4;
  undefined2 uVar5;
  
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x600;
  uVar5 = 1;
  busyWaitDelayLoop(CONCAT22(1,(short)((uint)unaff_D2 >> 0x10)));
  uVar1 = QADC_PORTQA & 1;
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x400;
  uVar4 = 1;
  busyWaitDelayLoop(CONCAT22(1,uVar5));
  uVar2 = QADC_PORTQA & 1;
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x300;
  uVar5 = 1;
  busyWaitDelayLoop(CONCAT22(1,uVar4));
  uVar3 = QADC_PORTQA & 2;
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x200;
  busyWaitDelayLoop(CONCAT22(1,uVar5));
  return -((QADC_PORTQA & 1) != 0) & 1U &
         -(uVar3 != 0) & 1U & -(uVar2 != 0) & 1U & -(uVar1 != 0) & 1U;
}



//
// Function: waitForPortPinStable @ 0x00025020
//

void waitForPortPinStable(void)

{
  undefined4 unaff_D2;
  byte bVar1;
  undefined2 uVar2;
  
  uVar2 = (undefined2)((uint)unaff_D2 >> 0x10);
  bVar1 = 0;
  while (bVar1 < 5) {
    if ((qsm_config_reg_high & 1) == 0) {
      bVar1 = 0;
    }
    else {
      bVar1 = bVar1 + 1;
    }
    busyWaitDelayLoop(CONCAT22(2,uVar2));
  }
  return;
}



//
// Function: portPinTestSequence2 @ 0x0002504e
//

byte portPinTestSequence2(void)

{
  ushort uVar1;
  ushort uVar2;
  undefined4 unaff_D2;
  undefined2 uVar3;
  undefined2 uVar4;
  
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x200;
  uVar4 = 1;
  busyWaitDelayLoop(CONCAT22(1,(short)((uint)unaff_D2 >> 0x10)));
  uVar1 = QADC_PORTQA & 1;
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x300;
  uVar3 = 1;
  busyWaitDelayLoop(CONCAT22(1,uVar4));
  uVar2 = QADC_PORTQA & 2;
  QADC_PORTQB = QADC_PORTQB | 0x700;
  QADC_PORTQA = 0x600;
  busyWaitDelayLoop(CONCAT22(1,uVar3));
  port_pin_test_result =
       -((qsm_config_reg_low & 1) != 0) & 1U &
       -((QADC_PORTQA & 1) != 0) & 1U & -(uVar2 == 0) & 1U & -(uVar1 != 0) & 1U;
  return port_pin_test_result;
}



//
// Function: tpuAndQadcVerification @ 0x00025108
//

undefined4 tpuAndQadcVerification(void)

{
  byte bVar1;
  
  tpu_hssr0 = 0x8004;
  tpu_hsqr1 = 0x7b;
  TPU_HSRR0_H = 0xfe;
  TPU_HSQR1_H = 0xff;
  tpu_hssr1 = tpu_hssr1 & 0x8000 | 0x1028;
  tpu_cpr0 = tpu_cpr0 & 0xf0ff | 0xf00;
  TPU_PRAM_CH1_0 = 3;
  TPU_PRAM_CH0_0 = 0xbd;
  TPU_PRAM_CH1_2 = 0;
  TPU_PRAM_CH0_1 = 0xfd;
  for (bVar1 = 2; bVar1 < 0x10; bVar1 = bVar1 + 1) {
    (&TPU_PRAM_CH1_0)[bVar1] = 0;
    (&TPU_PRAM_CH0_0)[bVar1] = 0xbd;
  }
  tpu_hssr1 = tpu_hssr1 | 0x8000;
  do {
    do {
    } while ((TPU_CFSR1 & 0x80) == 0);
  } while ((TPU_CFSR1 & 0xf) != 0xf);
  if (((uint)qadc_qadcivr | (uint)qadc_qadcilr << 8) != 0x600d) {
    return 1;
  }
  return 0x6000;
}



//
// Function: hardwareInitAndStartup @ 0x000251f4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void hardwareInitAndStartup(void)

{
  byte bVar2;
  undefined4 uVar1;
  code *pcVar3;
  
  qsm_sci_control_0_high = 0x40;
  qsm_sci_data_reg._0_1_ = 0x80;
  waitForPortPinStable();
  sim_sypcr = sim_sypcr | 8;
  sim_rsr = sim_rsr | 8;
  TPU_CFSR1 = TPU_CFSR1 & 0x7f;
  tpu_hssr1 = tpu_hssr1 & 0x7fff;
  tpu_cpr0 = tpu_cpr0 & 0x7ff0;
  tpu_cier = 0;
  sim_csor0 = 0;
  sim_csbar1 = 0;
  can1_cantbsel = 0;
  QADC64_QACR1 = 0;
  QADC64_QADCSR = 0;
  QADC64_QADCINT = 0;
  QADC64_PQAPAR = 0;
  QADC64_DDRQB = 0;
  QADC64_LJSRR = 0;
  QADC64_RJURR = 0;
  QADC64_CCW0 = 0;
  QADC64_QMCR = 0x1601;
  QADC64_QADCTEST = 8;
  QADC64_PORTQA = 0;
  tpu_channel_priority_select = 4;
  QADC64_CCW8 = 0x104;
  tpu_tpumcr = 5;
  tpu_dscr = 0x13;
  TPU_TICR_H = 0x50;
  ramClearWithWatchdog();
  bVar2 = portPinTestSequence1();
  if (bVar2 == 0) {
    bVar2 = portPinTestSequence2();
    if (bVar2 == 0) {
      uVar1 = tpuAndQadcVerification();
      if ((char)uVar1 == '\0') {
        if ((_canBufferSetup1 == -0x6789abcd) || (_canBufferSetup1 == -0x6789abce)) {
          pcVar3 = (code *)&SUB_70003002;
        }
        else {
          pcVar3 = (code *)&SUB_b0390080;
        }
        goto LAB_00025350;
      }
    }
  }
  huffmanDecompressMain();
  pcVar3 = (code *)&SUB_00824b32;
LAB_00025350:
  (*pcVar3)();
  return;
}



//
// Function: ramClearWithWatchdog @ 0x00025356
//

void ramClearWithWatchdog(void)

{
  dword *pdVar1;
  word *pwVar2;
  
  pwVar2 = &rpm_rate_limit_countdown;
  while (pwVar2 < &engine_speed_constant_1_backup_conversion_factor_from_tcnts_0_2_29) {
    pdVar1 = (dword *)((int)pwVar2 + 0x100);
    if (&engine_speed_constant_1_backup_conversion_factor_from_tcnts_0_2_29 < pdVar1) {
      pdVar1 = &engine_speed_constant_1_backup_conversion_factor_from_tcnts_0_2_29;
    }
    for (; pwVar2 < pdVar1; pwVar2 = (word *)((int)pwVar2 + 4)) {
      *(dword *)pwVar2 = 0;
    }
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
  }
  return;
}



//
// Function: flashBootloaderProgrammer @ 0x000253a6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void flashBootloaderProgrammer(void)

{
  int iVar1;
  undefined4 unaff_D2;
  code *pcVar2;
  byte *pbVar3;
  code *pcVar4;
  undefined2 uVar5;
  undefined1 auStack_104 [256];
  
  uVar5 = (undefined2)((uint)unaff_D2 >> 0x10);
  if ((flash_bootloader_param == 0xbad1) && (_DAT_00000014 < flash_bootloader_code_limit)) {
    sim_data_direction_control = sim_data_direction_control | 2;
    ioControlAndCanPinSwitching();
    iVar1 = flashEraseFromRam(0);
    if (iVar1 == 0) {
      pcVar4 = (code *)0x0;
      pbVar3 = &flash_bootloader_code_start;
      while (pbVar3 < flashBootloaderProgrammer) {
        pcVar2 = (code *)auStack_104;
        for (; (pcVar2 < &stack0xfffffffc && (pbVar3 < flashBootloaderProgrammer));
            pbVar3 = (byte *)((code *)pbVar3 + 1)) {
          *pcVar2 = (code)*pbVar3;
          pcVar2 = pcVar2 + 1;
        }
        flashProgramFromRam((int)pcVar4,auStack_104,
                            CONCAT22((short)pcVar2 - (short)auStack_104,uVar5));
        pcVar4 = pcVar2 + ((int)pcVar4 - (int)auStack_104);
      }
    }
    sim_data_direction_control = sim_data_direction_control & 0xfd;
    ioControlAndCanPinSwitching();
  }
  return;
}



//
// Function: dataBufferCopy @ 0x0002544a
//

void dataBufferCopy(undefined1 *param_1,undefined4 param_2)

{
  ushort uVar1;
  byte *pbVar2;
  
  pbVar2 = &data_buffer_copy_dest;
  for (uVar1 = 0; uVar1 < param_2._0_2_; uVar1 = uVar1 + 1) {
    *pbVar2 = *param_1;
    param_1 = (undefined1 *)CONCAT31(param_1._0_3_,(char)param_1 + '\x01');
    pbVar2 = pbVar2 + 1;
  }
  return;
}



//
// Function: diagnosticResponseBuilder @ 0x00025476
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint diagnosticResponseBuilder(undefined4 param_1)

{
  short sVar1;
  uint in_D0;
  uint uVar2;
  byte bVar3;
  byte bVar5;
  ushort uVar4;
  byte bVar6;
  byte bVar7;
  byte *pbVar8;
  undefined1 *puVar9;
  undefined4 local_8;
  
  pbVar8 = &CMSYRSFG;
  bVar3 = 0;
  bVar5 = 0;
  for (bVar6 = 0; bVar7 = (byte)((uint)param_1 >> 0x10), bVar6 < bVar7; bVar6 = bVar6 + 1) {
    if ((pbVar8[9] == 5) || (pbVar8[9] == 3)) {
      bVar5 = bVar5 + 1;
      bVar3 = pbVar8[8] + bVar3;
    }
    in_D0 = 0;
    pbVar8 = pbVar8 + 10;
  }
  if ((bVar5 == 0) ||
     (((uint)bVar5 + (uint)_memory_patch_count < 0xb &&
      (in_D0 = (int)&timer_used_to_disable_rsg_when_gear_ratio_changes_0_100 - can_rx_buffer_ptr,
      (int)(uint)bVar3 <= (int)in_D0)))) {
    pbVar8 = &CMSYRSFG;
    for (bVar5 = 0; bVar5 < bVar7; bVar5 = bVar5 + 1) {
      local_8 = *(undefined1 **)(pbVar8 + 4);
      uVar4 = (ushort)pbVar8[8];
      if ((pbVar8[9] == 5) || (pbVar8[9] == 3)) {
        *(undefined1 **)
         (&timer_used_to_disable_rsg_when_gear_ratio_changes_0_100 +
         (short)(_memory_patch_count * 3)) = *(undefined1 **)pbVar8;
        sVar1 = _memory_patch_count * 3;
        _memory_patch_count = _memory_patch_count + 1;
        *(ushort *)(sVar1 * 2 + 0x80d3aa) = uVar4;
        for (bVar3 = 0; bVar3 < uVar4; bVar3 = bVar3 + 1) {
          *(undefined1 *)can_rx_buffer_ptr = *local_8;
          local_8 = (undefined1 *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
          can_rx_buffer_ptr = can_rx_buffer_ptr + 1;
        }
      }
      else {
        puVar9 = *(undefined1 **)pbVar8;
        for (bVar3 = 0; bVar3 < uVar4; bVar3 = bVar3 + 1) {
          *puVar9 = *local_8;
          local_8 = (undefined1 *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
          puVar9 = puVar9 + 1;
        }
      }
      in_D0 = 0;
      pbVar8 = pbVar8 + 10;
    }
    uVar2 = in_D0 & 0xffffff00;
  }
  else {
    uVar2 = 0xe;
  }
  return uVar2;
}



//
// Function: main @ 0x00025596
//

/* Setting prototype: void main(void) */

void main(void)

{
  sim_mcr = 0x604f;
  sim_avr = 0x7f08;
  sim_rsr = 0xa9;
  sim_sypcr = 0xfe;
  sim_swiv = 1;
  sim_swsr = 0xff;
  sim_swsr2._1_1_ = 0xc9;
  uRam00fffa1f = 0x30;
  sim_csbar0._1_1_ = 0x9e;
  sim_csbarbt = 0x2bbf;
  sim_csorbt = 0;
  sim_csbar10 = 5;
  sim_csor10 = 0x6830;
  uRam00fffa4c = 0x8003;
  uRam00fffa4e = 0x5830;
  uRam00fffa50 = 0x8003;
  uRam00fffa52 = 0x3830;
  uRam00fffa54 = 0xffd0;
  uRam00fffa56 = 0x5830;
  uRam00fffa58 = 5;
  uRam00fffa5a = 0x7030;
  uRam00fffa5c = 0xffd8;
  uRam00fffa5e = 0x5bf0;
  uRam00fffa60 = 0xffc8;
  uRam00fffa62 = 0x5bf0;
  SIM_CSPDR = 0;
  SIM_PORTC = 0;
  SIM_PFPAR = 0xfffb;
  SIM_PEPAR = 0x2801;
  SIM_PORTF = 0;
  SIM_DDRF = 0;
  SIM_PORTE = 0;
  SIM_DDRE = 0;
  SIM_CSPAR0 = 0;
  SIM_CSPAR1 = 0;
  mainSystemInitialization();
  return;
}



//
// Function: initDiagnosticProtocol @ 0x000256a4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

word initDiagnosticProtocol(void)

{
  byte bVar1;
  
  diagnostic_data_buffer_ptr = (dword)&tracks_progress_of_fan_on_due_to_ac_0_3600;
  diagnostic_iteration_limit_count = 200;
  memory_patch_buffer_base_ptr = (dword)&timer_used_to_disable_rsg_when_gear_ratio_changes_0_100;
  _memory_patch_count = 0;
  can_rx_buffer_ptr = (dword)&tracks_progress_of_fan_on_due_to_ac_0_3600;
  diagnosticBufferPointerInit();
  tpu_transmission_state = 0;
  tpu_diagnostic_retry_counter = 0;
  tpu_channel_state_value = 1;
  tpu_channel_enable_state = 0;
  diagnostic_protocol_init_state._0_1_ = 0;
  diag_multipacket_transmit_pending = 0;
  multi_packet_receive_state = 0;
  diagnostic_command_state = diagnostic_command_state_init;
  insite_parameter_checksum_ptr = (dword)&insite_parameter_checksum_buffer;
  insite_parameter_table_ptr = (dword)&insite_parameter_table_start;
  for (bVar1 = 0; (*(char *)insite_parameter_table_ptr != '\0' && (bVar1 < 0x1e)); bVar1 = bVar1 + 1
      ) {
    *(char *)insite_parameter_checksum_ptr =
         *(char *)(insite_parameter_table_ptr + 2) + *(char *)(insite_parameter_table_ptr + 1);
    insite_parameter_checksum_ptr = insite_parameter_checksum_ptr + 1;
    insite_parameter_table_ptr = insite_parameter_table_ptr + 3;
  }
  tpu_ticr = 0x34;
  tpu_cier = 0x102c;
  return tpu_cfsr0;
}



//
// Function: systemControl64 @ 0x00025768
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void systemControl64(void)

{
  undefined1 uVar1;
  char cVar2;
  int iVar3;
  undefined4 unaff_D2;
  byte bVar4;
  byte bVar5;
  byte bVar6;
  undefined4 local_8;
  
  if (diag_multipacket_transmit_pending != 0) {
    if (diag_transfer_state_t_0080d3f8.byte_count < 0x10) {
      bVar6 = (byte)diag_transfer_state_t_0080d3f8.byte_count + 4;
      diag_multipacket_transmit_pending = 0;
      bVar5 = (byte)diag_transfer_state_t_0080d3f8.byte_count;
    }
    else {
      bVar6 = 0x13;
      bVar5 = 0xf;
    }
    if ((int)can_transmit_buffer_ptr < _can_transmit_length) {
      iVar3 = (_can_transmit_length - can_transmit_buffer_ptr) + -2;
    }
    else {
      iVar3 = (_can_transmit_length - can_transmit_buffer_ptr) + 0xfe;
    }
    if ((int)(uint)bVar6 < iVar3) {
      local_8._3_1_ = (char)can_transmit_buffer_ptr;
      cVar2 = (char)local_8;
      local_8._0_3_ = (undefined3)(can_transmit_buffer_ptr >> 8);
      local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
      *local_8 = 7;
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x02');
      *local_8 = bVar5 | 0xb0;
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x03');
      *local_8 = (undefined1)diag_transfer_state_t_0080d3f8.target_address;
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x04');
      *local_8 = diag_transfer_state_t_0080d3f8.target_address._0_1_;
      local_8 = (byte *)CONCAT31(local_8._0_3_,cVar2 + '\x05');
      for (bVar4 = 0; bVar4 < bVar5; bVar4 = bVar4 + 1) {
        uVar1 = *(undefined1 *)diag_transfer_state_t_0080d3f8.data_pointer;
        diag_transfer_state_t_0080d3f8.data_pointer =
             diag_transfer_state_t_0080d3f8.data_pointer + 1;
        *local_8 = uVar1;
        local_8 = (byte *)CONCAT31(local_8._0_3_,(char)local_8 + '\x01');
      }
      diag_transfer_state_t_0080d3f8.byte_count = diag_transfer_state_t_0080d3f8.byte_count - bVar5;
      *(byte *)can_transmit_buffer_ptr = bVar6;
      *local_8 = 0;
      can_transmit_buffer_ptr = (dword)local_8;
      tpuTransmissionTrigger();
    }
    else {
      diag_multipacket_transmit_pending = 0;
      diagnosticMessageQueueWrite(CONCAT22(4,(short)((uint)unaff_D2 >> 0x10)));
      io_fault_status_reg_4 = io_fault_status_reg_4 | 4;
      io_fault_latch_reg_4 = io_fault_latch_reg_4 | 4;
    }
  }
  return;
}



//
// Function: systemControl74 @ 0x0002588c
//

void systemControl74(void)

{
  if (multi_packet_receive_state != 0) {
    memoryPatchCountDecrement();
  }
  diag_multipacket_transmit_pending = 0;
  multi_packet_receive_state = 0;
  return;
}



//
// Function: systemControl75 @ 0x000258aa
//

void systemControl75(void)

{
  if (multi_packet_receive_state != 0) {
    memoryPatchCountDecrement();
  }
  diag_multipacket_transmit_pending = 0;
  multi_packet_receive_state = 0;
  return;
}



//
// Function: memoryPatchBufferInit @ 0x000258c8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void memoryPatchBufferInit(void)

{
  can_rx_buffer_ptr = (dword)&tracks_progress_of_fan_on_due_to_ac_0_3600;
  memory_patch_pending_flag = 0;
  _memory_patch_count = 0;
  return;
}



//
// Function: memoryPatchingSystem @ 0x000258e0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint memoryPatchingSystem(void)

{
  byte *pbVar1;
  byte bVar2;
  byte *pbVar3;
  byte bVar4;
  uint in_D0;
  undefined4 uVar5;
  char cVar7;
  uint uVar6;
  byte bVar8;
  byte bVar9;
  word *pwVar10;
  uint *puVar11;
  word *pwVar13;
  uint *puVar12;
  
  if (_memory_patch_count == 0) {
    return in_D0 & 0xffffff00;
  }
  if ((system_logging_state == 1) &&
     (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 0)) {
    puVar12 = (uint *)((int)&timer_used_to_disable_rsg_when_gear_ratio_changes_0_100 +
                      (int)(short)((_memory_patch_count & 0xff) * 6));
    bVar9 = memory_patch_iteration_counter;
    while( true ) {
      puVar11 = (uint *)((int)puVar12 + -6);
      bVar4 = bVar9 - 1;
      if (bVar9 == 0) break;
      pbVar1 = (byte *)*puVar11;
      pbVar3 = (byte *)((int)puVar12 + -1);
      if ((((byte *)0xffffff < pbVar1) ||
          ((&system_protected_range_start < pbVar1 && (pbVar1 < &system_protected_range_end)))) ||
         ((puVar12 = puVar11, bVar9 = bVar4, &system_protected_range_start < pbVar1 + *pbVar3 &&
          (pbVar1 + *pbVar3 < &system_protected_range_end)))) {
        memoryPatchBufferInit();
        return 7;
      }
    }
  }
  if ((water_in_fuel_detection_flag == 0) &&
     ((memory_patch_pending_flag == 0 ||
      (uVar5 = memoryPatchCrcCalculate(), (word)uVar5 != memory_patch_crc_expected)))) {
    memoryPatchBufferInit();
    return 0x14;
  }
  if (10 < _memory_patch_count) {
    memoryPatchBufferInit();
    return 4;
  }
  can_rx_buffer_ptr = (dword)&tracks_progress_of_fan_on_due_to_ac_0_3600;
  bVar9 = 0;
  pwVar13 = &timer_used_to_disable_rsg_when_gear_ratio_changes_0_100;
  do {
    if (_memory_patch_count <= bVar9) {
      uVar6 = memoryPatchBufferInit();
      return uVar6 & 0xffffff00;
    }
    pwVar10 = *(word **)pwVar13;
    bVar4 = *(byte *)((int)pwVar13 + 5);
    if (pwVar10 < &indicator_as_to_the_calibration_status_of_the_ecm_see_ces15005) {
      for (bVar8 = 0; bVar8 < bVar4; bVar8 = bVar8 + 1) {
        if (((&system_protected_range_start < pwVar10) && (pwVar10 < &system_protected_range_end))
           && (water_in_fuel_detection_flag == 0)) {
          points_to_engine_sync_fuel_pressure_fuel_minimun_threshold_0_2_32 = 0;
        }
        bVar2 = *(byte *)can_rx_buffer_ptr;
        can_rx_buffer_ptr = can_rx_buffer_ptr + 1;
        *(byte *)pwVar10 = bVar2;
        pwVar10 = (word *)((int)pwVar10 + 1);
      }
    }
    else {
      if ((amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 == 1) &&
         (cVar7 = circularBufferWrite((short)(can_rx_buffer_ptr >> 0x10),bVar4), cVar7 == '\x01')) {
        memoryPatchBufferInit();
        return 4;
      }
      pwVar10 = pwVar10 + -0x3fe584;
      for (bVar8 = 0; bVar8 < bVar4; bVar8 = bVar8 + 1) {
        bVar2 = *(byte *)can_rx_buffer_ptr;
        can_rx_buffer_ptr = can_rx_buffer_ptr + 1;
        *(byte *)pwVar10 = bVar2;
        pwVar10 = (word *)((int)pwVar10 + 1);
      }
    }
    pwVar13 = (word *)((int)pwVar13 + 6);
    bVar9 = bVar9 + 1;
  } while( true );
}



//
// Function: advanced_oil_pressure_protection_system @ 0x00025a90
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void advanced_oil_pressure_protection_system(void)

{
  ushort uVar1;
  int iVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  word wVar6;
  uint uVar7;
  ushort uVar8;
  ushort local_10;
  ushort local_c;
  ushort uStack_6;
  
  if (oil_pressure_protection_enabled == 1) {
    if (_oil_pressure_protection_state != 1) {
      fuelDemandProportionalCalculator();
    }
    wVar6 = oil_pressure_fuel_min_threshold_high;
    sVar3 = _oil_pressure_calculated_value;
    if (_oil_pressure_previous_threshold != pointer_to_oil_pressure_fuel_max_threshold_0_2_32) {
      uStack_6 = (ushort)((uint)_oil_pressure_cal_factor_1 *
                          (uint)pointer_to_oil_pressure_fuel_max_threshold_0_2_32 >> 10);
      uVar7 = (uint)_oil_pressure_cal_factor_2 * (uint)(ushort)(uStack_6 + 0x200);
      if (uVar7 < 0xf99999) {
        if (uVar7 < 0x41894) {
          _oil_pressure_calculated_limit = 0x20c;
        }
        else {
          uStack_6 = (ushort)(uVar7 >> 9);
          _oil_pressure_calculated_limit = uStack_6;
        }
      }
      else {
        _oil_pressure_calculated_limit = 0x7ccc;
      }
    }
    _oil_pressure_previous_threshold = pointer_to_oil_pressure_fuel_max_threshold_0_2_32;
    _oil_pressure_calculated_value = exponentialMovingAverage();
    if (_oil_pressure_max_threshold < _oil_pressure_calculated_value) {
      _oil_pressure_calculated_value = _oil_pressure_max_threshold;
    }
    if (_oil_pressure_calculated_value < _oil_pressure_min_threshold) {
      _oil_pressure_calculated_value = _oil_pressure_min_threshold;
    }
    uVar7 = (uint)_oil_pressure_protection_multiplier *
            ((uint)_oil_pressure_calculated_limit * (uint)_oil_pressure_cal_factor_3 >> 10 & 0xffff)
    ;
    if (uVar7 < 0x1000000) {
      uStack_6 = (ushort)(uVar7 >> 10);
      uVar8 = uStack_6;
    }
    else {
      uVar8 = 0x4000;
    }
    mask_for_input_of_the_oil_pressure_input_0_65535 =
         (word)(((int)_oil_pressure_calculated_value *
                (int)(short)_oil_pressure_protection_multiplier) / 0x3c0);
    if (0x1700 < (short)mask_for_input_of_the_oil_pressure_input_0_65535) {
      mask_for_input_of_the_oil_pressure_input_0_65535 = 0x1700;
    }
    if ((short)mask_for_input_of_the_oil_pressure_input_0_65535 < -0x1700) {
      mask_for_input_of_the_oil_pressure_input_0_65535 = 0xe900;
    }
    amount_of_time_since_oil_pressure_failure_was_detected_0_65535 =
         (word)(((int)_oil_pressure_timing_factor *
                ((int)_oil_pressure_calculated_value - (int)sVar3)) / 0xf0);
    if (0x1c4a < (short)amount_of_time_since_oil_pressure_failure_was_detected_0_65535) {
      amount_of_time_since_oil_pressure_failure_was_detected_0_65535 = 0x1c4a;
    }
    if ((short)amount_of_time_since_oil_pressure_failure_was_detected_0_65535 < -0x1c4a) {
      amount_of_time_since_oil_pressure_failure_was_detected_0_65535 = 0xe3b6;
    }
    oil_pressure_fuel_min_threshold_high =
         amount_of_time_since_oil_pressure_failure_was_detected_0_65535 +
         mask_for_input_of_the_oil_pressure_input_0_65535;
    if (0x1700 < (short)oil_pressure_fuel_min_threshold_high) {
      oil_pressure_fuel_min_threshold_high = 0x1700;
    }
    if ((short)oil_pressure_fuel_min_threshold_high < -0x1700) {
      oil_pressure_fuel_min_threshold_high = 0xe900;
    }
    if (fsmxthfl_calc_input < _oil_pressure_rpm_limit_reference) {
      uStack_6 = (ushort)((uint)uVar8 *
                          ((uint)_oil_pressure_rpm_limit_reference - (uint)fsmxthfl_calc_input) >>
                         0xe);
      pointer_to_oil_pressure_fuel_min_threshold_0_2_32 = uStack_6;
    }
    else {
      pointer_to_oil_pressure_fuel_min_threshold_0_2_32 = 0;
    }
    uStack_6 = (ushort)((uint)uVar8 * (0x7fff - (uint)oil_pressure_protection_threshold) >> 0xe);
    uVar1 = uStack_6 + oil_pressure_protection_threshold;
    iVar4 = (uint)rpm_multiplier_0 * (uint)uVar1 * 2;
    iVar5 = (uint)rpm_multiplier_1 * (uint)uVar1 * 2;
    if (vp44_engine_state != 4) {
      oil_pressure_fuel_min_threshold_high = mask_for_input_of_the_oil_pressure_input_0_65535;
      if (fsmxthfl_calc_input < current_fuel_demand_value) {
        uStack_6 = (ushort)((uint)uVar8 *
                            ((uint)current_fuel_demand_value - (uint)fsmxthfl_calc_input) >> 0xe);
        pointer_to_oil_pressure_fuel_min_threshold_0_2_32 = uStack_6;
      }
      else {
        pointer_to_oil_pressure_fuel_min_threshold_0_2_32 = 0;
      }
      iVar2 = (uint)current_fuel_demand_value * (uint)uVar1 * 2;
      oil_pressure_fuel_calculation = (word)((uint)iVar2 >> 0x10);
      oil_pressure_fuel_calc_low_word = (word)iVar2;
      _oil_pressure_fuel_calculation =
           CONCAT22((_fuel_delivery_offset_correction + oil_pressure_fuel_calculation) -
                    pointer_to_oil_pressure_fuel_min_threshold_0_2_32,
                    oil_pressure_fuel_calc_low_word);
    }
    iVar2 = ((int)(short)wVar6 - (int)(short)pointer_to_oil_pressure_fuel_min_threshold_0_2_32) *
            (0x7fff - (short)oil_pressure_protection_threshold) * 2 + _oil_pressure_fuel_calculation
    ;
    oil_pressure_fuel_calculation = (word)((uint)iVar2 >> 0x10);
    sVar3 = oil_pressure_fuel_calculation - _fuel_delivery_offset_correction;
    oil_pressure_fuel_calc_low_word = (word)iVar2;
    _oil_pressure_fuel_calculation = CONCAT22(sVar3,oil_pressure_fuel_calc_low_word);
    local_c = (ushort)((uint)iVar4 >> 0x10);
    if (sVar3 < (short)local_c) {
      local_10 = (ushort)((uint)iVar5 >> 0x10);
      if (sVar3 < (short)local_10) {
        _oil_pressure_fuel_calculation = (uint)local_10 << 0x10;
      }
    }
    else {
      _oil_pressure_fuel_calculation = (uint)local_c << 0x10;
    }
    time_duration_since_oil_pressure_fault_was_detected_0_65535 = oil_pressure_fuel_calculation;
    uVar7 = ((int)(short)oil_pressure_fuel_calculation +
            (int)(short)oil_pressure_fuel_min_threshold_high) * 0x8000;
    if (iVar5 >> 1 < (int)uVar7) {
      if ((int)uVar7 < iVar4 >> 1) {
        _oil_pressure_rpm_limit_reference = (ushort)(uVar7 / uVar1);
      }
      else {
        _oil_pressure_rpm_limit_reference = rpm_multiplier_0;
      }
    }
    else {
      _oil_pressure_rpm_limit_reference = rpm_multiplier_1;
    }
    if ((oil_pressure_protection_enabled == 1) &&
       (oil_pressure_fuel_max_threshold_high < shutdown_limit_accumulator)) {
      shutdown_limit_accumulator = oil_pressure_fuel_max_threshold_high;
      shutdown_minimum_selector_value = OIL_PRESSURE_PROTECTION;
    }
  }
  else {
    _oil_pressure_rpm_limit_reference = 0;
  }
  _oil_pressure_protection_state = oil_pressure_protection_enabled;
  return;
}



//
// Function: fuelDemandProportionalCalculator @ 0x00025ece
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDemandProportionalCalculator(void)

{
  int iVar1;
  uint uVar2;
  undefined2 uStack_6;
  
  oil_pressure_fuel_min_threshold_high = 0;
  rpmSnapshotCapture();
  fuel_demand_proportional_calc_result = 0x80000000;
  _oil_pressure_calculated_value = 0;
  uVar2 = proportionalCalculation
                    ((uint)_oil_pressure_cal_factor_2,
                     ((uint)_oil_pressure_cal_factor_1 *
                      (uint)pointer_to_oil_pressure_fuel_max_threshold_0_2_32 >> 10) + 0x200,1);
  if (uVar2 < 0xf99999) {
    uStack_6 = (ushort)(uVar2 >> 9);
    _oil_pressure_calculated_limit = uStack_6;
  }
  else {
    _oil_pressure_calculated_limit = 0x7ccc;
  }
  uVar2 = ((uint)_oil_pressure_calculated_limit * (uint)_oil_pressure_cal_factor_3 >> 10 & 0xffff) *
          (int)_oil_pressure_protection_multiplier;
  if (uVar2 < 0x1000000) {
    uStack_6 = (ushort)(uVar2 >> 10);
  }
  else {
    uStack_6 = 0x4000;
  }
  uStack_6 = (ushort)((uint)uStack_6 * (0x7fff - (uint)oil_pressure_protection_threshold) >> 0xe);
  _oil_pressure_fuel_calculation =
       (uint)current_fuel_demand_value *
       (uint)(ushort)(uStack_6 + oil_pressure_protection_threshold) * 2;
  iVar1 = _oil_pressure_fuel_calculation;
  oil_pressure_fuel_calculation = (word)((uint)_oil_pressure_fuel_calculation >> 0x10);
  time_duration_since_oil_pressure_fault_was_detected_0_65535 = oil_pressure_fuel_calculation;
  _oil_pressure_rpm_limit_reference = current_fuel_demand_value;
  _oil_pressure_fuel_calculation = iVar1;
  return;
}



//
// Function: fuelDemandScaleFactorCalculator @ 0x00025fda
//

void fuelDemandScaleFactorCalculator(void)

{
  undefined4 local_8;
  
  if (param_scale_factor < param_ref_base) {
    local_8 = 0;
  }
  else {
    local_8 = (uint)param_scale_factor - (uint)param_ref_base;
  }
  oil_pressure_fuel_max_threshold_high =
       param_ref_base +
       (short)(((uint)fuel_demand_scale_multiplier * (local_8 & 0xffff)) /
              (uint)the_deceleration_value_where_e_braking_will_be_removed_1_0_01);
  fuel_demand_proportional_calc_result = 0x80000000;
  fuel_demand_scale_table_ptr = 0x808916;
  fuelDemandTablePointerInit();
  return;
}



//
// Function: oil_pressure_protection_controller @ 0x0002604e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void oil_pressure_protection_controller(void)

{
  ushort uVar1;
  
  if (pointer_to_oil_pressure_fuel_max_threshold_0_2_32 <
      pointer_to_oil_pressure_rpm_limit_threshold_0_2_32) {
    uVar1 = pointer_to_oil_pressure_rpm_limit_threshold_0_2_32 -
            pointer_to_oil_pressure_fuel_max_threshold_0_2_32;
  }
  else {
    uVar1 = pointer_to_oil_pressure_fuel_max_threshold_0_2_32 -
            pointer_to_oil_pressure_rpm_limit_threshold_0_2_32;
  }
  if (uVar1 <= oil_pressure_rate_limit_step) {
    pointer_to_oil_pressure_fuel_max_threshold_0_2_32 =
         pointer_to_oil_pressure_rpm_limit_threshold_0_2_32;
    return;
  }
  _oil_pressure_calculation_buffer = (uint)pointer_to_oil_pressure_fuel_max_threshold_0_2_32 << 0x10
  ;
  uVar1 = coreTableInterpolation();
  if (uVar1 <= pointer_to_oil_pressure_fuel_max_threshold_0_2_32) {
    if ((int)(uint)oil_pressure_rate_limit_step <
        (int)((uint)pointer_to_oil_pressure_fuel_max_threshold_0_2_32 - (uint)uVar1)) {
      pointer_to_oil_pressure_fuel_max_threshold_0_2_32 = uVar1;
      return;
    }
    pointer_to_oil_pressure_fuel_max_threshold_0_2_32 =
         pointer_to_oil_pressure_fuel_max_threshold_0_2_32 - oil_pressure_rate_limit_step;
    return;
  }
  if ((int)(uint)oil_pressure_rate_limit_step <=
      (int)((uint)uVar1 - (uint)pointer_to_oil_pressure_fuel_max_threshold_0_2_32)) {
    pointer_to_oil_pressure_fuel_max_threshold_0_2_32 = uVar1;
    return;
  }
  pointer_to_oil_pressure_fuel_max_threshold_0_2_32 =
       oil_pressure_rate_limit_step + pointer_to_oil_pressure_fuel_max_threshold_0_2_32;
  return;
}



//
// Function: rpmSnapshotCapture @ 0x000260ec
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void rpmSnapshotCapture(void)

{
  pointer_to_oil_pressure_fuel_max_threshold_0_2_32 = current_engine_rpm;
  _oil_pressure_calculation_buffer = 0;
  return;
}



//
// Function: fuelDemandTablePointerInit @ 0x000260fe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDemandTablePointerInit(void)

{
  _oil_pressure_calculation_buffer = 0;
  fuel_demand_scale_table_2_ptr = 0x808928;
  return;
}



//
// Function: oil_pressure_shutdown_controller @ 0x00026110
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint oil_pressure_shutdown_controller(void)

{
  uint in_D0;
  uint uVar1;
  
  if ((((diagnostic_status_register == FUEL_ARBITRATOR_SOURCE) ||
       (diagnostic_status_register == DERATE_CONDITION_2)) ||
      (diagnostic_status_register == DERATE_CONDITION_30)) ||
     (diagnostic_status_register == DERATE_CONDITION_3)) {
    delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 = diagnostic_status_register;
    amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 = cached_parameter_value;
    amount_of_time_over_oil_pressure_fuel_shutdown_threshold_0_65535 = 0;
    true_oil_pressure_precrank_error_1_true_0_false = oil_pressure_precrank_status;
    return in_D0;
  }
  if (oil_pressure_protection_enabled == 1) {
    in_D0 = diagnostic_system_flags_1 & 0x10;
    if ((diagnostic_system_flags_1 & 0x10) != 0) {
      if ((diagnostic_status_register == DIAGNOSTIC_MODE_7) ||
         (diagnostic_status_register == DEFAULT_DIAGNOSTIC)) {
        uVar1 = (uint)cached_parameter_value;
        if (_oil_pressure_rpm_limit_reference <= cached_parameter_value) {
          uVar1 = diagnostic_system_flags_2 & 0x2000;
          if ((diagnostic_system_flags_2 & 0x2000) != 0) {
            amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 = cached_parameter_value
            ;
            delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 =
                 diagnostic_status_register;
            true_oil_pressure_precrank_error_1_true_0_false = oil_pressure_error_status;
            amount_of_time_over_oil_pressure_fuel_shutdown_threshold_0_65535 = 1;
            return uVar1;
          }
        }
        amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 =
             _oil_pressure_rpm_limit_reference;
        delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 = 4;
        amount_of_time_over_oil_pressure_fuel_shutdown_threshold_0_65535 = 0;
        true_oil_pressure_precrank_error_1_true_0_false = oil_pressure_precrank_status;
        return uVar1;
      }
      if ((diagnostic_status_register != EPS_FAULT_MODE) &&
         (diagnostic_status_register != ENGINE_FLAGS_SOURCE)) {
        return in_D0;
      }
      amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 =
           _oil_pressure_rpm_limit_reference;
      delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 = 4;
      amount_of_time_over_oil_pressure_fuel_shutdown_threshold_0_65535 = 0;
      true_oil_pressure_precrank_error_1_true_0_false = oil_pressure_precrank_status;
      return in_D0;
    }
  }
  delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 = diagnostic_status_register;
  amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 = cached_parameter_value;
  amount_of_time_over_oil_pressure_fuel_shutdown_threshold_0_65535 = 0;
  true_oil_pressure_precrank_error_1_true_0_false = oil_pressure_precrank_status;
  return in_D0;
}



//
// Function: initOilPressureMonitoring @ 0x0002621c
//

void initOilPressureMonitoring(void)

{
  amount_of_time_over_oil_pressure_fuel_shutdown_threshold_0_65535 = 0;
  true_oil_pressure_precrank_error_1_true_0_false = oil_pressure_precrank_status;
  return;
}



//
// Function: initMIOS14Timers @ 0x0002622e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint initMIOS14Timers(void)

{
  uint uVar1;
  
  QADC64_QADCINT = 8;
  QADC64_PQAPAR = 8;
  QADC64_DDRQB = 8;
  QADC64_LJSRR = 8;
  QADC64_QADCMCR = -(short)(((uint)PTGNQPTB * 8000) / 1000) - 1;
  QADC64_QACR1 = QADC64_QACR1 & 0xf | 9;
  uVar1 = 0x7fff0000;
  if ((dtc_active_fault_count & 1) == 0) {
    sim_timer_control_register = sim_timer_control_register & 0xffff0000;
  }
  else {
    uVar1 = ((((uint)pwm_output_scaling_factor *
              (uint)delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535) / 0x6400 &
             0xffff) * 8000) / 1000 & 0xffff |
            ((uint)pwm_output_scaling_factor * 8000) / 1000 << 0x10;
    sim_timer_control_register = uVar1;
  }
  uVar1 = uVar1 & 0xffff0000;
  if ((dtc_active_fault_count & 2) == 0) {
    _QADC64_DDRQA = _QADC64_DDRQA & 0xffff0000;
  }
  else {
    uVar1 = ((((uint)pwm_output_2_scaling_factor *
              (uint)time_since_rpm_crossed_oil_pres_start_mon_rpm_0_65535) / 0x6400 & 0xffff) * 8000
            ) / 1000 & 0xffff | ((uint)pwm_output_2_scaling_factor * 8000) / 1000 << 0x10;
    _QADC64_DDRQA = uVar1;
  }
  if (5 < amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535) {
    uVar1 = uVar1 & 0xffff0000;
    if ((dtc_active_fault_count & 4) == 0) {
      tpu_pwm_channel_3_output = tpu_pwm_channel_3_output & 0xffff0000;
    }
    else {
      uVar1 = ((((uint)pwm_output_3_scaling_factor *
                (uint)errors_allowed_timer_running_flag_for_oil_pres_0_1) / 0x6400 & 0xffff) * 8000)
              / 1000 & 0xffff | ((uint)pwm_output_3_scaling_factor * 8000) / 1000 << 0x10;
      tpu_pwm_channel_3_output = uVar1;
    }
  }
  if (5 < amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535) {
    uVar1 = uVar1 & 0xffff0000;
    if ((dtc_active_fault_count & 8) == 0) {
      tpu_pwm_channel_4_output = tpu_pwm_channel_4_output & 0xffff0000;
    }
    else {
      uVar1 = ((((uint)pwm_output_4_scaling_factor *
                (uint)pointer_to_oil_pressure_fuel_fault_log_data_0_2_32) / 0x6400 & 0xffff) * 8000)
              / 1000 & 0xffff | ((uint)pwm_output_4_scaling_factor * 8000) / 1000 << 0x10;
      tpu_pwm_channel_4_output = uVar1;
    }
  }
  uVar1 = CONCAT22((short)(uVar1 >> 0x10),dtc_active_fault_count) & 0xffff0010;
  if (((dtc_active_fault_count & 0x10) == 0) || (oil_pressure_rpm_fault_delay == 0)) {
    _QADC64_QACR2 = 0x7fff;
  }
  else if (oil_pressure_rpm_fault_delay < 0x6400) {
    QADC64_QADCMCR = -(short)(((uint)PTGNQPTB * 8000) / 1000) - 1;
    uVar1 = (QADC64_QADCMCR & 0x7fff) +
            (((((uint)PTGNQPTB * (uint)oil_pressure_rpm_fault_delay) / 0x6400 & 0xffff) * 8000) /
             1000 & 0xffff) | 0x7fff0000;
    _QADC64_QACR2 = uVar1;
  }
  else {
    uVar1 = ((uint)PTGNQPTB * 8000) / 1000;
    QADC64_QADCMCR = -(short)uVar1 - 1;
    _QADC64_QACR2 = 0x7fff8000;
  }
  dtc_active_fault_count = dtc_active_fault_count | 0x1f;
  return uVar1;
}



//
// Function: hardwareTimerFlagsInit @ 0x000265a4
//

void hardwareTimerFlagsInit(void)

{
  QADC64_CCW0 = 1;
  QADC64_RJURR = 1;
  QADC64_QADCSR = 1;
  return;
}



//
// Function: oilPressureRpmFaultMonitor @ 0x000265be
//

uint oilPressureRpmFaultMonitor(void)

{
  uint in_D0;
  uint uVar1;
  
  if (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 < 6) {
    amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 =
         amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 + 1;
    in_D0 = waterInFuelDiagnosticHandler();
  }
  if (pwm_output_scaling_factor != 0) {
    if ((QADC64_CCW0 & 0x8000) == 0) {
      if ((delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 == 0) ||
         ((dtc_active_fault_count & 1) == 0)) {
        if ((QADC64_CCW0 & 0x80) == 0) {
          in_D0 = io_fault_status_reg_4 & 0xffff0010;
          if (((io_fault_status_reg_4 & 0x10) != 0) &&
             (in_D0 = io_fault_latch_reg_4 & 0xffff0010, (io_fault_latch_reg_4 & 0x10) == 0)) {
            pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 = 0;
            io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffef;
          }
        }
        else {
          in_D0 = (uint)pointer_to_oil_pressure_rpm_fault_log_data_0_2_32;
          if (pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 <
              oil_pressure_fault_debounce_threshold) {
            pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 =
                 pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 + 1;
          }
          else {
            io_fault_status_reg_4 = io_fault_status_reg_4 | 0x10;
            io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x10;
          }
        }
      }
      else if (delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 < 0x6400) {
        in_D0 = QADC64_QADCINT & 0xffff8000;
        if ((((QADC64_QADCINT & 0x8000) != 0) &&
            (in_D0 = io_fault_status_reg_4 & 0xffff0010, (io_fault_status_reg_4 & 0x10) != 0)) &&
           (in_D0 = io_fault_latch_reg_4 & 0xffff0010, (io_fault_latch_reg_4 & 0x10) == 0)) {
          QADC64_QADCINT = QADC64_QADCINT & 0x7fff;
          pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 = 0;
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffef;
        }
      }
      else if ((QADC64_CCW0 & 0x80) == 0) {
        in_D0 = (uint)pointer_to_oil_pressure_rpm_fault_log_data_0_2_32;
        if (pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 <
            oil_pressure_fault_debounce_threshold) {
          pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 =
               pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 + 1;
        }
        else {
          io_fault_status_reg_4 = io_fault_status_reg_4 | 0x10;
          io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x10;
        }
      }
      else {
        in_D0 = io_fault_status_reg_4 & 0xffff0010;
        if (((io_fault_status_reg_4 & 0x10) != 0) &&
           (in_D0 = io_fault_latch_reg_4 & 0xffff0010, (io_fault_latch_reg_4 & 0x10) == 0)) {
          pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 = 0;
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffef;
        }
      }
    }
    else {
      in_D0 = io_fault_status_reg_4 & 0xffff0010;
      if (((io_fault_status_reg_4 & 0x10) != 0) &&
         (in_D0 = io_fault_latch_reg_4 & 0xffff0010, (io_fault_latch_reg_4 & 0x10) == 0)) {
        QADC64_CCW0 = QADC64_CCW0 & 0x7fff;
        io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffef;
        pointer_to_oil_pressure_rpm_fault_log_data_0_2_32 = 0;
      }
    }
  }
  if (pwm_output_2_scaling_factor != 0) {
    if ((QADC64_RJURR & 0x8000) == 0) {
      if ((time_since_rpm_crossed_oil_pres_start_mon_rpm_0_65535 == 0) ||
         ((dtc_active_fault_count & 2) == 0)) {
        if ((QADC64_RJURR & 0x80) == 0) {
          in_D0 = io_fault_status_reg_4 & 0xffff0020;
          if ((io_fault_status_reg_4 & 0x20) != 0) {
            in_D0 = io_fault_latch_reg_4 & 0xffff0020;
            if ((io_fault_latch_reg_4 & 0x20) == 0) {
              io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffdf;
              oil_pressure_fuel_fault_counter = 0;
            }
          }
        }
        else {
          in_D0 = (uint)oil_pressure_fuel_fault_counter;
          if (oil_pressure_fuel_fault_counter < oil_pressure_rpm_fault_threshold) {
            oil_pressure_fuel_fault_counter = oil_pressure_fuel_fault_counter + 1;
          }
          else {
            io_fault_status_reg_4 = io_fault_status_reg_4 | 0x20;
            io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x20;
          }
        }
      }
      else if (time_since_rpm_crossed_oil_pres_start_mon_rpm_0_65535 < 0x6400) {
        in_D0 = QADC64_PQAPAR & 0xffff8000;
        if ((((QADC64_PQAPAR & 0x8000) != 0) &&
            (in_D0 = io_fault_status_reg_4 & 0xffff0020, (io_fault_status_reg_4 & 0x20) != 0)) &&
           (in_D0 = io_fault_latch_reg_4 & 0xffff0020, (io_fault_latch_reg_4 & 0x20) == 0)) {
          QADC64_PQAPAR = QADC64_PQAPAR & 0x7fff;
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffdf;
          oil_pressure_fuel_fault_counter = 0;
        }
      }
      else if ((QADC64_RJURR & 0x80) == 0) {
        in_D0 = (uint)oil_pressure_fuel_fault_counter;
        if (oil_pressure_rpm_fault_threshold < oil_pressure_fuel_fault_counter) {
          io_fault_status_reg_4 = io_fault_status_reg_4 | 0x20;
          io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x20;
        }
        else {
          oil_pressure_fuel_fault_counter = oil_pressure_fuel_fault_counter + 1;
        }
      }
      else {
        in_D0 = io_fault_status_reg_4 & 0xffff0020;
        if ((io_fault_status_reg_4 & 0x20) != 0) {
          in_D0 = io_fault_latch_reg_4 & 0xffff0020;
          if ((io_fault_latch_reg_4 & 0x20) == 0) {
            io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffdf;
            oil_pressure_fuel_fault_counter = 0;
          }
        }
      }
    }
    else {
      in_D0 = io_fault_status_reg_4 & 0xffff0020;
      if (((io_fault_status_reg_4 & 0x20) != 0) &&
         (in_D0 = io_fault_latch_reg_4 & 0xffff0020, (io_fault_latch_reg_4 & 0x20) == 0)) {
        QADC64_RJURR = QADC64_RJURR & 0x7fff;
        io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffdf;
        oil_pressure_fuel_fault_counter = 0;
      }
    }
  }
  if (PTGNQPTB != 0) {
    if ((QADC64_QADCSR & 0x8000) == 0) {
      if ((oil_pressure_rpm_fault_delay == 0) || ((dtc_active_fault_count & 0x10) == 0)) {
        if ((QADC64_QADCSR & 0x80) != 0) {
          uVar1 = (uint)mask_for_input_of_water_in_fuel_0_65535;
          if (water_in_fuel_fault_threshold <= mask_for_input_of_water_in_fuel_0_65535) {
            io_fault_status_reg_4 = io_fault_status_reg_4 | 0x100;
            io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x100;
            return uVar1;
          }
          mask_for_input_of_water_in_fuel_0_65535 = mask_for_input_of_water_in_fuel_0_65535 + 1;
          return uVar1;
        }
        in_D0 = io_fault_status_reg_4 & 0xffff0100;
        if (((io_fault_status_reg_4 & 0x100) != 0) &&
           (in_D0 = io_fault_latch_reg_4 & 0xffff0100, (io_fault_latch_reg_4 & 0x100) == 0)) {
          mask_for_input_of_water_in_fuel_0_65535 = 0;
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfeff;
          return in_D0;
        }
      }
      else if (oil_pressure_rpm_fault_delay < 0x6400) {
        in_D0 = QADC64_QACR1 & 0xffff8000;
        if ((((QADC64_QACR1 & 0x8000) != 0) &&
            (in_D0 = io_fault_status_reg_4 & 0xffff0100, (io_fault_status_reg_4 & 0x100) != 0)) &&
           (in_D0 = io_fault_latch_reg_4 & 0xffff0100, (io_fault_latch_reg_4 & 0x100) == 0)) {
          QADC64_QACR1 = QADC64_QACR1 & 0x7fff;
          io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfeff;
          mask_for_input_of_water_in_fuel_0_65535 = 0;
          return in_D0;
        }
      }
      else {
        if ((QADC64_QADCSR & 0x80) == 0) {
          uVar1 = (uint)mask_for_input_of_water_in_fuel_0_65535;
          if (water_in_fuel_fault_threshold <= mask_for_input_of_water_in_fuel_0_65535) {
            io_fault_status_reg_4 = io_fault_status_reg_4 | 0x100;
            io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x100;
            return uVar1;
          }
          mask_for_input_of_water_in_fuel_0_65535 = mask_for_input_of_water_in_fuel_0_65535 + 1;
          return uVar1;
        }
        in_D0 = io_fault_status_reg_4 & 0xffff0100;
        if ((io_fault_status_reg_4 & 0x100) != 0) {
          in_D0 = io_fault_latch_reg_4 & 0xffff0100;
          if ((io_fault_latch_reg_4 & 0x100) == 0) {
            io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfeff;
            mask_for_input_of_water_in_fuel_0_65535 = 0;
            return in_D0;
          }
        }
      }
    }
    else {
      in_D0 = io_fault_status_reg_4 & 0xffff0100;
      if (((io_fault_status_reg_4 & 0x100) != 0) &&
         (in_D0 = io_fault_latch_reg_4 & 0xffff0100, (io_fault_latch_reg_4 & 0x100) == 0)) {
        QADC64_QADCSR = QADC64_QADCSR & 0x7fff;
        io_fault_status_reg_4 = io_fault_status_reg_4 & 0xfeff;
        mask_for_input_of_water_in_fuel_0_65535 = 0;
      }
    }
  }
  return in_D0;
}



//
// Function: waterInFuelDiagnosticHandler @ 0x00026aca
//

uint waterInFuelDiagnosticHandler(void)

{
  uint uVar1;
  dword dVar2;
  
  if (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 == 1) {
    uVar1 = 0;
    if ((dtc_active_fault_count & 4) == 0) {
      tpu_pwm_channel_3_output = tpu_pwm_channel_3_output & 0xffff0000;
    }
    else {
      uVar1 = ((((uint)pwm_output_3_scaling_factor * 0x6400) / 0x6400 & 0xffff) * 8000) / 1000 &
              0xffff | ((uint)pwm_output_3_scaling_factor * 8000) / 1000 << 0x10;
      tpu_pwm_channel_3_output = uVar1;
    }
    if ((dtc_active_fault_count & 8) != 0) {
      tpu_pwm_channel_4_output =
           ((((uint)pwm_output_4_scaling_factor * 0x6400) / 0x6400 & 0xffff) * 8000) / 1000 & 0xffff
           | ((uint)pwm_output_4_scaling_factor * 8000) / 1000 << 0x10;
      return tpu_pwm_channel_4_output;
    }
    tpu_pwm_channel_4_output = tpu_pwm_channel_4_output & 0xffff0000;
    return CONCAT22((short)(uVar1 >> 0x10),dtc_active_fault_count) & 0xffff0008;
  }
  if ((amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 3) &&
     (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 5)) {
    return (uint)amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535;
  }
  if ((((QADC64_DDRQB & 0x80) == 0) || ((sim_swsr & 2) == 0)) &&
     (((QADC64_DDRQB & 0x80) != 0 || ((sim_swsr & 2) != 0)))) {
    io_fault_status_reg_4 = io_fault_status_reg_4 | 0x40;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x40;
  }
  else if (((io_fault_status_reg_4 & 0x40) != 0) && ((io_fault_latch_reg_4 & 0x40) == 0)) {
    io_fault_status_reg_4 = io_fault_status_reg_4 & 0xffbf;
  }
  if (((QADC64_LJSRR & 0x80) == 0) || ((sim_swsr & 4) == 0)) {
    if ((QADC64_LJSRR & 0x80) == 0) {
      if ((sim_swsr & 4) == 0) goto LAB_00026cc4;
    }
    io_fault_status_reg_4 = io_fault_status_reg_4 | 0x80;
    io_fault_latch_reg_4 = io_fault_latch_reg_4 | 0x80;
  }
  else {
LAB_00026cc4:
    if (((io_fault_status_reg_4 & 0x100) != 0) && ((io_fault_latch_reg_4 & 0x100) == 0)) {
      io_fault_status_reg_4 = io_fault_status_reg_4 & 0xff7f;
    }
  }
  dVar2 = 0;
  if ((dtc_active_fault_count & 4) == 0) {
    tpu_pwm_channel_3_output = tpu_pwm_channel_3_output & 0xffff0000;
  }
  else {
    dVar2 = ((uint)pwm_output_3_scaling_factor * 8000) / 1000 << 0x10;
    tpu_pwm_channel_3_output = dVar2;
  }
  if ((dtc_active_fault_count & 8) != 0) {
    tpu_pwm_channel_4_output = ((uint)pwm_output_4_scaling_factor * 8000) / 1000 << 0x10;
    return tpu_pwm_channel_4_output;
  }
  tpu_pwm_channel_4_output = tpu_pwm_channel_4_output & 0xffff0000;
  return CONCAT22((short)(dVar2 >> 0x10),dtc_active_fault_count) & 0xffff0008;
}



//
// Function: ioOutputFlagMappingSlowCycle40Coordinator @ 0x00026d98
//

void ioOutputFlagMappingSlowCycle40Coordinator(void)

{
  if ((io_control_flags & 1) == 0) {
    io_output_flag_byte_1 = io_output_flag_byte_1 | 8;
  }
  else {
    io_output_flag_byte_1 = io_output_flag_byte_1 & 0xf7;
  }
  if ((output_control_status_byte & 1) == 0) {
    io_output_flag_byte_1 = io_output_flag_byte_1 | 0x40;
  }
  else {
    io_output_flag_byte_1 = io_output_flag_byte_1 & 0xbf;
  }
  if ((io_control_flags & 0x80) == 0) {
    io_output_flag_byte_1 = io_output_flag_byte_1 & 0xef;
  }
  else {
    io_output_flag_byte_1 = io_output_flag_byte_1 | 0x10;
  }
  if ((can_pin_switching_control_flags & 0x20) == 0) {
    io_output_flag_byte_1 = io_output_flag_byte_1 & 0xdf;
  }
  else {
    io_output_flag_byte_1 = io_output_flag_byte_1 | 0x20;
  }
  if ((io_control_source_register & 1) == 0) {
    io_output_flag_byte_0 = io_output_flag_byte_0 & 0xef;
  }
  else {
    io_output_flag_byte_0 = io_output_flag_byte_0 | 0x10;
  }
  if ((io_control_source_register & 2) == 0) {
    io_output_flag_byte_0 = io_output_flag_byte_0 & 0xdf;
  }
  else {
    io_output_flag_byte_0 = io_output_flag_byte_0 | 0x20;
  }
  if ((io_control_source_register & 4) == 0) {
    io_output_flag_byte_0 = io_output_flag_byte_0 & 0xbf;
  }
  else {
    io_output_flag_byte_0 = io_output_flag_byte_0 | 0x40;
  }
  if ((io_control_source_register & 0x10) != 0) {
    io_output_flag_byte_0 = io_output_flag_byte_0 | 0x80;
    return;
  }
  io_output_flag_byte_0 = io_output_flag_byte_0 & 0x7f;
  return;
}



//
// Function: initQADC @ 0x00026e7e
//

void initQADC(void)

{
  byte bVar1;
  byte *pbVar2;
  word *pwVar3;
  
  QADC_QADCMCR = 0;
  QADC_PORTQA = 0;
  QADC_QACR1 = 0x81f7;
  QADC_QACR2 = 0;
  QADC_QSTAT = 0x1100;
  bVar1 = 0;
  pbVar2 = &qadc_channel_config_table;
  pwVar3 = &QADC_CCW0;
  do {
    *pwVar3 = *pbVar2 & 0x3f | 0xc0;
    bVar1 = bVar1 + 1;
    pbVar2 = pbVar2 + 1;
    pwVar3 = pwVar3 + 1;
  } while (bVar1 < 0x28);
  return;
}



//
// Function: clearWorkingMemory @ 0x00026ec4
//

void clearWorkingMemory(void)

{
  byte *pbVar1;
  word *pwVar2;
  
  pwVar2 = &rpm_rate_limit_countdown;
  while (pwVar2 < &byte_16_sent_from_secondary_processor_to_main_processor_0_255) {
    pbVar1 = (byte *)(pwVar2 + 0x80);
    if (&byte_16_sent_from_secondary_processor_to_main_processor_0_255 < pbVar1) {
      pbVar1 = &byte_16_sent_from_secondary_processor_to_main_processor_0_255;
    }
    for (; pwVar2 <= pbVar1; pwVar2 = pwVar2 + 2) {
      pwVar2[0] = 0;
      pwVar2[1] = 0;
    }
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
  }
  return;
}



//
// Function: canMemoryPointerTableInit @ 0x00026f10
//

/* WARNING: Restarted to delay deadcode elimination for space: ram */

void canMemoryPointerTableInit(void)

{
  dword dVar1;
  dword dVar2;
  ushort uVar3;
  dword *pdVar4;
  dword *pdVar5;
  
  can_mem_table_start_ptr_1 = (dword)&can_memory_table_start;
  can_mem_table_end_ptr_1 = 0x808ab2;
  can_mem_table_src_ptr_1 = (dword)&firmware_data_source;
  can_mem_table_start_ptr_2 = (dword)&can_memory_vp44_comm_ptr;
  can_mem_table_end_ptr_2 = 0x8062ce;
  if (calibration_checksum_workspace._0_2_ == 2) {
    can_mem_table_src_ptr_2 = (dword)&can_memory_pointer_table_entry_2;
  }
  else {
    can_mem_table_src_ptr_2 = (dword)&can_memory_pointer_table_entry_1;
  }
  uVar3 = 0;
  pdVar5 = &can_mem_table_end_ptr_1;
  for (pdVar4 = &can_mem_table_start_ptr_1; pdVar4 < &can_memory_sync_pointer; pdVar4 = pdVar4 + 3)
  {
    dVar1 = *pdVar4;
    if ((int)dVar1 < 0) {
      dVar1 = dVar1 + 1;
    }
    dVar2 = *pdVar5;
    if ((int)dVar2 < 0) {
      dVar2 = dVar2 + 1;
    }
    uVar3 = ((short)((int)dVar2 >> 1) - (short)((int)dVar1 >> 1)) + uVar3;
    pdVar5 = pdVar5 + 3;
  }
  can_memory_sync_chunk_size = uVar3 / 0x14 + 1;
  can_memory_sync_pointer = (dword)&can_mem_table_start_ptr_1;
  can_memory_sync_dest_ptr = (dword)&can_memory_table_start;
  can_memory_sync_src_ptr = (dword)&firmware_data_source;
  can_memory_sync_dirty_flag = 0;
  amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 1;
  points_to_engine_sync_fuel_pressure_fuel_minimun_threshold_0_2_32 = 1;
  can_memory_sync_enable_prev = 1;
  return;
}



//
// Function: canMessageMemorySyncController @ 0x00026ff4
//

void canMessageMemorySyncController(void)

{
  dword *pdVar1;
  short *psVar2;
  
  if ((can_memory_sync_enable_prev == 0) &&
     (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 0)) {
    canMemoryPointerTableInit();
  }
  if (calibration_checksum_workspace._0_2_ == 0) {
    amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 = 0;
  }
  if (amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535 != 0) {
    if ((*(uint *)(can_memory_sync_pointer + 4) <= can_memory_sync_dest_ptr) ||
       (((dword *)can_memory_sync_pointer == &can_mem_table_start_ptr_2 &&
        (points_to_engine_sync_fuel_pressure_fuel_minimun_threshold_0_2_32 == 0)))) {
      pdVar1 = (dword *)(can_memory_sync_pointer + 0xc);
      if ((pdVar1 == &can_mem_table_start_ptr_2) &&
         (points_to_engine_sync_fuel_pressure_fuel_minimun_threshold_0_2_32 == 0)) {
        pdVar1 = (dword *)(can_memory_sync_pointer + 0x18);
      }
      can_memory_sync_pointer = (dword)pdVar1;
      if (0x8018c5 < can_memory_sync_pointer) {
        can_memory_sync_pointer = (dword)&can_mem_table_start_ptr_1;
        if (can_memory_sync_dirty_flag == 0) {
          if (((fault_flags_active_base & 2) != 0) && ((fault_flags_history_base & 2) == 0)) {
            fault_flags_active_base = fault_flags_active_base & 0xfffd;
          }
        }
        else {
          fault_flags_active_base = fault_flags_active_base | 2;
          fault_flags_history_base = fault_flags_history_base | 2;
        }
        can_memory_sync_dirty_flag = 0;
      }
      can_memory_sync_dest_ptr = *(dword *)can_memory_sync_pointer;
      can_memory_sync_src_ptr = *(dword *)(can_memory_sync_pointer + 8);
    }
    psVar2 = (short *)(can_memory_sync_dest_ptr + (uint)can_memory_sync_chunk_size * 2);
    if (*(short **)(can_memory_sync_pointer + 4) < psVar2) {
      psVar2 = *(short **)(can_memory_sync_pointer + 4);
    }
    for (; can_memory_sync_dest_ptr < psVar2;
        can_memory_sync_dest_ptr = can_memory_sync_dest_ptr + 2) {
      if (*(short *)can_memory_sync_dest_ptr != *(short *)can_memory_sync_src_ptr) {
        *(short *)can_memory_sync_dest_ptr = *(short *)can_memory_sync_src_ptr;
        can_memory_sync_dirty_flag = 1;
      }
      can_memory_sync_src_ptr = can_memory_sync_src_ptr + 2;
    }
  }
  can_memory_sync_enable_prev = amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535;
  return;
}



//
// Function: insiteParameterParser @ 0x00027168
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

char insiteParameterParser(void)

{
  char cVar1;
  
  if (insite_command_byte < 0x80) {
    cVar1 = '\x02';
  }
  else if (insite_command_byte < 0xc0) {
    cVar1 = '\x03';
  }
  else if (insite_command_byte < 0xfe) {
    if (*_insite_data_read_ptr < 0x13) {
      cVar1 = *_insite_data_read_ptr + 2;
    }
    else {
      cVar1 = '\x14';
    }
  }
  else {
    cVar1 = '\0';
  }
  return cVar1;
}



//
// Function: parameterLookupForInsite @ 0x000271b0
//

undefined2 parameterLookupForInsite(void)

{
  short sVar1;
  
  if (insite_command_byte < 0x80) {
    return 2;
  }
  if (insite_command_byte < 0xc0) {
    return 3;
  }
  if (insite_command_byte == 0xc1) {
    return CONCAT11((char)(diagnostic_active_fault_counter >> 8),
                    (char)diagnostic_active_fault_counter + '\x02');
  }
  if (insite_command_byte == 0xc2) {
    if (insite_data_valid_flag == 0) {
      return CONCAT11((char)(insite_fault_detail_state >> 8),
                      (char)insite_fault_detail_state * '\x02' + '\x02');
    }
    sVar1 = (insite_fault_detail_index + insite_fault_detail_state) * 3;
    return CONCAT11((char)((ushort)sVar1 >> 8),(char)sVar1 + '\x02');
  }
  if (insite_command_byte == 0xc4) {
    if ((insite_live_data_parameter_index & 0xc0) != 0) {
      return 4;
    }
    if (insite_parameter_lookup_state == 0) {
      return 2;
    }
    return 7;
  }
  if (insite_command_byte == 0xea) {
    return 0x18;
  }
  if (insite_command_byte != 0xed) {
    if (insite_command_byte != 0xf3) {
      return 6;
    }
    return 0x1f;
  }
  return 0x16;
}



//
// Function: coreSystemFunction @ 0x0002725a
// ERROR: Failed to decompile
//

//
// Function: diagnosticServiceDispatcher @ 0x0002729a
//

void diagnosticServiceDispatcher(byte *param_1)

{
  undefined4 in_D0;
  undefined4 unaff_D2;
  byte bVar1;
  char cVar2;
  dword *pdVar3;
  undefined2 uVar4;
  
  uVar4 = (undefined2)((uint)unaff_D2 >> 0x10);
  pdVar3 = &diagnostic_service_dispatch_ptr;
  cVar2 = '\x18';
  bVar1 = 0;
  do {
    if (diagnostic_service_state_counter <= bVar1) {
LAB_000272e6:
      if (cVar2 != -1) {
        diagnosticMultiPacketResponseBuilder
                  (param_1,CONCAT22((short)CONCAT31((int3)((uint)in_D0 >> 8),cVar2),uVar4));
      }
      return;
    }
    in_D0 = CONCAT31((int3)((uint)in_D0 >> 8),*(char *)pdVar3);
    if (*(char *)pdVar3 == **(char **)(param_1 + 6)) {
      in_D0 = diagnosticServiceSecurityValidator((int)param_1);
      cVar2 = (char)in_D0;
      if (cVar2 == -1) {
        in_D0 = (**(code **)((int)pdVar3 + 2))((short)param_1);
        cVar2 = (char)in_D0;
      }
      goto LAB_000272e6;
    }
    pdVar3 = (dword *)((int)pdVar3 + 6);
    bVar1 = bVar1 + 1;
  } while( true );
}



//
// Function: systemControlFunction1 @ 0x00027300
//

void systemControlFunction1(void)

{
  coreSystemControlFunction();
  return;
}



//
// Function: diagnosticResponseHandler2 @ 0x00027314
//

void diagnosticResponseHandler2(int param_1)

{
  ushort in_stack_00000000;
  
  fault_flag_scanner_state = 2;
  diagnosticCanResponseSender(param_1,(uint)in_stack_00000000);
  return;
}



//
// Function: canTransmissionTrigger @ 0x0002732e
//

void canTransmissionTrigger(void)

{
  canTransmissionController();
  return;
}



//
// Function: diagnosticServiceByteHandler @ 0x00027342
//

void diagnosticServiceByteHandler(int param_1)

{
  undefined2 in_D0w;
  undefined4 unaff_A2;
  undefined2 uVar1;
  
  uVar1 = (undefined2)((uint)unaff_A2 >> 0x10);
  diagnostic_security_access_mode = **(byte **)(param_1 + 6);
  diagnosticByteResponseSender
            (CONCAT22(CONCAT11((char)((ushort)in_D0w >> 8),diagnostic_security_access_mode),0x32));
  if ((diagnostic_security_access_mode == 0) && ((diagnostic_status_flags_word & 0x100) != 0)) {
    diagnosticByteResponseSender(CONCAT22(diagnostic_status_flags_word & 0x100,0x32));
    return;
  }
  if ((diagnostic_security_access_mode == 1) && ((diagnostic_status_flags_word & 0x200) != 0)) {
    diagnosticByteResponseSender
              (CONCAT22(CONCAT11((char)((diagnostic_status_flags_word & 0x200) >> 8),1),0x32));
    return;
  }
  diagnosticCanResponseSender(param_1,CONCAT22(1,uVar1));
  return;
}



//
// Function: systemControlFunction2 @ 0x000273c0
//

void systemControlFunction2(void)

{
  coreSystemControlFunction();
  return;
}



//
// Function: fuelArbitratorMessageHandler @ 0x000273d4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelArbitratorMessageHandler(int param_1)

{
  if (((*(byte *)(param_1 + 3) == the_can_bus_configuration_register_0_255) ||
      (the_can_bus_configuration_register_0_255 == 0xff)) && (*(short *)(param_1 + 4) == 8)) {
    torque_control_message_flags = **(byte **)(param_1 + 6);
    torque_control_status_byte_19a6 = *(byte *)(*(int *)(param_1 + 6) + 4);
    if (_crank_state_transition_flag == 0) {
      if ((torque_control_status_byte_19a6 & 3) == 1) {
        if ((fuel_arbitrator_diag_t_0080cff8.rpm_target == 1) &&
           (fuel_arbitrator_diag_t_0080cff8.fuel_mode == 1)) {
          fuel_arbitrator_diag_t_0080cff8.speed_limit = 1;
          fuel_arbitrator_speed_timer = fuel_arbitrator_message_param + 1;
        }
      }
      else if ((torque_control_status_byte_19a6 & 3) != 3) {
        fuel_arbitrator_diag_t_0080cff8.speed_limit = 0;
        fuel_arbitrator_speed_timer = 0;
        fuel_arbitrator_status_timer = 0;
      }
    }
    if ((torque_control_status_byte_19a6 & 0xc) == 4) {
      fuel_arbitrator_diag_t_0080cff8.session_counter = 1;
      fuel_arbitrator_session_counter = fuel_arbitrator_session_init + 1;
    }
    else if ((torque_control_status_byte_19a6 & 0xc) != 0xc) {
      fuel_arbitrator_diag_t_0080cff8.session_counter = 0;
      fuel_arbitrator_session_counter = 0;
    }
    if (((torque_control_message_flags & 0x30) == 0x10) || ((torque_control_message_flags & 3) == 1)
       ) {
      fuel_arbitrator_diag_t_0080cff8.fuel_limit = 0;
      fuel_arbitrator_session_timer = 0;
      return;
    }
    fuel_arbitrator_diag_t_0080cff8.fuel_limit = 1;
    fuel_arbitrator_session_timer = fuel_arbitrator_timeout_param + 1;
    fuel_arbitrator_diag_t_0080cff8._30_2_ = 1;
  }
  return;
}



//
// Function: systemControlFunction3 @ 0x00027514
//

void systemControlFunction3(void)

{
  coreSystemControlFunction();
  return;
}



//
// Function: torqueControlModeHandler @ 0x00027528
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void torqueControlModeHandler(int param_1)

{
  char cVar1;
  byte bVar2;
  byte bVar3;
  byte bVar4;
  undefined3 uVar5;
  undefined4 in_D0;
  uint uVar6;
  undefined4 uVar7;
  undefined4 unaff_D2;
  undefined2 uVar8;
  
  uVar8 = (undefined2)((uint)unaff_D2 >> 0x10);
  if (*(short *)(param_1 + 4) == 8) {
    torque_control_mode_byte = **(byte **)(param_1 + 6);
    bVar4 = torque_control_mode_byte & 3;
    bVar3 = torque_control_mode_byte & 3;
    bVar2 = torque_control_mode_byte & 0x30;
    torque_control_source_address = *(byte *)(*(int *)(param_1 + 6) + 1);
    torque_control_priority_high_byte = *(byte *)(*(int *)(param_1 + 6) + 2);
    torque_control_message_byte_4 = *(byte *)(*(int *)(param_1 + 6) + 3);
    cVar1 = *(char *)(param_1 + 3);
    uVar5 = (undefined3)((uint)in_D0 >> 8);
    if ((torque_control_mode_byte & 3) == 0) {
      uVar6 = diagnosticStateInitializer(CONCAT22(1,(short)CONCAT31(uVar5,cVar1)));
    }
    else {
      uVar6 = diagnosticMessageValidator
                        (CONCAT22(1,(short)CONCAT31(uVar5,cVar1)),
                         CONCAT12(torque_control_mode_byte,uVar8) & 0x3ffff);
      if ((short)uVar6 != 0) {
        return;
      }
    }
    uVar5 = (undefined3)(uVar6 >> 8);
    if (fuel_arbitrator_diag_t_0080cff8.rpm_target == 0) {
      uVar6 = diagnosticSessionValidator(CONCAT22(1,(short)CONCAT31(uVar5,cVar1)));
      if ((short)uVar6 != 0) {
        return;
      }
      _timer_capture_value = _fuel_arbitrator_control_mode;
    }
    else if (fuel_arbitrator_diag_t_0080cff8._28_2_ == 1) {
      if (cVar1 != (char)fuel_arbitrator_diag_t_0080cff8.limited_value) {
        if (bVar4 == 0) {
          return;
        }
        uVar6 = diagnosticSessionValidator(CONCAT22(1,(short)CONCAT31(uVar5,cVar1)));
        if ((short)uVar6 != 0) {
          return;
        }
        if (torque_control_comparison_byte < bVar2) {
          return;
        }
        if (bVar2 == torque_control_comparison_byte) {
          if (fuel_arbitrator_diag_t_0080cff8.rpm_target != 3) {
            return;
          }
          if (bVar3 == 3) {
            if (torque_control_priority_byte < torque_control_message_byte_4) {
              return;
            }
            if ((torque_control_priority_byte == torque_control_message_byte_4) &&
               (torque_control_priority_value <=
                CONCAT11(torque_control_priority_high_byte,torque_control_source_address))) {
              return;
            }
          }
        }
        _timer_capture_value = _fuel_arbitrator_control_mode;
      }
    }
    else {
      uVar6 = diagnosticSessionValidator(CONCAT22(1,(short)CONCAT31(uVar5,cVar1)));
      if ((short)uVar6 != 0) {
        return;
      }
      if (_timer_capture_value < _fuel_arbitrator_control_mode) {
        return;
      }
      _timer_capture_value = _fuel_arbitrator_control_mode;
    }
    fuel_arbitrator_diag_t_0080cff8.control_flags = (word)torque_control_mode_byte;
    torque_control_comparison_byte = bVar2;
    fuel_arbitrator_diag_t_0080cff8._28_2_ = 1;
    fuel_arbitrator_diag_t_0080cff8.limited_value._1_1_ = cVar1;
    switch(bVar3) {
    case 0:
      torque_control_mode_timer = 0;
      fuel_arbitrator_diag_t_0080cff8.rpm_target = 0;
      fuel_arbitrator_diag_t_0080cff8.fuel_mode = 0;
      fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
      return;
    case 1:
      torque_control_mode_timer = *(short *)(_timer_capture_value + 4) + 1;
      fuel_arbitrator_diag_t_0080cff8.rpm_target = 1;
      uVar7 = canBusConfigTypeSelector
                        (CONCAT22(CONCAT11((char)(torque_control_mode_timer >> 8),
                                           *(undefined1 *)(param_1 + 3)),uVar8));
      fuel_arbitrator_diag_t_0080cff8.fuel_mode = (word)uVar7;
      fuel_arbitrator_diag_t_0080cff8._20_2_ = 1;
      fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_ =
           CONCAT11(torque_control_priority_high_byte,torque_control_source_address);
      torque_control_priority_value = fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_;
      if (24000 < fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_) {
        fuel_arbitrator_diag_t_0080cff8.state_pointer._1_2_ = 24000;
      }
      fuel_arbitrator_diag_t_0080cff8._26_2_ = (short)((int)(torque_control_mode_byte & 0xc) >> 2);
      return;
    case 2:
      torque_control_mode_timer = *(short *)(_timer_capture_value + 8) + 1;
      fuel_arbitrator_diag_t_0080cff8.rpm_target = 2;
      uVar7 = canBusConfigTypeSelector
                        (CONCAT22(CONCAT11((char)(torque_control_mode_timer >> 8),
                                           *(undefined1 *)(param_1 + 3)),uVar8));
      fuel_arbitrator_diag_t_0080cff8.fuel_mode = (word)uVar7;
      fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
      torque_control_priority_byte = torque_control_message_byte_4;
      fuel_arbitrator_diag_t_0080cff8._16_2_ =
           (ushort)torque_control_message_byte_4 * 0x100 + -32000;
      fuel_arbitrator_diag_t_0080cff8._24_2_ =
           param_ref_base +
           (short)(((int)(short)fuel_arbitrator_diag_t_0080cff8._16_2_ *
                   ((int)(short)param_scale_factor - (int)(short)param_ref_base)) / 0x6400);
      if ((short)fuel_arbitrator_diag_t_0080cff8._24_2_ < 0) {
        fuel_arbitrator_diag_t_0080cff8._24_2_ = 0;
        return;
      }
      return;
    case 3:
      torque_control_mode_timer = *(short *)(_timer_capture_value + 0xc) + 1;
      fuel_arbitrator_diag_t_0080cff8.rpm_target = 3;
      uVar7 = canBusConfigTypeSelector
                        (CONCAT22(CONCAT11((char)(torque_control_mode_timer >> 8),
                                           *(undefined1 *)(param_1 + 3)),uVar8));
      fuel_arbitrator_diag_t_0080cff8.fuel_mode = (word)uVar7;
      fuel_arbitrator_diag_t_0080cff8._20_2_ = 0;
      torque_control_priority_value =
           CONCAT11(torque_control_priority_high_byte,torque_control_source_address);
      fuel_arbitrator_diag_t_0080cff8.command_counter = torque_control_priority_value;
      torque_control_priority_byte = torque_control_message_byte_4;
      fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ =
           param_ref_base +
           (short)(((int)(short)((ushort)torque_control_message_byte_4 * 0x100 + -32000) *
                   ((int)(short)param_scale_factor - (int)(short)param_ref_base)) / 0x6400);
      if (fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ < 0) {
        fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ = 0;
        return;
      }
    }
  }
  return;
}



//
// Function: canTransmissionController @ 0x0002787e
// ERROR: Failed to decompile
//

//
// Function: diagnosticServiceDispatcherByPgn @ 0x000278be
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticServiceDispatcherByPgn(int param_1)

{
  undefined4 unaff_D2;
  byte bVar1;
  dword *pdVar2;
  undefined2 uVar3;
  
  uVar3 = (undefined2)((uint)unaff_D2 >> 0x10);
  pdVar2 = &diag_service_pgn_dispatch_ptr;
  if ((*(byte *)(param_1 + 2) == _j1939_multiframe_source_address) || (*(char *)(param_1 + 2) == -1)
     ) {
    for (bVar1 = 0; bVar1 < can_transmission_active_count; bVar1 = bVar1 + 1) {
      if ((*(char *)((int)pdVar2 + 1) == **(char **)(param_1 + 6)) &&
         (*(char *)(*(int *)(param_1 + 6) + 1) == *(char *)pdVar2)) {
        (**(code **)((int)pdVar2 + 2))((short)param_1);
        break;
      }
      pdVar2 = (dword *)((int)pdVar2 + 6);
    }
    if ((bVar1 == can_transmission_active_count) && (*(char *)(param_1 + 2) != -1)) {
      diagnosticCanResponseSender(param_1,CONCAT22(1,uVar3));
    }
  }
  return;
}



//
// Function: diagnosticDataDump @ 0x0002793e
//

void diagnosticDataDump(void)

{
  coreSystemControlFunction();
  engineSerialNumberPGN_65259_Builder();
  engineTemperaturePGN_65262_Builder();
  intakeExhaustConditionsPGN_65257_Builder();
  ioControlPGN_65244_Builder();
  vehicleDistancePGN_65248_Builder();
  vehicleHoursPGN_65255_Builder();
  canTransmissionController();
  canTransmissionController();
  canTransmissionController();
  canTransmissionController();
  canTransmissionController();
  canTransmissionController();
  engineCoolantPGN_65226_Builder();
  diagnosticDM2PGN_65227_Builder();
  canTransmissionTrigger();
  diagnosticDM4PGN_65229_Builder();
  diagnosticDM5PGN_65230_Builder();
  diagnosticDM11PGN_65234_Builder();
  return;
}



//
// Function: retarderModeThresholdCalculator @ 0x000279ee
//

uint retarderModeThresholdCalculator(undefined4 param_1)

{
  uint in_D0;
  ushort uVar2;
  ushort uVar3;
  uint uVar1;
  
  if (param_1._0_2_ == 0) {
    return in_D0 & 0xffffff00;
  }
  if (retarder_mode_threshold_value_37d4 != 1) {
    retarder_mode3_rpm_input = current_engine_rpm;
    uVar3 = lookupTableInterpolation((table_interp_args_t *)&retarder_mode3_threshold_table);
    uVar1 = ((uint)param_1._0_2_ * (uint)retarder_mode_threshold_value_7996) / 0x6400;
    if (uVar3 < (ushort)uVar1) {
      if (retarder_mode_threshold_value_37d4 == 3) {
        return 1;
      }
      return 3;
    }
    if (retarder_mode_threshold_value_37d4 == 3) {
      return uVar1 & 0xffffff00;
    }
    return 1;
  }
  retarder_mode1_rpm_input = current_engine_rpm;
  uVar2 = lookupTableInterpolation((table_interp_args_t *)&retarder_mode1_threshold_table);
  uVar3 = (ushort)(((uint)param_1._0_2_ * (uint)ADO2ESTB) / 0x6400);
  if (uVar3 < uVar2) {
    return 1;
  }
  retarder_mode2_rpm_input = current_engine_rpm;
  uVar2 = lookupTableInterpolation((table_interp_args_t *)&retarder_mode2_threshold_table);
  if (uVar3 < uVar2) {
    return 2;
  }
  return 3;
}



//
// Function: retarderPercentageScaler @ 0x00027aca
//

short retarderPercentageScaler(undefined4 param_1)

{
  byte bVar1;
  
  bVar1 = (byte)((uint)param_1 >> 0x10);
  if (bVar1 < 0x19) {
    return 0x6400;
  }
  if (0x7c < bVar1) {
    return 0;
  }
  return (0x7d - (param_1._0_2_ & 0xff)) * 0x100;
}



//
// Function: retarderControlModeHandler @ 0x00027afa
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void retarderControlModeHandler(int param_1)

{
  byte bVar1;
  RETARDER_MODE_STATE RVar2;
  RETARDER_MODE_STATE RVar3;
  uint uVar4;
  word wVar6;
  ushort uVar7;
  undefined4 uVar5;
  undefined2 uVar8;
  short sVar9;
  undefined4 unaff_D2;
  bool bVar10;
  undefined2 uVar11;
  
  uVar8 = (undefined2)((uint)unaff_D2 >> 0x10);
  if ((retarder_mode_threshold_value_37d4 != 0) && (*(short *)(param_1 + 4) == 8)) {
    retarder_mode_control_byte_mirror = **(RETARDER_MODE_STATE **)(param_1 + 6);
    RVar3 = retarder_mode_control_byte_mirror & RETARDER_PROPORTIONAL;
    if (RVar3 != RETARDER_SPEED_SYNC) {
      RVar2 = retarder_mode_control_byte_mirror & 0x30;
      retarder_control_priority_byte = *(byte *)(*(int *)(param_1 + 6) + 3);
      bVar1 = *(byte *)(param_1 + 3);
      if (RVar3 == RETARDER_DISABLED) {
        uVar4 = ioControlEntryRemove((uint)CONCAT12(bVar1,uVar8));
      }
      else {
        uVar4 = ioControlTimeoutTableLookup((uint)CONCAT12(bVar1,uVar8));
        if ((short)uVar4 != 0) {
          return;
        }
      }
      if (fuel_arbitrator_state == 0) {
        uVar4 = diagnosticSessionValidator(CONCAT22(1,(short)CONCAT31((int3)(uVar4 >> 8),bVar1)));
        if ((short)uVar4 != 0) {
          return;
        }
        _retarder_control_mode_state = _fuel_arbitrator_control_mode;
      }
      else if (bVar1 != _retarder_control_can_source) {
        if (RVar3 == RETARDER_DISABLED) {
          return;
        }
        uVar4 = diagnosticSessionValidator(CONCAT22(1,(ushort)bVar1));
        if ((short)uVar4 != 0) {
          return;
        }
        if (retarder_mode_priority_level < RVar2) {
          return;
        }
        if (RVar2 == retarder_mode_priority_level) {
          if (fuel_arbitrator_state == 2) {
            return;
          }
          if ((RVar3 == RETARDER_PROPORTIONAL) &&
             (retarder_control_priority_byte <= retarder_control_priority_prev)) {
            return;
          }
        }
        _retarder_control_mode_state = _fuel_arbitrator_control_mode;
      }
      retarder_mode_priority_level = RVar2;
      retarder_control_priority_prev = retarder_control_priority_byte;
      _retarder_control_can_source = (ushort)bVar1;
      retarder_mode_control_byte_cached = (word)retarder_mode_control_byte_mirror;
      if (RVar3 == RETARDER_DISABLED) {
        retarder_control_mode_timer = 0;
        fuel_arbitrator_state = 0;
        retarder_mode_can_source_priority = 0;
        _retarder_mode_threshold_result = 0;
        _retarder_mode_table_count = 3;
        fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
        return;
      }
      if (RVar3 == RETARDER_LOAD_BASED) {
        wVar6 = retarderPercentageScaler((uint)CONCAT12(retarder_control_priority_byte,uVar8));
        retarder_percentage_scaled_output = wVar6;
        if (((((diagnostic_system_flags_2 & 0x1000) == 0) ||
             (bVar1 != the_can_bus_configuration_register_0_255)) ||
            (fuel_arbitrator_diag_t_0080cff8.rpm_target != 1)) ||
           (((fuel_arbitrator_diag_t_0080cff8.fuel_mode != 1 ||
             (cached_parameter_value < cached_parameter_upper_limit)) || (wVar6 == 0)))) {
          retarder_control_mode_timer = *(short *)(_retarder_control_mode_state + 0xe) + 1;
          fuel_arbitrator_state = 2;
          uVar11 = CONCAT11((char)(retarder_control_mode_timer >> 8),*(undefined1 *)(param_1 + 3));
          uVar5 = canBusConfigTypeSelector(CONCAT22(uVar11,uVar8));
          retarder_mode_can_source_priority = (word)uVar5;
          _retarder_mode_table_count = 3;
          uVar4 = retarderModeThresholdCalculator(CONCAT22(wVar6,uVar11));
          _retarder_mode_threshold_result = (ushort)uVar4 & 0xff;
          if ((uVar4 & 0xff) == 0) {
            fuel_arbitrator_diag_t_0080cff8.throttle_mode = 1;
            fuel_arbitrator_throttle_override = *(short *)(_retarder_control_mode_state + 0xe) + 1;
          }
          else {
            fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
            fuel_arbitrator_throttle_override = 0;
          }
        }
        else {
          retarder_control_mode_timer = 0;
          fuel_arbitrator_state = 0;
          retarder_mode_can_source_priority = 0;
          _retarder_mode_threshold_result = 0;
          _retarder_mode_table_count = 3;
          fuel_arbitrator_diag_t_0080cff8.throttle_mode = 0;
          fuel_arbitrator_throttle_override = 0;
        }
        _retarder_mode_override_flag = 0;
        return;
      }
      if (RVar3 != RETARDER_PROPORTIONAL) {
        return;
      }
      fuel_arbitrator_state = 3;
      uVar7 = (ushort)*(byte *)(param_1 + 3);
      uVar5 = canBusConfigTypeSelector((uint)CONCAT12(*(byte *)(param_1 + 3),uVar8));
      retarder_mode_can_source_priority = (word)uVar5;
      _retarder_mode_threshold_result = 0;
      uVar8 = (undefined2)CONCAT31((int3)((uint)uVar5 >> 8),retarder_control_priority_byte);
      sVar9 = retarderPercentageScaler(CONCAT22(uVar8,uVar7));
      retarder_control_mode_timer = *(short *)(_retarder_control_mode_state + 0x12) + 1;
      uVar4 = retarderModeThresholdCalculator(CONCAT22(sVar9,uVar8));
      _retarder_mode_table_count = (ushort)uVar4 & 0xff;
      bVar10 = (uVar4 & 0xff) != 0;
      if (bVar10) {
        fuel_arbitrator_throttle_override = 0;
      }
      else {
        fuel_arbitrator_throttle_override = *(short *)(_retarder_control_mode_state + 0x12) + 1;
      }
      fuel_arbitrator_diag_t_0080cff8.throttle_mode = (word)!bVar10;
      _retarder_mode_override_flag = 0;
    }
  }
  return;
}



//
// Function: retarderModeThresholdsSetup @ 0x00027dd4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void retarderModeThresholdsSetup(void)

{
  _retarder_mode_table_count = 3;
  retarder_mode1_data_ptr = 0x807952;
  retarder_mode1_output_ptr = 0x807998;
  retarder_mode1_threshold_table = 2;
  retarder_mode2_data_ptr = 0x807952;
  retarder_mode2_output_ptr = 0x8079a2;
  retarder_mode2_threshold_table = 2;
  retarder_mode3_data_ptr = 0x80797a;
  retarder_mode3_output_ptr = 0x8079ac;
  retarder_mode3_threshold_table = 2;
  return;
}



//
// Function: torqueControlAddressDispatcher @ 0x00027e3e
//

void torqueControlAddressDispatcher(int param_1)

{
  byte bVar1;
  
  bVar1 = *(byte *)(param_1 + 2);
  if ((bVar1 != j1939_source_address_primary) && (bVar1 != 0xff)) {
    if ((bVar1 == j1939_source_address_secondary) || (bVar1 == 0xff)) {
      retarderControlModeHandler(param_1);
    }
    return;
  }
  torqueControlModeHandler(param_1);
  return;
}



//
// Function: systemControlFunction4 @ 0x00027e86
//

void systemControlFunction4(void)

{
  coreSystemControlFunction();
  return;
}



//
// Function: systemSecurityCheckStub_AlwaysPasses @ 0x00027e98
//

undefined1 systemSecurityCheckStub_AlwaysPasses(void)

{
  return 0;
}



//
// Function: diagnosticTableEntryRemover @ 0x00027e9c
//

void diagnosticTableEntryRemover(undefined4 param_1)

{
  bool bVar1;
  short sVar2;
  short unaff_D3w;
  
  bVar1 = false;
  sVar2 = unaff_D3w * 0x30;
  while ((unaff_D3w < 0x14 && (!bVar1))) {
    if (param_1._0_2_ == *(short *)((int)&dtc_timestamp_array + (int)sVar2)) {
      *(undefined2 *)((int)&dtc_timestamp_array + (int)sVar2) = 0x7d;
      *(undefined2 *)((int)&diagnostic_fault_status_array + (int)sVar2) = 0x7d;
      bVar1 = true;
    }
    sVar2 = sVar2 + 0x30;
    unaff_D3w = unaff_D3w + 1;
  }
  return;
}



//
// Function: diagnosticTableEntryClear @ 0x00027ef0
//

void diagnosticTableEntryClear(undefined4 param_1)

{
  short sVar1;
  undefined4 unaff_D2;
  
  sVar1 = param_1._0_2_ * 10;
  (&diagnostic_pid_dtc_index)[sVar1] = 0;
  *(undefined4 *)(sVar1 + 0x804fc4) = 0;
  *(undefined4 *)
   ((int)&ivs_switch_status_when_throttle_validation_process_error_true_false + (int)sVar1) = 0;
  if (*(char *)(sVar1 + 0x804fcc) == '\x02') {
    diagnosticTableEntryRemover(CONCAT22(param_1._0_2_,(short)((uint)unaff_D2 >> 0x10)));
  }
  *(undefined1 *)(sVar1 + 0x804fcc) = 0;
  return;
}



//
// Function: diagnosticTableSnapshotCapture @ 0x00027f4c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticTableSnapshotCapture(undefined4 param_1)

{
  short sVar1;
  
  if ((*(ushort *)(&dtc_fault_table_base + (short)(param_1._2_2_ * 3) * 2) & 0x10) != 0) {
    sVar1 = param_1._0_2_ * 0x30;
    *(short *)((int)&diagnostic_fault_status_array + (int)sVar1) = param_1._2_2_;
    *(word *)((int)&diagnostic_snapshot_fuel_value + (int)sVar1) = asthrfes_calc_input;
    *(word *)((int)&diagnostic_snapshot_throttle_value + (int)sVar1) = throttle_position_value;
    *(word *)(sVar1 + 0x805a3a) = current_engine_rpm_raw;
    *(word *)(sVar1 + 0x805a40) = active_derate_value;
    *(word *)((int)&diagnostic_snapshot_sensor_reading + (int)sVar1) = diagnostic_sensor_reading;
    *(undefined4 *)(sVar1 + 0x805a32) = _loopCounter;
    *(word *)((int)&diagnostic_snapshot_throttle_raw + (int)sVar1) = throttle_position_raw;
    *(word *)(sVar1 + 0x805a46) = intake_manifold_temp_raw;
    *(word *)(sVar1 + 0x805a48) = insite_parameter_display_value;
    *(undefined2 *)(sVar1 + 0x805a3c) = _fault_flag_snapshot_register_3;
    *(undefined2 *)(sVar1 + 0x805a4a) = _fault_flag_snapshot_register_2;
    *(undefined4 *)(sVar1 + 0x805a4c) = _engineRunCounter;
    *(VP44_ENGINE_STATE *)(sVar1 + 0x805a50) = vp44_engine_state;
    *(word *)(sVar1 + 0x805a52) = retarder_input_value;
    *(word *)(sVar1 + 0x805a54) = current_fuel_demand_value;
    *(word *)(sVar1 + 0x805a56) = diagnostic_fuel_arbitration_output;
    *(undefined2 *)(sVar1 + 0x805a58) = _vp44_can_msg_100_status_flags;
    *(word *)(sVar1 + 0x805a5a) = fso_monitoring_command_value;
    *(VP44_STATE *)(sVar1 + 0x805a5c) = vp44_state_debounce_value_938c;
    *(word *)(sVar1 + 0x805a5e) = vp44_timing_mode_selector;
    *(undefined2 *)(sVar1 + 0x805a60) = _fault_flag_snapshot_register_1;
  }
  sVar1 = param_1._0_2_ * 0x30;
  if (param_1._2_2_ != *(short *)((int)&dtc_timestamp_array + (int)sVar1)) {
    *(short *)((int)&dtc_timestamp_array + (int)sVar1) = param_1._2_2_;
    *(word *)(sVar1 + 0x80567e) = asthrfes_calc_input;
    *(word *)((int)&dtc_timestamp_array + sVar1 + 2) = throttle_position_value;
    *(word *)(sVar1 + 0x80567a) = current_engine_rpm_raw;
    *(word *)(sVar1 + 0x805680) = active_derate_value;
    *(word *)(sVar1 + 0x805682) = diagnostic_sensor_reading;
    *(undefined4 *)(sVar1 + 0x805672) = _loopCounter;
    *(word *)(sVar1 + 0x805684) = throttle_position_raw;
    *(word *)(sVar1 + 0x805686) = intake_manifold_temp_raw;
    *(word *)(sVar1 + 0x805688) = insite_parameter_display_value;
    *(undefined2 *)(sVar1 + 0x80567c) = _fault_flag_snapshot_register_3;
    *(undefined2 *)(sVar1 + 0x80568a) = _fault_flag_snapshot_register_2;
    *(undefined4 *)(sVar1 + 0x80568c) = _engineRunCounter;
    *(VP44_ENGINE_STATE *)(sVar1 + 0x805690) = vp44_engine_state;
    *(word *)(sVar1 + 0x805692) = retarder_input_value;
    *(word *)(sVar1 + 0x805694) = current_fuel_demand_value;
    *(word *)(sVar1 + 0x805696) = diagnostic_fuel_arbitration_output;
    *(undefined2 *)(sVar1 + 0x805698) = _vp44_can_msg_100_status_flags;
    *(word *)(sVar1 + 0x80569a) = fso_monitoring_command_value;
    *(VP44_STATE *)(sVar1 + 0x80569c) = vp44_state_debounce_value_938c;
    *(word *)(sVar1 + 0x80569e) = vp44_timing_mode_selector;
    *(undefined2 *)(sVar1 + 0x8056a0) = _fault_flag_snapshot_register_1;
  }
  return;
}



//
// Function: initSensorDataArrays @ 0x000281e8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initSensorDataArrays(void)

{
  char cVar1;
  short sVar2;
  
  cVar1 = '\0';
  if (_loopCounter == 0) {
    sVar2 = 0;
    for (; cVar1 != '\x14'; cVar1 = cVar1 + '\x01') {
      *(undefined2 *)((int)&dtc_timestamp_array + (int)sVar2) = 0x7d;
      *(undefined2 *)((int)&diagnostic_fault_status_array + (int)sVar2) = 0x7d;
      sVar2 = sVar2 + 0x30;
    }
  }
  return;
}



//
// Function: tpuChannelStateMachine @ 0x00028220
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 tpuChannelStateMachine(void)

{
  char cVar1;
  undefined4 in_D0;
  int iVar2;
  undefined4 in_D1;
  
  tpu_channel_enable_state = 0;
  tpu_channel_priority_select = tpu_channel_priority_select & 0xfff;
  if (((tpu_channel_state_value == 1) && (*_can_tx_message_type != 0)) &&
     (tpu_transmission_active_flag == 0)) {
    if (*_can_tx_message_type < 3) {
      _dummy_variable_0_65535 =
           (byte *)CONCAT31(_dummy_variable_0_65535,(char)dummy_variable_0_65535 + '\x01');
      *_can_tx_message_type = 0;
      tpu_transmission_state = 0;
    }
    else if (tpu_transmission_state == 0) {
      *_can_tx_message_type = *_can_tx_message_type - 1;
      _can_tx_message_type =
           (byte *)CONCAT31(_can_tx_message_type,flag_indicating_eps_sensor_not_used_0_1 - 1);
      *_can_tx_message_type = 0;
    }
    else {
      _dummy_variable_0_65535 =
           (byte *)CONCAT31(_dummy_variable_0_65535,(char)dummy_variable_0_65535 + '\x01');
      if (*_dummy_variable_0_65535 < 7) {
        if ((int)_can_tx_message_type < _enables_input_of_eps_period_data_to_pptb_0_1) {
          iVar2 = (_enables_input_of_eps_period_data_to_pptb_0_1 - (int)_can_tx_message_type) + -2;
        }
        else {
          iVar2 = (_enables_input_of_eps_period_data_to_pptb_0_1 - (int)_can_tx_message_type) + 0xfe
          ;
        }
        if (3 < iVar2) {
          tpu_diagnostic_retry_counter = tpu_diagnostic_retry_counter + 1;
          *_can_tx_message_type = 2;
          _can_tx_message_type =
               (byte *)CONCAT31(_can_tx_message_type,(char)dummy_variable_0_65535 + '\x01');
          *_can_tx_message_type = 6;
          _can_tx_message_type =
               (byte *)CONCAT31(_can_tx_message_type,(char)dummy_variable_0_65535 + '\x01');
          *_can_tx_message_type = 0x74;
          cVar1 = (char)dummy_variable_0_65535;
          _can_tx_message_type =
               (byte *)CONCAT31(_can_tx_message_type,(char)dummy_variable_0_65535 + '\x01');
          _dummy_variable_0_65535 = (byte *)CONCAT31(_dummy_variable_0_65535,cVar1 + '\x02');
        }
      }
      *_can_tx_message_type = 0;
      tpu_transmission_state = 0;
    }
  }
  if (tpu_channel_state_value == 0) {
    tpu_transmission_state = 0;
    tpu_channel_state_value = 1;
    flag_shows_posibility_of_esp_transitioning_between_normal_false_true._1_1_ =
         (char)_can_transmit_length;
    _track_the_time_when_throttle_is_less_than_a_threshold_0_30 =
         (byte *)CONCAT31((int3)(_can_transmit_length >> 8),
                          (char)flag_shows_posibility_of_esp_transitioning_between_normal_false_true
                          + '\x01');
    tpu_channel_enable_state = 1;
    tpu_channel_int_select = 0xfcbe;
    tpu_channel_priority_select = tpu_channel_priority_select & 0x7fff | 0x4000;
  }
  else if (can_transmit_buffer_ptr != _can_transmit_length) {
    if ((tpu_cfsr0 & 0x20) == 0) {
      tpu_cfsr1 = (word)*_track_the_time_when_throttle_is_less_than_a_threshold_0_30;
      tpu_channel_state_value = 0;
      _tpu_transmission_state_machine = 0;
      tpu_transmission_byte_counter = 1;
      tpu_transmission_state = *_track_the_time_when_throttle_is_less_than_a_threshold_0_30;
      tpu_cier = tpu_cier | 0x20;
    }
    else {
      tpu_channel_enable_state = 1;
      tpu_channel_int_select = 0xfc8a;
      tpu_channel_priority_select = tpu_channel_priority_select & 0x7fff | 0x4000;
    }
  }
  return CONCAT44(in_D0,in_D1);
}



//
// Function: engineSpeedIsrRegister @ 0x000283c0
//

void engineSpeedIsrRegister(void)

{
  engine_speed_isr_register_address = (dword)tpuChannelStateMachine;
  tpu_channel_priority_select = tpu_channel_priority_select & 0xfff;
  return;
}



//
// Function: engineRpmHardwareTimerSetup @ 0x000283dc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineRpmHardwareTimerSetup(void)

{
  uint uVar1;
  uint uVar2;
  ushort uVar3;
  undefined4 local_8;
  
  uVar3 = current_engine_rpm;
  if (retarder_rpm_override_active == 1) {
    uVar3 = retarder_override_rpm_value;
  }
  if ((uVar3 != 0) && (uVar3 < retarder_mode_timeout_value)) {
    uVar3 = retarder_mode_timeout_value;
  }
  if ((uVar3 == 0) ||
     (0x10c5 < mask_used_by_a_tool_to_id_the_trip_faults_found_in_the_trip_in_0_03f)) {
    retarder_proportion_calc_workspace = 0x4230bdc0;
    local_8 = proportionalCalculation(16000000,0x4230bdc0,32000000);
    local_8 = local_8 & 0xffff;
  }
  else {
    retarder_proportion_calc_workspace =
         ((uint)mask_used_by_a_tool_to_id_the_trip_faults_found_in_the_trip_in_0_03f * 1000000) /
         (uint)uVar3;
    uVar2 = proportionalCalculation(16000000,retarder_proportion_calc_workspace,32000000);
    local_8 = uVar2 & 0xffff;
    uVar1 = local_8;
    local_8 = CONCAT22((short)((int)uVar1 >> 1),(short)uVar2);
  }
  _IMB_CSBAR3 = local_8;
  return;
}



//
// Function: can1ControllerInit @ 0x000284aa
//

/* WARNING: Removing unreachable block (ram,0x00028528) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void can1ControllerInit(void)

{
  can1_cantbsel = can1_cantbsel & 0xefff;
  can1_canidmr2 = can1_canidmr2 & 0xefff;
  can1_canidac = can1_canidac & 0xfff0 | 0xb;
  IMB_CSBAR2 = 0x92;
  _IMB_CSBAR3 = 0xffff;
  can1_canidar2 = can1_canidar2 & 0xfcff | 0x200;
  can1_canidmr0 = can1_canidmr0 & 0xfcff | 0x100;
  retarder_mode_timeout_value =
       (word)((int)((uint)mask_used_by_a_tool_to_id_the_trip_faults_found_in_the_trip_in_0_03f *
                   0x1e84) >> 10);
  if (retarder_mode_timeout_value < road_speed_below_which_esp_distance_does_not_accumulate_0_10) {
    retarder_mode_timeout_value = road_speed_below_which_esp_distance_does_not_accumulate_0_10;
  }
  return;
}



//
// Function: emptyStubFunction9 @ 0x0002853c
//

undefined8 emptyStubFunction9(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  return CONCAT44(in_D0,in_D1);
}



//
// Function: emptyInitPlaceholder @ 0x00028546
//

void emptyInitPlaceholder(void)

{
  return;
}



//
// Function: engineStatisticsAccumulator @ 0x00028548
//

undefined4 engineStatisticsAccumulator(uint *param_1,uint *param_2)

{
  dword dVar1;
  uint uVar2;
  ushort uVar3;
  
  dVar1 = engine_runtime_statistics_accumulator;
  uVar3 = 0;
  *param_1 = engine_runtime_statistics_accumulator + *param_1;
  if (0xfffff < *param_1) {
    uVar2 = *param_1 >> 0x14;
    uVar3 = (ushort)(-uVar2 - 1 <= *param_2);
    *param_2 = uVar2 + *param_2;
    dVar1 = uVar2 * 0x100000;
    *param_1 = *param_1 + uVar2 * -0x100000;
  }
  return CONCAT22((short)(dVar1 >> 0x10),uVar3);
}



//
// Function: runTimeCountersUpdate @ 0x00028588
//

void runTimeCountersUpdate(void)

{
  insite_runtime_hours_accumulator = runtime_hours_accumulator + 1;
  runtime_counter_accumulator_1 = runtime_counter_accumulator_1 + 1;
  runtime_hours_accumulator = insite_runtime_hours_accumulator;
  if (engine_runtime_statistics_accumulator != 0) {
    engineStatisticsAccumulator(&runtime_counter_update_arg_1,&runtime_counter_update_arg_2);
    engineStatisticsAccumulator((uint *)0x805f58,&insite_command_base_value);
  }
  return;
}



//
// Function: runTimeCountersUpdateAlt @ 0x000285c8
//

void runTimeCountersUpdateAlt(void)

{
  runtime_counter_accumulator_2 = runtime_counter_accumulator_2 + 1;
  insite_idle_hours_accumulator = idle_hours_accumulator + 1;
  idle_hours_accumulator = insite_idle_hours_accumulator;
  if (engine_runtime_statistics_accumulator != 0) {
    engineStatisticsAccumulator(&OCHRRSHS,&runtime_counter_update_alt_arg);
    engineStatisticsAccumulator((uint *)0x805f5c,(uint *)0x805f60);
  }
  return;
}



//
// Function: fuelDemandFaultCounterIncrement @ 0x0002860c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

byte fuelDemandFaultCounterIncrement(void)

{
  byte bVar1;
  
  bVar1 = io_control_flags & 1;
  if (((io_control_flags & 1) == 0) &&
     (bVar1 = output_control_status_byte & 1, (output_control_status_byte & 1) == 0)) {
    return bVar1;
  }
  _general_increment_counter = _general_increment_counter + 1;
  fuel_demand_fault_counter = fuel_demand_fault_counter + 1;
  return bVar1;
}



//
// Function: rpmHistogramAndAveragingStatistics @ 0x00028638
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void rpmHistogramAndAveragingStatistics(void)

{
  ushort uVar1;
  
  if (current_engine_rpm_raw != 0) {
    if (rpm_histogram_max_rpm < current_engine_rpm_raw) {
      rpm_histogram_max_rpm = current_engine_rpm_raw;
    }
    if ((current_engine_rpm_raw < rpm_histogram_base_rpm) || (rpm_histogram_bin_size == 0)) {
      uVar1 = 0;
    }
    else {
      uVar1 = (short)((int)((uint)current_engine_rpm_raw - (uint)rpm_histogram_base_rpm) /
                     (int)(uint)rpm_histogram_bin_size) + 1;
      if (0x18 < uVar1) {
        uVar1 = 0x18;
      }
    }
    (&rpm_histogram_buffer_start)[(short)uVar1] = (&rpm_histogram_buffer_start)[(short)uVar1] + 1;
  }
  rpm_histogram_sample_divider = rpm_histogram_sample_divider + 1;
  if (rpm_histogram_sample_divider == 10) {
    rpm_histogram_sample_divider = 0;
    if (current_engine_rpm_raw != 0) {
      if (rpm_histogram_accumulator != 0xffffffff) {
        rpm_histogram_accumulator = rpm_histogram_accumulator + 1;
      }
      if (rpm_histogram_sample_counter_2 != 0xffffffff) {
        rpm_histogram_sample_counter_2 = rpm_histogram_sample_counter_2 + 1;
      }
      rpm_averaging_accumulator_1 =
           rpm_averaging_accumulator_1 -
           (short)((int)((uint)rpm_averaging_accumulator_1 - (uint)smoke_limiter_output_value) /
                  (int)rpm_histogram_accumulator);
      rpm_averaging_accumulator_2 =
           rpm_averaging_accumulator_2 -
           (short)((int)((uint)rpm_averaging_accumulator_2 - (uint)smoke_limiter_output_value) /
                  (int)rpm_histogram_sample_counter_2);
      rpm_histogram_filtered_value = rpm_averaging_accumulator_2;
      rpm_histogram_average_value = rpm_averaging_accumulator_1;
    }
  }
  if (vp44_engine_state == 0xb) {
    if (high_speed_idle_cooldown_timer != 0) {
      high_speed_idle_cooldown_timer = high_speed_idle_cooldown_timer - 1;
    }
    if (high_load_idle_cooldown_timer != 0) {
      high_load_idle_cooldown_timer = high_load_idle_cooldown_timer - 1;
    }
    if (high_temp_idle_cooldown_timer != 0) {
      high_temp_idle_cooldown_timer = high_temp_idle_cooldown_timer - 1;
    }
    _non_idle_time_counter = 0;
  }
  else {
    _non_idle_time_counter = _non_idle_time_counter + 1;
    if (rpm_histogram_temp_threshold < rpm_histogram_temp_value) {
      if (if_the_engine_load_exceeds_this_threshold_the_engine_is_deemed_0_127_5 <
          smoke_limiter_output_value) {
        high_load_idle_cooldown_timer =
             minimum_time_the_engine_must_idle_before_shutdown_if_high_loa_0_1800;
      }
      if (rpm_histogram_high_speed_threshold < current_engine_rpm_raw) {
        high_speed_idle_cooldown_timer =
             minimum_idle_time_if_the_engine_was_at_high_speed_to_avoid_ho_0_1800;
      }
      if (_rpm_histogram_non_idle_threshold_8a5c < _non_idle_time_counter) {
        high_temp_idle_cooldown_timer =
             minimum_time_the_engine_must_idle_before_shutdown_if_at_high_0_1800;
      }
    }
  }
  if (((engine_operating_mode == FAULT_EMERGENCY) && (_engine_mode_previous_state_1a7e != 8)) &&
     ((high_speed_idle_cooldown_timer != 0 || high_load_idle_cooldown_timer != 0 ||
      (high_temp_idle_cooldown_timer != 0)))) {
    _rpm_histogram_sum = _rpm_histogram_sum + 1;
    high_load_idle_cooldown_timer = 0;
    high_speed_idle_cooldown_timer = 0;
    high_temp_idle_cooldown_timer = 0;
  }
  _engine_mode_previous_state_1a7e = engine_operating_mode;
  if (vp44_engine_state == 0x12) {
    rpm_histogram_count = rpm_histogram_count + 1;
  }
  return;
}



//
// Function: fuelStatisticsTracker @ 0x0002880e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort fuelStatisticsTracker(void)

{
  uint uVar1;
  undefined4 uVar2;
  ushort uVar3;
  dword *pdVar4;
  
  if (fuel_statistics_secondary_accumulator == 1) {
    fuel_statistics_secondary_accumulator = 0;
    fuel_statistics_init_flag = 1;
    uVar3 = 0;
    pdVar4 = &rpm_histogram_buffer_start;
    do {
      *pdVar4 = 0;
      uVar3 = uVar3 + 1;
      pdVar4 = pdVar4 + 1;
    } while (uVar3 < 0x19);
    fuel_total_when_the_weighted_fuel_value_reaches_the_fu_0_0_1000000_0 = 0;
    fuel_statistics_accumulator_1 = 0;
    runtime_counter_update_arg_1 = 0;
    OCHRRSHS = 0;
    fuel_statistics_accumulator_2 = 0;
    clutch_operating_stats_value = 0;
    runtime_counter_update_arg_2 = 0;
    runtime_counter_update_alt_arg = 0;
    _crank_rpm_condition_flag = 0;
    runtime_counter_accumulator_1 = 0;
    runtime_counter_accumulator_2 = 0;
    fuel_demand_fault_counter = 0;
    fuel_statistics_counter = 0;
    fuel_timing_control_counter_1 = 0;
    rpm_histogram_average_value = 0;
    rpm_histogram_accumulator = 0;
    rpm_histogram_count = 0;
    _rpm_histogram_sum = 0;
    rpm_histogram_max_rpm = 0;
    clutch_operating_stats_output = 0;
  }
  uVar3 = diagnostic_system_flags_1 & 0x200;
  if (uVar3 != 0) {
    if (current_engine_rpm_raw == 0) {
      fuel_statistics_accumulator = 0;
    }
    else if ((vp44_engine_state == 0xb) && (throttle_position_value == 0)) {
      fuel_statistics_accumulator = 1;
    }
    else if (oil_pressure_protection_enabled == 1) {
      fuel_statistics_accumulator = 2;
    }
    else {
      fuel_statistics_accumulator = 3;
    }
    if (fuel_statistics_accumulator == 0) {
      fuel_statistics_command_value = 0;
      fuel_economy_statistics_value = 0;
      fuel_statistics_fault_counter = 0;
    }
    else {
      if (0xfffffffd < _crank_fuel_calculation_state) {
        _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x10;
      }
      _crank_fuel_calculation_state = _crank_fuel_calculation_state + 1;
      if (0xfffffffd < fuel_statistics_counter) {
        _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x400;
      }
      fuel_statistics_counter = fuel_statistics_counter + 1;
      if (_crank_fuel_calculation_state < -fuel_statistics_base_offset_3814 - 1) {
        vehicle_hours_statistics_value =
             fuel_statistics_base_offset_3814 + _crank_fuel_calculation_state;
      }
      else {
        vehicle_hours_statistics_value = 0xffffffff;
      }
      if (fuel_statistics_mode_selector == 0) {
        engine_runtime_statistics_accumulator =
             proportionalCalculation
                       (vp44_fuel_demand_accumulator - vp44_fuel_demand_previous,0x800000,
                        _fuel_statistics_divisor);
        vp44_fuel_demand_previous = vp44_fuel_demand_accumulator;
      }
      else {
        engine_runtime_statistics_accumulator =
             proportionalCalculation((uint)fuel_statistics_alt_value,0x5000000,0x39c2c30);
      }
      if (engine_runtime_statistics_accumulator == 0) {
        fuel_statistics_command_value = 0;
        fuel_economy_statistics_value = 0;
      }
      else {
        fuel_statistics_status_byte = fuel_statistics_previous_status;
        uVar1 = proportionalCalculation(engine_runtime_statistics_accumulator,0x232893,0x800000);
        if (uVar1 < 0x10000) {
          fuel_economy_statistics_value = (word)uVar1;
        }
        else {
          fuel_economy_statistics_value = 0xffff;
        }
        if (fuel_economy_sample_toggle == 0) {
          fuel_economy_sample_1 = fuel_economy_statistics_value;
          fuel_economy_sample_toggle = 1;
        }
        else {
          uVar1 = (((uint)fuel_economy_sample_1 + (uint)fuel_economy_statistics_value >> 1) +
                  (uint)fuel_economy_sample_2 + (uint)fuel_economy_sample_3) / 3;
          if (uVar1 < 0x10000) {
            fuel_statistics_command_value = (word)uVar1;
          }
          else {
            fuel_statistics_command_value = 0xffff;
          }
          fuel_economy_sample_3 = fuel_economy_sample_2;
          fuel_economy_sample_2 = fuel_statistics_command_value;
          fuel_economy_sample_toggle = 0;
        }
        uVar2 = engineStatisticsAccumulator((uint *)0x805f1c,&crank_timing_state_current);
        if ((short)uVar2 != 0) {
          _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x20;
        }
        uVar2 = engineStatisticsAccumulator
                          (&fuel_statistics_accumulator_1,&clutch_operating_stats_value);
        if ((short)uVar2 != 0) {
          _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x800;
        }
        insite_fuel_statistics_output = crank_timing_state_current;
        clutch_operating_stats_output = clutch_operating_stats_value;
        if (fuel_statistics_status_byte == 0) {
          fuel_statistics_fault_counter = 0;
        }
        else if (the_minimum_time_a_fault_must_be_present_before_logged_in_trip_in_0_30 <
                 fuel_statistics_fault_counter) {
          _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x41;
        }
        else {
          fuel_statistics_fault_counter = fuel_statistics_fault_counter + 1;
        }
      }
      if (fuel_statistics_accumulator == 3) {
        engineStatisticsAccumulator
                  (&fuel_total_when_the_weighted_fuel_value_reaches_the_fu_0_0_1000000_0,
                   &fuel_statistics_accumulator_2);
      }
      else if (fuel_statistics_accumulator == 1) {
        runTimeCountersUpdate();
      }
      else if (fuel_statistics_accumulator == 2) {
        runTimeCountersUpdateAlt();
      }
      fuelDemandFaultCounterIncrement();
      if (fuel_timing_control_value != 0) {
        fuel_timing_control_counter_1 = fuel_timing_control_counter_1 + 1;
        fuel_timing_control_counter_2 = fuel_timing_control_counter_2 + 1;
      }
    }
    uVar3 = rpmHistogramAndAveragingStatistics();
  }
  return uVar3;
}



//
// Function: protectionFlagAccumulator @ 0x00028b78
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort protectionFlagAccumulator(void)

{
  if ((diagnostic_system_flags_1 & 0x200) != 0) {
    if (protection_flag_source_1 != 0) {
      _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x82;
    }
    if (redundant_sensor_param_1 != 0) {
      _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x208;
    }
    if (protection_flag_source_2 != 0) {
      _crank_rpm_condition_flag = _crank_rpm_condition_flag | 0x104;
    }
  }
  return diagnostic_system_flags_1 & 0x200;
}



//
// Function: initDiagnosticSystemState @ 0x00028bda
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initDiagnosticSystemState(void)

{
  fuel_statistics_accumulator = 0;
  fuel_statistics_status_byte = 0;
  vp44_fuel_demand_previous = vp44_fuel_demand_accumulator;
  fuel_economy_sample_1 = 0;
  _non_idle_time_counter = 0;
  rpm_averaging_accumulator_2 = 0;
  rpm_averaging_accumulator_1 = 0;
  _engine_mode_previous_state_1a7e = 0;
  return;
}



//
// Function: initInternalRamAndCAN1 @ 0x0002939c
//

void initInternalRamAndCAN1(void)

{
  dword *pdVar1;
  dword *pdVar2;
  dword *pdVar3;
  
  if ((can1_canmcr & 0x400) != 0x400) {
    qsm_qilr = 0xffe0;
    pdVar1 = &internal_ram_init_data_block_1;
    pdVar2 = (dword *)&EBI_EBIMCR;
    do {
      pdVar3 = pdVar2 + 1;
      *pdVar2 = *pdVar1;
      pdVar1 = pdVar1 + 1;
      pdVar2 = pdVar3;
    } while (pdVar3 < (dword *)0xffe68c);
    do {
      pdVar1 = pdVar3 + 1;
      *pdVar3 = 0;
      pdVar3 = pdVar1;
    } while (pdVar1 < (dword *)0xffe6ff);
    pdVar2 = &internal_ram_init_data_block_2;
    do {
      pdVar3 = pdVar1 + 1;
      *pdVar1 = *pdVar2;
      pdVar2 = pdVar2 + 1;
      pdVar1 = pdVar3;
    } while (pdVar3 < (dword *)0xffe7ff);
    can1_canmcr = 0x407;
    can1_cantbsel = 0;
    can1_cantaak = 0x440;
  }
  return;
}



//
// Function: diagnosticSessionValidator @ 0x00029422
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint diagnosticSessionValidator(undefined4 param_1)

{
  uint in_D0;
  byte bVar1;
  word *pwVar2;
  
  pwVar2 = &diagnostic_session_validator_param;
  bVar1 = 0;
  while (((param_1._0_2_ != *pwVar2 || ((char)param_1 != *(char *)((int)pwVar2 + 3))) &&
         ((param_1._0_2_ != 1 || ((*pwVar2 != 1 || (*(char *)((int)pwVar2 + 3) != -1))))))) {
    in_D0 = 0;
    pwVar2 = pwVar2 + 10;
    bVar1 = bVar1 + 1;
    if (4 < bVar1) {
      return 1;
    }
  }
  _fuel_arbitrator_control_mode = pwVar2;
  return in_D0 & 0xffff0000;
}



//
// Function: diagnosticCanResponseSender @ 0x00029476
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticCanResponseSender(int param_1,undefined4 param_2)

{
  diagnostic_can_response_header = CONCAT13((char)((_can_priority_table_start & 7) << 2),0xe8ff00);
  diagnostic_can_response_header._2_2_ =
       CONCAT11(*(undefined1 *)(param_1 + 3),*(undefined1 *)(param_1 + 2));
  can_buffer_setup1_data = (byte)((uint)param_2 >> 0x10);
  diag_can_response_data_0 = **(byte **)(param_1 + 6);
  diag_can_response_data_1 = *(byte *)(*(int *)(param_1 + 6) + 1);
  diag_can_response_data_2 = *(byte *)(*(int *)(param_1 + 6) + 2);
  sendCanMessage((j1939_header_t *)&diagnostic_can_response_header);
  return;
}



//
// Function: canBufferSetup1 @ 0x000294ea
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void canBufferSetup1(void)

{
  _can_buffer_setup1_size = 8;
  can_buffer_setup1_data_ptr = (dword)&can_buffer_setup1_data;
  can_buffer_setup1_unused_ptr = 0x801a9c;
  can_buffer_1_reserved_0 = 0xff;
  can_buffer_1_reserved_1 = 0xff;
  can_buffer_1_reserved_2 = 0xff;
  can_buffer_1_reserved_3 = 0xff;
  return;
}



//
// Function: ambientConditionsDataBuilder @ 0x00029522
//

void ambientConditionsDataBuilder(void)

{
  ambient_conditions_data_start =
       (byte)((((uint)insite_diagnostic_reading * 2 >> 7) * 0x1afa) / 1000);
  sendCanMessage((j1939_header_t *)&ambient_conditions_msg_header);
  return;
}



//
// Function: ambientConditionsPGN_65269_Builder @ 0x0002956a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ambientConditionsPGN_65269_Builder(void)

{
  ambient_conditions_msg_header = CONCAT13((char)((_j1939_priority_pgn65269 & 7) << 2),0xfef500);
  ambient_conditions_msg_length = 8;
  ambient_conditions_data_ptr = (dword)&ambient_conditions_data_start;
  ambient_conditions_unused_ptr = (dword)&ambient_conditions_buffer_end;
  ambient_conditions_msg_header =
       CONCAT31(ambient_conditions_msg_header._0_3_,j1939_source_address_primary);
  ambient_barometric_pressure = 0xff;
  ambient_cab_interior_temp = 0xff;
  ambient_air_temp = 0xff;
  engine_air_inlet_temp = 0xff;
  road_surface_temp = 0xff;
  ambient_conditions_reserved = 0xffff;
  return;
}



//
// Function: ambientConditionsDataBuilder @ 0x000295d4
//

void ambientConditionsDataBuilder(void)

{
  uint uVar1;
  undefined2 local_6;
  
  if ((vp44_communication_status & 0x20) == 0) {
    j1939_pgn_65265_data_byte1 = 0xf3;
  }
  else {
    j1939_pgn_65265_data_byte1 = 0xf7;
  }
  if ((-(8 < throttle_position_value) & 1U) < 0x9d) {
    local_6 = throttle_position_value;
  }
  else {
    local_6 = 0x9c00;
  }
  uVar1 = (uint)local_6;
  local_6._1_1_ = (byte)(uVar1 * 0x19c >> 8);
  ambient_temp_calc_low = (byte)local_6;
  local_6._0_1_ = (byte)(uVar1 * 0x19c >> 0x10);
  ambient_temp_calc_high = local_6._0_1_;
  if ((derate_status_byte & 4) == 0) {
    ambient_sensor_status1 = 0;
  }
  else {
    ambient_sensor_status1 = 4;
  }
  if ((derate_status_byte & 8) != 0) {
    ambient_sensor_status1 = ambient_sensor_status1 | 0x10;
  }
  if ((sensor_status_register & 0x10) != 0) {
    ambient_sensor_status1 = ambient_sensor_status1 | 4;
  }
  if (protection_system_enable_flag == 1) {
    ambient_sensor_status1 = ambient_sensor_status1 | 1;
  }
  if ((sensor_status_register & 2) == 0) {
    ambient_sensor_status2 = 0;
  }
  else {
    ambient_sensor_status2 = 0x40;
  }
  if ((sensor_status_register & 1) != 0) {
    ambient_sensor_status2 = ambient_sensor_status2 | 0x10;
  }
  if ((sensor_status_register & 8) != 0) {
    ambient_sensor_status2 = ambient_sensor_status2 | 4;
  }
  if ((sensor_status_register & 4) != 0) {
    ambient_sensor_status2 = ambient_sensor_status2 | 1;
  }
  ambient_temp_processed = (byte)((uint)target_boost_pressure_base * 0x19c >> 0x10);
  if (protection_system_enable_flag == 1) {
    ambient_status_final = 0x3f;
  }
  else {
    ambient_status_final = 0x1f;
  }
  sendCanMessage((j1939_header_t *)&j1939_pgn_65265_header);
  return;
}



//
// Function: j1939MessageSetup_PGN_65265 @ 0x00029796
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void j1939MessageSetup_PGN_65265(void)

{
  j1939_pgn_65265_header = CONCAT13((char)((_j1939_priority_pgn65265 & 7) << 2),0xfef100);
  j1939_pgn_65265_header = CONCAT31(j1939_pgn_65265_header._0_3_,j1939_source_address_primary);
  _j1939_pgn_65265_size = 7;
  j1939_pgn_65265_data_ptr = (dword)&j1939_pgn_65265_data_byte1;
  j1939_pgn_65265_unused_ptr = 0x801acc;
  j1939_pgn_65265_data_byte1 = 0xf3;
  j1939_pgn65265_reserved_byte = 0xff;
  canTransmissionController();
  return;
}



//
// Function: engineSerialNumberDataBuilder @ 0x000297fc
//

void engineSerialNumberDataBuilder(void)

{
  byte bVar1;
  byte *pbVar2;
  byte *pbVar3;
  
  bVar1 = 0;
  pbVar2 = &engine_serial_number_buffer;
  pbVar3 = &insite_version_string_part_1;
  do {
    *pbVar2 = *pbVar3;
    bVar1 = bVar1 + 1;
    pbVar2 = pbVar2 + 1;
    pbVar3 = pbVar3 + 1;
  } while (bVar1 < 5);
  engine_serial_separator_1 = 0x2a;
  bVar1 = 0;
  pbVar2 = &engine_serial_part2_start;
  pbVar3 = &insite_version_string_part_2;
  do {
    *pbVar2 = *pbVar3;
    bVar1 = bVar1 + 1;
    pbVar2 = pbVar2 + 1;
    pbVar3 = pbVar3 + 1;
  } while (bVar1 < 0x11);
  engine_serial_separator_2 = 0x2a;
  bVar1 = 0;
  pbVar2 = &engine_serial_part3_start;
  pbVar3 = &insite_version_string_part_3;
  do {
    *pbVar2 = *pbVar3;
    bVar1 = bVar1 + 1;
    pbVar2 = pbVar2 + 1;
    pbVar3 = pbVar3 + 1;
  } while (bVar1 < 4);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65259);
  return;
}



//
// Function: engineSerialNumberPGN_65259_Builder @ 0x00029868
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineSerialNumberPGN_65259_Builder(void)

{
  j1939_message_buffer_pgn65259 = CONCAT13((char)((_j1939_priority_pgn65259 & 7) << 2),0xfeeb00);
  j1939_pgn65259_msg_size = 0x1c;
  j1939_pgn65259_data_ptr = (dword)&engine_serial_number_buffer;
  j1939_pgn65259_unused_ptr = 0x801af8;
  j1939_message_buffer_pgn65259 =
       CONCAT31(j1939_message_buffer_pgn65259._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: diagnosticMultiPacketResponseBuilder @ 0x000298d8
//

byte * diagnosticMultiPacketResponseBuilder(byte *param_1,undefined4 param_2)

{
  undefined4 in_D0;
  undefined2 uVar1;
  byte bVar2;
  j1939_header_t *msg_header;
  undefined4 unaff_D2;
  char cVar3;
  byte bVar4;
  short sVar5;
  undefined1 *puVar6;
  undefined1 *puVar7;
  
  uVar1 = (undefined2)CONCAT31((int3)((uint)in_D0 >> 8),**(undefined1 **)(param_1 + 6));
  bVar2 = messageTypeToChannelMapper(CONCAT22(uVar1,(short)((uint)unaff_D2 >> 0x10)));
  cVar3 = (char)((uint)param_2 >> 0x10);
  if (cVar3 == '\0') {
    sVar5 = bVar2 + 1;
  }
  else {
    sVar5 = bVar2 + 2;
  }
  msg_header = (j1939_header_t *)multiPacketBufferAllocator(CONCAT22(sVar5,uVar1));
  if (msg_header != (j1939_header_t *)0x0) {
    msg_header->id = 0xef0000;
    bVar4 = *param_1;
    *(byte *)&msg_header->id = *(byte *)&msg_header->id & 0xe3;
    *(byte *)&msg_header->id = bVar4 & 0x1c | *(byte *)&msg_header->id;
    *(byte *)((int)&msg_header->id + 2) = param_1[3];
    *(byte *)((int)&msg_header->id + 3) = param_1[2];
    puVar7 = (undefined1 *)msg_header[1].id;
    if (cVar3 == '\0') {
      puVar6 = puVar7 + 1;
      *puVar7 = 0xc;
    }
    else {
      *puVar7 = 0xd;
      puVar6 = puVar7 + 2;
      puVar7[1] = (&diag_multi_packet_status_code_table)[(short)(param_2._0_2_ & 0xff)];
    }
    puVar7 = *(undefined1 **)(param_1 + 6);
    for (bVar4 = 0; bVar4 < bVar2; bVar4 = bVar4 + 1) {
      *puVar6 = *puVar7;
      puVar6 = puVar6 + 1;
      puVar7 = puVar7 + 1;
    }
    msg_header = (j1939_header_t *)sendCanMessage(msg_header);
  }
  return (byte *)msg_header;
}



//
// Function: activeDtcListBuilder @ 0x00029976
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

byte activeDtcListBuilder(void)

{
  byte bVar1;
  uint uVar2;
  byte bVar3;
  byte bVar4;
  uint *puVar5;
  
  active_dtc_list_header_ptr = (dword)&j1939_transport_protocol_header;
  bVar3 = j1939_transport_protocol_header & 0xf0;
  if (bVar3 == 0) {
    diagnostic_pending_response_offset = 2;
    if (diagnostic_pending_code_count == 0) {
      j1939_transport_sequence_counter._0_1_ = 0;
      _active_dtc_list_data_buffer = 0xffffffff;
      diagnostic_pending_response_offset = 6;
    }
    else {
      uVar2 = ioControlBitMapper();
      j1939_transport_sequence_counter._0_1_ = (undefined1)uVar2;
      puVar5 = (uint *)&active_dtc_list_data_buffer;
      for (bVar3 = 1; bVar3 <= diagnostic_pending_code_count; bVar3 = bVar3 + 1) {
        bVar1 = (&diagnostic_pending_code_count)[(short)(ushort)bVar3];
        if ((*(ushort *)(&dtc_fault_table_base + (short)((ushort)bVar1 * 3) * 2) & 0x4000) == 0) {
          if ((&diagnostic_pid_dtc_index)[(short)((ushort)bVar1 * 10)] < 0x80) {
            bVar4 = (&diagnostic_pid_dtc_index)[(short)((ushort)bVar1 * 10)];
          }
          else {
            bVar4 = 0x7f;
          }
          uVar2 = *(uint *)((short)(ushort)bVar1 * 4 + 0x8084ce) & 0xffffe000;
          *puVar5 = CONCAT22((short)(uVar2 >> 0x10),
                             (ushort)bVar4 |
                             (*(byte *)((short)(ushort)bVar1 * 4 + 0x8084d0) & 0x1f) * 2 |
                             (ushort)uVar2) | 0x80;
          diagnostic_pending_response_offset = diagnostic_pending_response_offset + 4;
        }
        puVar5 = puVar5 + 1;
      }
    }
    bVar3 = sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65226);
  }
  return bVar3;
}



//
// Function: engineCoolantPGN_65226_Builder @ 0x00029a86
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineCoolantPGN_65226_Builder(void)

{
  j1939_message_buffer_pgn65226 = CONCAT13((char)((_j1939_priority_pgn65226 & 7) << 2),0xfeca00);
  j1939_pgn65226_data_ptr = (dword)&j1939_transport_sequence_counter;
  active_dtc_list_header_ptr = (dword)&j1939_transport_protocol_header;
  j1939_message_buffer_pgn65226 =
       CONCAT31(j1939_message_buffer_pgn65226._0_3_,j1939_source_address_primary);
  j1939_transport_sequence_counter._1_1_ = 0xff;
  engine_coolant_pgn65226_status = engine_coolant_pgn65226_status & 0x7f;
  canTransmissionController();
  return;
}



//
// Function: previousDtcListBuilder @ 0x00029ae4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

byte previousDtcListBuilder(void)

{
  byte bVar1;
  uint uVar2;
  byte bVar3;
  byte bVar4;
  uint *puVar5;
  
  bVar3 = dm2_pgn65227_unused_byte & 0xf0;
  if (bVar3 == 0) {
    throttle_fault_handler_state = 2;
    uVar2 = ioControlBitMapper();
    dm2_pgn65227_data_byte = (byte)uVar2;
    if (diagnostic_active_code_count == 0) {
      _dm2_pgn65227_data_buffer = 0xffffffff;
      throttle_fault_handler_state = throttle_fault_handler_state + 4;
    }
    else {
      puVar5 = (uint *)&dm2_pgn65227_data_buffer;
      for (bVar3 = 1; bVar3 <= diagnostic_active_code_count; bVar3 = bVar3 + 1) {
        if ((*(ushort *)
              (&dtc_fault_table_base +
              (short)((ushort)(&diagnostic_active_code_count)[(short)(ushort)bVar3] * 3) * 2) &
            0x4000) == 0) {
          bVar1 = (&diagnostic_active_code_count)[(short)(ushort)bVar3];
          if ((&diagnostic_pid_dtc_index)[(short)((ushort)bVar1 * 10)] < 0x80) {
            bVar4 = (&diagnostic_pid_dtc_index)[(short)((ushort)bVar1 * 10)];
          }
          else {
            bVar4 = 0x7f;
          }
          uVar2 = *(uint *)((short)(ushort)bVar1 * 4 + 0x8084ce) & 0xffffe000;
          *puVar5 = CONCAT22((short)(uVar2 >> 0x10),
                             (ushort)bVar4 |
                             (*(byte *)((short)(ushort)bVar1 * 4 + 0x8084d0) & 0x1f) * 2 |
                             (ushort)uVar2) | 0x80;
          throttle_fault_handler_state = throttle_fault_handler_state + 4;
        }
        puVar5 = puVar5 + 1;
      }
    }
    bVar3 = sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65227);
  }
  return bVar3;
}



//
// Function: diagnosticDM2PGN_65227_Builder @ 0x00029bf4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDM2PGN_65227_Builder(void)

{
  j1939_message_buffer_pgn65227 = CONCAT13((char)((_j1939_priority_pgn65227 & 7) << 2),0xfecb00);
  dm2_pgn65227_data_ptr = (dword)&dm2_pgn65227_data_byte;
  dm2_pgn65227_unused_ptr = (dword)&dm2_pgn65227_unused_byte;
  j1939_message_buffer_pgn65227 =
       CONCAT31(j1939_message_buffer_pgn65227._0_3_,j1939_source_address_primary);
  dm2_pgn65227_reserved = 0xff;
  dm2_pgn65227_control_byte = dm2_pgn65227_control_byte & 0x7f;
  canTransmissionController();
  return;
}



//
// Function: buildCanMessage @ 0x00029c52
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

byte buildCanMessage(void)

{
  undefined4 uVar1;
  int iVar2;
  short sVar3;
  undefined2 uVar4;
  byte bVar5;
  ushort uVar6;
  byte bVar7;
  int iVar8;
  short sVar9;
  uint uVar10;
  dword *pdVar11;
  undefined2 local_6;
  
  bVar5 = dm4_pgn65229_status_byte & 0xf0;
  if (bVar5 == 0) {
    diagnostic_dtc_response_length = 0;
    if ((diagnostic_pending_code_count == 0) && (diagnostic_active_code_count == 0)) {
      j1939_multiframe_data_buffer._0_1_ = 0;
      j1939_multiframe_data_buffer._1_1_ = 0;
      j1939_multiframe_data_buffer._2_1_ = 0;
      j1939_multiframe_data_buffer._3_1_ = 0;
      dtc_response_spn_high_byte = 0;
      dtc_response_spn_mid_byte = 0xff;
      dtc_response_spn_low_byte = 0xff;
      dtc_response_fmi_byte = 0xff;
      diagnostic_dtc_response_length = 8;
    }
    else {
      bVar5 = 0;
      pdVar11 = &j1939_multiframe_data_buffer;
      iVar8 = 0;
      do {
        sVar9 = (short)iVar8;
        if (*(short *)((int)&dtc_timestamp_array + (int)sVar9) != 0x7d) {
          iVar2 = (uint)(*(short *)((int)&diagnostic_fault_status_array + (int)sVar9) != 0x7d) *
                  0x3c0;
          sVar3 = (short)iVar2;
          uVar6 = (ushort)((uint)(((int)(uint)*(ushort *)((short)(sVar9 + sVar3) + 0x805682) >> 7) *
                                 0x1afa) / 1000);
          if (500 < uVar6) {
            uVar6 = 500;
          }
          *(char *)((int)pdVar11 + 6) = (char)((int)(uint)uVar6 >> 1);
          uVar4 = byteSwap16((undefined2 *)(iVar8 + iVar2 + 0x80567a));
          *(char *)(pdVar11 + 2) = (char)uVar4;
          *(char *)((int)pdVar11 + 7) = (char)((ushort)uVar4 >> 8);
          *(char *)((int)pdVar11 + 9) =
               (char)((ushort)*(undefined2 *)((short)(sVar9 + sVar3) + 0x80567e) >> 8);
          *(char *)((int)pdVar11 + 10) =
               (char)(((short)((int)(uint)*(ushort *)((short)(sVar9 + sVar3) + 0x805684) >> 7) * 5 +
                      -0xa0) / 9) + '(';
          if (_dtc_timestamp_format_flag == 1) {
            local_6 = (undefined2)
                      ((uint)*(ushort *)((int)&dtc_timestamp_array + (short)(sVar9 + sVar3) + 2) *
                       0x19c >> 8);
            uVar4 = byteSwap16(&local_6);
            *(char *)(pdVar11 + 3) = (char)uVar4;
            *(char *)((int)pdVar11 + 0xb) = (char)((ushort)uVar4 >> 8);
          }
          else {
            *(undefined1 *)((int)pdVar11 + 0xb) = 0xff;
            *(undefined1 *)(pdVar11 + 3) = 0xff;
          }
          *(char *)((int)pdVar11 + 0xd) =
               (char)*(undefined2 *)((int)&dtc_timestamp_array + (int)(short)(sVar9 + sVar3));
          *(char *)((int)pdVar11 + 0xe) =
               (char)((ushort)*(undefined2 *)
                               ((int)&dtc_timestamp_array + (int)(short)(sVar9 + sVar3)) >> 8);
          *(undefined1 *)((int)pdVar11 + 0xf) = 0;
          *(byte *)(pdVar11 + 4) = dtc_conversion_mode_flag;
          bVar7 = 0;
          do {
            uVar10 = (uint)bVar7;
            iVar2 = uVar10 * 0x1c;
            uVar1 = *(undefined4 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x805672);
            *(char *)(pdVar11 + uVar10 * 7 + 5) = (char)uVar1;
            *(char *)((int)pdVar11 + iVar2 + 0x13) = (char)((uint)uVar1 >> 8);
            *(char *)((int)pdVar11 + iVar2 + 0x12) = (char)((uint)uVar1 >> 0x10);
            *(char *)((int)pdVar11 + iVar2 + 0x11) = (char)((uint)uVar1 >> 0x18);
            uVar4 = *(undefined2 *)
                     ((int)&dtc_timestamp_array + (int)(short)(sVar9 + (ushort)bVar7 * 0x3c0));
            *(char *)((int)pdVar11 + iVar2 + 0x16) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x15) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)
                     ((int)&dtc_timestamp_array + (short)(sVar9 + (ushort)bVar7 * 0x3c0) + 2);
            *(char *)(pdVar11 + uVar10 * 7 + 6) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x17) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x80567a);
            *(char *)((int)pdVar11 + iVar2 + 0x1a) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x19) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x80567c);
            *(char *)(pdVar11 + uVar10 * 7 + 7) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x1b) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x80567e);
            *(char *)((int)pdVar11 + iVar2 + 0x1e) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x1d) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x805680);
            *(char *)(pdVar11 + uVar10 * 7 + 8) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x1f) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x805682);
            *(char *)((int)pdVar11 + iVar2 + 0x22) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x21) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x805684);
            *(char *)(pdVar11 + uVar10 * 7 + 9) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x23) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x805686);
            *(char *)((int)pdVar11 + iVar2 + 0x26) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x25) = (char)((ushort)uVar4 >> 8);
            *(undefined1 *)((int)pdVar11 + iVar2 + 0x27) = 0;
            *(undefined1 *)(pdVar11 + uVar10 * 7 + 10) = 0;
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x805688);
            *(char *)((int)pdVar11 + iVar2 + 0x2a) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x29) = (char)((ushort)uVar4 >> 8);
            uVar4 = *(undefined2 *)((short)(sVar9 + (ushort)bVar7 * 0x3c0) + 0x80568a);
            *(char *)(pdVar11 + uVar10 * 7 + 0xb) = (char)uVar4;
            *(char *)((int)pdVar11 + iVar2 + 0x2b) = (char)((ushort)uVar4 >> 8);
            bVar7 = bVar7 + 1;
          } while (bVar7 < 2);
        }
        diagnostic_dtc_response_length = diagnostic_dtc_response_length + 0x49;
        iVar8 = iVar8 + 0x30;
        pdVar11 = (dword *)((int)pdVar11 + 0x49);
        bVar5 = bVar5 + 1;
      } while (bVar5 < 0x14);
    }
    bVar5 = sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65229);
  }
  return bVar5;
}



//
// Function: diagnosticDM4PGN_65229_Builder @ 0x0002a090
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDM4PGN_65229_Builder(void)

{
  byte bVar1;
  dword *pdVar2;
  
  j1939_message_buffer_pgn65229 = CONCAT13((char)((_j1939_priority_pgn65229 & 7) << 2),0xfecd00);
  dm4_pgn65229_data_ptr = (dword)&j1939_multiframe_data_buffer;
  dm4_pgn65229_unused_ptr = (dword)&dm4_pgn65229_status_byte;
  j1939_message_buffer_pgn65229 =
       CONCAT31(j1939_message_buffer_pgn65229._0_3_,j1939_source_address_primary);
  bVar1 = 0;
  pdVar2 = &j1939_multiframe_data_buffer;
  do {
    *(undefined1 *)pdVar2 = 0x49;
    *(undefined1 *)((int)pdVar2 + 5) = 0xff;
    pdVar2 = (dword *)((int)pdVar2 + 0x49);
    bVar1 = bVar1 + 1;
  } while (bVar1 < 0x14);
  canTransmissionController();
  return;
}



//
// Function: diagnosticDM5DataBuilder @ 0x0002a100
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDM5DataBuilder(void)

{
  ushort local_6;
  
  local_6 = 0;
  dm5_pgn65230_pending_code_count = diagnostic_pending_code_count;
  dm5_active_code_count = diagnostic_active_code_count;
  dm5_obd_compliance = dm5_active_code_count_byte;
  dm5_obd_compliance_2 = dm5_pending_code_count_byte;
  dm5_status_flags_swapped = byteSwap16(&diagnostic_status_flags_word);
  if (_diagnostic_mode_state == 1) {
    local_6 = local_6 & 0xfeff;
  }
  else if ((diagnostic_status_flags_word & 0x100) == 0) {
    local_6 = local_6 | 0x100;
  }
  else if ((_diagnostic_mode_state == 0) && ((diagnostic_status_flags_word & 0x100) != 0)) {
    local_6 = local_6 | 0x100;
  }
  dm5_status_flags_2_swapped = byteSwap16(&local_6);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65230);
  return;
}



//
// Function: diagnosticDM5PGN_65230_Builder @ 0x0002a1a0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDM5PGN_65230_Builder(void)

{
  j1939_message_buffer_pgn65230 = CONCAT13((char)((_j1939_priority_pgn65230 & 7) << 2),0xfece00);
  dm5_pgn65230_msg_size = 8;
  dm5_pgn65230_data_ptr = (dword)&dm5_pgn65230_pending_code_count;
  dm5_pgn65230_unused_ptr = 0x803004;
  j1939_message_buffer_pgn65230 =
       CONCAT31(j1939_message_buffer_pgn65230._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: diagnosticByteResponseSender @ 0x0002a1f6
//

void diagnosticByteResponseSender(undefined4 param_1)

{
  dm8_pgn65232_data_byte = param_1._1_1_;
  diagnostic_byte_response_word = byteSwap16((undefined2 *)((int)&param_1 + 2));
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65232);
  return;
}



//
// Function: diagnosticDM8PGN_65232_Builder @ 0x0002a222
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDM8PGN_65232_Builder(void)

{
  j1939_message_buffer_pgn65232 = CONCAT13((char)((_j1939_priority_pgn65232 & 7) << 2),0xfed000);
  dm8_pgn65232_msg_size = 8;
  dm8_pgn65232_data_ptr = (dword)&dm8_pgn65232_data_byte;
  dm8_pgn65232_unused_ptr = 0x80301c;
  j1939_message_buffer_pgn65232 =
       CONCAT31(j1939_message_buffer_pgn65232._0_3_,j1939_source_address_primary);
  dm8_reserved_byte = 0xff;
  dm8_reserved_word_1 = 0xffff;
  dm8_reserved_word_2 = 0xffff;
  return;
}



//
// Function: diagnosticDM11PGN_65234_Builder @ 0x0002a29c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticDM11PGN_65234_Builder(void)

{
  j1939_message_buffer_pgn65234 = CONCAT13((char)((_j1939_priority_pgn65234 & 7) << 2),0xfed200);
  _dm11_pgn65234_data_ptr = 2;
  dm11_pgn65234_unused_ptr = (dword)&dm11_pgn65234_unused_buffer;
  dm11_pgn65234_data_buffer_ptr = 0x803034;
  j1939_message_buffer_pgn65234 =
       CONCAT31(j1939_message_buffer_pgn65234._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: buildPgn61444_ProprietarySpeed @ 0x0002a2f2
//

void buildPgn61444_ProprietarySpeed(void)

{
  byte local_6;
  byte bStack_5;
  
  if (fuel_arbitrator_diag_t_0080cff8.rpm_target == 0) {
    switch(vp44_engine_state) {
    case 3:
    case 7:
    case 8:
      j1939_tx_msg_buffer = 0xf1;
      break;
    case 4:
      j1939_tx_msg_buffer = 0xf3;
      break;
    default:
      j1939_tx_msg_buffer = 0xfe;
      break;
    case 9:
      j1939_tx_msg_buffer = 0xf2;
      break;
    case 10:
      j1939_tx_msg_buffer = 0xf4;
      break;
    case 0xb:
      j1939_tx_msg_buffer = 0xf0;
      break;
    case 0xc:
      j1939_tx_msg_buffer = 0xf9;
      break;
    case 0xd:
    case 0xe:
    case 0xf:
    case 0x10:
    case 0x11:
    case 0x12:
    case 0x13:
    case 0x14:
    case 0x15:
      j1939_tx_msg_buffer = 0xf8;
      break;
    case VP44_ACTIVE_MODE:
      j1939_tx_msg_buffer = 0xfa;
    }
  }
  else if (fuel_arbitrator_diag_t_0080cff8.fuel_mode == 1) {
    j1939_tx_msg_buffer = 0xf6;
  }
  else if (fuel_arbitrator_diag_t_0080cff8.fuel_mode == 3) {
    j1939_tx_msg_buffer = 0xf5;
  }
  else if (fuel_arbitrator_diag_t_0080cff8.fuel_mode == 2) {
    j1939_tx_msg_buffer = 0xf7;
  }
  else {
    j1939_tx_msg_buffer = 0xfe;
  }
  paramSystemModeController();
                    /* Constant: VP44_FUEL_OFFSET = 125 */
  j1939_vp44_fuel_high = (char)(param_table_aux >> 8) + 0x7d;
  param_lookup_1();
  j1939_vp44_fuel_low = (char)(param_table_main >> 8) + 0x7d;
  bStack_5 = (byte)current_engine_rpm;
  j1939_vp44_rpm_low = bStack_5;
  local_6 = (byte)(current_engine_rpm >> 8);
  j1939_vp44_rpm_high = local_6;
  sendCanMessage((j1939_header_t *)&vp44_cmd_msg_buffer);
  return;
}



//
// Function: vp44Command0x100Builder @ 0x0002a418
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44Command0x100Builder(void)

{
                    /* Constant: VP44_MSG_HEADER = 0xF00400 */
  _vp44_cmd_msg_buffer = CONCAT13((char)((_j1939_priority_vp44_cmd_256 & 7) << 2),0xf00400);
  _vp44_cmd_msg_buffer = CONCAT31(_vp44_cmd_msg_buffer,j1939_source_address_primary);
  _vp44_timing_byte4 = 5;
  _vp44_timing_byte6 = &j1939_tx_msg_buffer;
  vp44_cmd_0x100_data_ptr = 0x80304c;
  return;
}



//
// Function: buildProprietaryLoadStatusMessage @ 0x0002a45c
//

void buildProprietaryLoadStatusMessage(void)

{
  bool bVar1;
  
  if (((engine_fault_register_a & 0x20) == 0) || ((engine_fault_register_b & 0x20) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    if (((engine_fault_register_a & 8) == 0) || ((engine_fault_register_b & 8) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (proprietary_load_threshold < active_derate_value) {
        diagnostic_status_buffer = 0xf4;
      }
      else {
        diagnostic_status_buffer = 0xf0;
      }
      diagnostic_load_data_byte =
           (char)((int)(uint)active_derate_value >> 1) + (char)((int)(uint)active_derate_value >> 3)
      ;
      goto LAB_0002a4ea;
    }
  }
  diagnostic_status_buffer = 0xf8;
  diagnostic_load_data_byte = 0xfe;
LAB_0002a4ea:
  if (derate_threshold_exceeded == 0) {
    diagnostic_status_buffer = diagnostic_status_buffer | 1;
  }
  param_lookup_2();
  diagnostic_param_ctrl_byte = (byte)(param_table_ctrl >> 8);
  sendCanMessage((j1939_header_t *)&can_param_msg_buf_2);
  return;
}



//
// Function: cumminsProprietaryDM_983_Builder @ 0x0002a51e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void cumminsProprietaryDM_983_Builder(void)

{
  _can_param_msg_buf_2 = CONCAT13((char)((_can_priority_dm983 & 7) << 2),0xf00300);
  _can_param_msg_buf_2 = CONCAT31(_can_param_msg_buf_2,j1939_source_address_primary);
  _dm983_proprietary_msg_size = 3;
  dm983_diagnostic_status_ptr = (dword)&diagnostic_status_buffer;
  dm983_diagnostic_unused_ptr = (dword)&diagnostic_unused_buffer;
  diagnosticDataBufferSetup();
  canTransmissionController();
  return;
}



//
// Function: configParamCanBuilder @ 0x0002a57e
//

void configParamCanBuilder(void)

{
  byte local_6;
  byte bStack_5;
  
  param_lookup_3();
  can_param_msg_buf_1 = (char)(param_table_ext >> 8) + 0x7d;
  bStack_5 = (byte)param_limit_value;
  config_param_can_byte_0 = bStack_5;
  local_6 = (byte)(param_limit_value >> 8);
  config_param_can_byte_1 = local_6;
  config_param_can_byte_2 = param_config_byte;
  sendCanMessage((j1939_header_t *)&can_param_msg_buf_3);
  return;
}



//
// Function: secondaryParamPGN_65247_Builder @ 0x0002a5da
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void secondaryParamPGN_65247_Builder(void)

{
  _can_param_msg_buf_3 = CONCAT13((char)((_j1939_priority_pgn65247 & 7) << 2),0xfedf00);
  _can_param_msg_buf_3 = CONCAT31(_can_param_msg_buf_3,j1939_source_address_primary);
  _secondary_param_pgn65247_size = 4;
  secondary_param_pgn65247_data_ptr = (dword)&can_param_msg_buf_1;
  secondary_param_pgn65247_unused_ptr = 0x80307c;
  return;
}



//
// Function: fuelParameterCanMessageBuilder @ 0x0002a61e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

byte fuelParameterCanMessageBuilder(void)

{
  byte bVar1;
  ushort uVar2;
  word *pwVar3;
  undefined2 local_6;
  
  bVar1 = extended_diag_pgn65251_status & 0xf0;
  if (bVar1 == 0) {
    fuelModeSelectionCalculator();
    local_6._1_1_ = (byte)governor_rpm_error_value;
    extended_diag_pgn65251_data_start = (byte)local_6;
    local_6._0_1_ = (byte)(governor_rpm_error_value >> 8);
    fuel_param_gov_rpm_error_high = local_6._0_1_;
    fuel_param_calc_param_offset = (char)(param_table_calc >> 8) + 0x7d;
    local_6._1_1_ = (byte)fuel_offset_blend_value;
    fuel_param_offset_blend_low = (byte)local_6;
    local_6._0_1_ = (byte)(fuel_offset_blend_value >> 8);
    fuel_param_offset_blend_high = local_6._0_1_;
    fuel_param_calculated_2_offset = (char)(calculated_2 >> 8) + 0x7d;
    local_6._1_1_ = (byte)fuel_table_blend_param_1;
    fuel_param_table_blend_1_low = (byte)local_6;
    local_6._0_1_ = (byte)(fuel_table_blend_param_1 >> 8);
    fuel_param_table_blend_1_high = local_6._0_1_;
    fuel_param_calculated_3_offset = (char)(calculated_3 >> 8) + 0x7d;
    local_6._1_1_ = (byte)fuel_table_blend_param_2;
    fuel_param_table_blend_2_low = (byte)local_6;
    local_6._0_1_ = (byte)(fuel_table_blend_param_2 >> 8);
    fuel_param_table_blend_2_high = local_6._0_1_;
    fuel_param_calculated_4_offset = (char)(calculated_4 >> 8) + 0x7d;
    local_6._1_1_ = (byte)fuel_mode_selection_offset;
    fuel_param_mode_offset_low = (byte)local_6;
    local_6._0_1_ = (byte)(fuel_mode_selection_offset >> 8);
    fuel_param_mode_offset_high = local_6._0_1_;
    fuel_param_result_buffer_offset = (char)(result_buffer >> 8) + 0x7d;
    if (fuel_limit_comparison_high == 0) {
      local_6 = arbitrated_fuel_limit;
    }
    else {
      local_6 = (short)(((uint)fuel_limit_comparison_high *
                        ((uint)fuel_limit_comparison_low - (uint)param_ref_base)) / 0x1111) -
                (fuel_limit_offset_value - arbitrated_fuel_limit);
      if (0xfaff < local_6) {
        local_6 = 0xfaff;
      }
    }
    fuel_param_limit_calc_low = (byte)local_6;
    fuel_param_limit_calc_high = local_6._0_1_;
    local_6._1_1_ = (byte)fuel_arbitrator_output_value;
    fuel_param_arbitrator_low = (byte)local_6;
    local_6._0_1_ = (byte)(fuel_arbitrator_output_value >> 8);
    fuel_param_arbitrator_high = local_6._0_1_;
    local_6._1_1_ = (byte)_diagnostic_mode_parameter;
    fuel_param_diag_mode_low = (byte)local_6;
    local_6._0_1_ = (byte)((ushort)_diagnostic_mode_parameter >> 8);
    fuel_param_diag_mode_high = local_6._0_1_;
    fuel_param_arb_status_scaled = (byte)(fuel_arbitrator_status_init / 10);
    fuel_param_timing_offset_scaled = (byte)(fuel_timing_offset_min_limit / 0x50);
    if (allowed_rate_of_torque_limit_change_0_2000 < 0x4e21) {
      extended_diag_torque_limit_byte = (byte)(allowed_rate_of_torque_limit_change_0_2000 / 0x50);
    }
    else {
      extended_diag_torque_limit_byte = 0x20;
    }
    uVar2 = param_table_calc;
    for (pwVar3 = &calculated_2; pwVar3 < (ushort *)((int)&result_buffer + 1); pwVar3 = pwVar3 + 1)
    {
      if (uVar2 < *pwVar3) {
        uVar2 = *pwVar3;
      }
    }
    fuel_param_max_calc_offset = (char)(uVar2 >> 8) + 0x7d;
    bVar1 = sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65251);
  }
  return bVar1;
}



//
// Function: extendedDiagPGN_65251_Builder @ 0x0002a7f8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void extendedDiagPGN_65251_Builder(void)

{
  j1939_message_buffer_pgn65251 = CONCAT13((char)((_j1939_priority_pgn65251 & 7) << 2),0xfee300);
  j1939_message_buffer_pgn65251 =
       CONCAT31(j1939_message_buffer_pgn65251._0_3_,j1939_source_address_primary);
  _extended_diag_pgn65251_size = 0x1c;
  extended_diag_pgn65251_data_ptr = (dword)&extended_diag_pgn65251_data_start;
  extended_diag_pgn65251_unused_ptr = (dword)&extended_diag_pgn65251_status;
  fuel_param_reserved_ff_0 = 0xff;
  fuel_param_reserved_ff_1 = 0xff;
  fuel_param_reserved_7d = 0x7d;
  fuelBlendTablePointerSetup();
  return;
}



//
// Function: engineFluidLevelDataBuilder @ 0x0002a856
//

void engineFluidLevelDataBuilder(void)

{
  coolant_level =
       (byte)((int)((uint)(((int)(uint)rpm_histogram_temp_value >> 7) * 0x1afa) / 1000) >> 1);
  engine_oil_level =
       (byte)((int)((uint)(((int)(uint)insite_parameter_display_value >> 7) * 0x1afa) / 1000) >> 2);
  sendCanMessage((j1939_header_t *)&engine_fluid_level_msg_header);
  return;
}



//
// Function: engineFluidLevelPGN_65263_Builder @ 0x0002a8da
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineFluidLevelPGN_65263_Builder(void)

{
  engine_fluid_level_msg_header = CONCAT13((char)((_j1939_priority_pgn65263 & 7) << 2),0xfeef00);
  engine_fluid_level_msg_length = 8;
  engine_fluid_level_data_ptr = (dword)&fuel_delivery_pressure;
  engine_fluid_level_unused_ptr = (dword)&engine_fluid_level_buffer_end;
  engine_fluid_level_msg_header =
       CONCAT31(engine_fluid_level_msg_header._0_3_,j1939_source_address_primary);
  fuel_delivery_pressure = 0xff;
  coolant_pressure = 0xffff;
  extended_crankcase_pressure = 0xff;
  engine_oil_pressure = 0xff;
  return;
}



//
// Function: engineFluidLevelDataBuilder @ 0x0002a93a
//

void engineFluidLevelDataBuilder(void)

{
  int iVar1;
  short sVar2;
  undefined2 local_6;
  
  iVar1 = ((short)((short)throttle_position_raw + -0x1900 >> 7) * 5 + -0xa0) / 9;
  sVar2 = (short)iVar1;
  if (sVar2 < -0x28) {
    engine_temp_processed1 = 0;
  }
  else if (sVar2 < 0xd2) {
    local_6._1_1_ = (char)iVar1;
    engine_temp_processed1 = (char)local_6 + 0x28;
  }
  else {
    engine_temp_processed1 = 0xfa;
  }
  iVar1 = ((short)((short)engine_fluid_level_temp_data + -0x1900 >> 7) * 5 + -0xa0) / 9;
  sVar2 = (short)iVar1;
  if (sVar2 < -0x28) {
    engine_temp_processed2 = 0;
  }
  else if (sVar2 < 0xd2) {
    local_6._1_1_ = (char)iVar1;
    engine_temp_processed2 = (char)local_6 + 0x28;
  }
  else {
    engine_temp_processed2 = 0xfa;
  }
  local_6 = (short)(((short)((short)rpm_histogram_temp_value + -0x1900 >> 7) * 5 + -0xa0) / 9);
  if (local_6 < -0x111) {
    engine_fluid_calc_result = 0;
  }
  else if (local_6 < 0x6c7) {
    local_6 = (local_6 + 0x111) * 0x20;
    engine_fluid_calc_result = byteSwap16(&local_6);
  }
  else {
    local_6 = -0x500;
    engine_fluid_calc_result = byteSwap16(&local_6);
  }
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65262);
  return;
}



//
// Function: engineTemperaturePGN_65262_Builder @ 0x0002aa74
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineTemperaturePGN_65262_Builder(void)

{
  j1939_message_buffer_pgn65262 = CONCAT13((char)((_j1939_priority_pgn65262 & 7) << 2),0xfeee00);
  _engine_temp_pgn65262_size = 8;
  engine_temp_pgn65262_data_ptr = (dword)&engine_temp_processed1;
  engine_temp_pgn65262_unused_ptr = 0x8030d8;
  j1939_message_buffer_pgn65262 =
       CONCAT31(j1939_message_buffer_pgn65262._0_3_,j1939_source_address_primary);
  engine_temp_reserved_ffff = 0xffff;
  engine_temp_reserved_ff_0 = 0xff;
  engine_temp_reserved_ff_1 = 0xff;
  canTransmissionController();
  return;
}



//
// Function: torqueControlDataBuilder @ 0x0002aade
//

void torqueControlDataBuilder(void)

{
  if ((diagnostic_system_flags_2 & 0x1000) == 0) {
    torque_control_status_byte = 0;
  }
  else {
    torque_control_status_byte = 0x40;
  }
  if (retarder_input_flags != 0) {
    torque_control_status_byte = torque_control_status_byte | 0x10;
  }
  switch(fuel_demand_limit_source) {
  case OVERRIDE_STATE_ACTIVE:
  case RETARDER_MODE_TABLE:
    if (fuel_mode_state_selector == 1) {
      torque_control_status_byte = torque_control_status_byte | 6;
    }
    else if (fuel_mode_state_selector == 3) {
      torque_control_status_byte = torque_control_status_byte | 5;
    }
    else if (fuel_mode_state_selector == 2) {
      torque_control_status_byte = torque_control_status_byte | 7;
    }
    else {
      torque_control_status_byte = torque_control_status_byte | 0xe;
    }
    break;
  case VP44_DIAGNOSTIC_FAULT:
    torque_control_status_byte = torque_control_status_byte | 2;
    break;
  case RETARDER_INPUT_LIMIT:
    torque_control_status_byte = torque_control_status_byte | 1;
  }
  if (retarder_mode_threshold_value_37d4 == 0) {
    torque_control_data_byte2 = 0xff;
  }
  else {
    ioControlBasedFuelCalculator();
    torque_control_data_byte2 = 0x7d - (char)(retarder_scaled_percentage_output >> 8);
  }
  sendCanMessage((j1939_header_t *)&cummins_tsc_msg_header);
  return;
}



//
// Function: cumminsProprietaryTSC_PGN_15728640_Builder @ 0x0002aba4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void cumminsProprietaryTSC_PGN_15728640_Builder(void)

{
  cummins_tsc_msg_header = CONCAT13((char)((_j1939_priority_pgn15728640 & 7) << 2),0xf00000);
  cummins_tsc_msg_header = CONCAT31(cummins_tsc_msg_header._0_3_,j1939_source_address_secondary);
  throttleTablePointerSetup();
  cummins_tsc_msg_length = 2;
  cummins_tsc_data_ptr = (dword)&torque_control_status_byte;
  cummins_tsc_unused_ptr = (dword)&torque_control_buffer_end;
  return;
}



//
// Function: intakeExhaustConditionsDataBuilder @ 0x0002abf2
//

void intakeExhaustConditionsDataBuilder(void)

{
  uint local_8;
  
  local_8 = proportionalCalculation(clutch_operating_stats_output,0x39c2c3,1000000);
  local_8 = proportionalCalculation(local_8,2,8);
  intake_exhaust_clutch_stat_dword = byteSwap32(&local_8);
  local_8 = insite_fuel_statistics_output >> 2;
  local_8 = proportionalCalculation(local_8,0x39c2c3,1000000);
  intake_exhaust_fuel_stat_dword = byteSwap32(&local_8);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65257);
  return;
}



//
// Function: intakeExhaustConditionsPGN_65257_Builder @ 0x0002ac7a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void intakeExhaustConditionsPGN_65257_Builder(void)

{
  j1939_message_buffer_pgn65257 = CONCAT13((char)((_j1939_priority_pgn65257 & 7) << 2),0xfee900);
  _intake_exhaust_pgn65257_size = 8;
  intake_exhaust_pgn65257_data_ptr = (dword)&intake_exhaust_clutch_stat_dword;
  intake_exhaust_pgn65257_unused_ptr = 0x803108;
  j1939_message_buffer_pgn65257 =
       CONCAT31(j1939_message_buffer_pgn65257._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: fuelEconomyDataBuilder @ 0x0002acd0
//

void fuelEconomyDataBuilder(void)

{
  uint uVar1;
  short sVar2;
  byte local_6;
  byte bStack_5;
  
  uVar1 = proportionalCalculation((uint)fuel_economy_statistics_value,0xe10,8000);
  uVar1 = uVar1 / 10;
  if (0xc8c < uVar1) {
    uVar1 = 0xc8c;
  }
  sVar2 = (short)uVar1 * 0x14;
  bStack_5 = (byte)sVar2;
  fuel_economy_data_byte1 = bStack_5;
  local_6 = (byte)((ushort)sVar2 >> 8);
  fuel_economy_data_byte2 = local_6;
  uVar1 = ((uint)fuel_economy_statistics_output * 0x2136) / 10000;
  bStack_5 = (byte)uVar1;
  fuel_economy_data_byte3 = bStack_5;
  local_6 = (byte)(uVar1 >> 8);
  fuel_economy_data_byte4 = local_6;
  uVar1 = ((uint)clutch_transitions_per_distance * 0x2136) / 10000;
  bStack_5 = (byte)uVar1;
  fuel_economy_data_byte5 = bStack_5;
  local_6 = (byte)(uVar1 >> 8);
  fuel_economy_data_byte6 = local_6;
  sendCanMessage((j1939_header_t *)&fuel_economy_msg_header);
  return;
}



//
// Function: fuelEconomyPGN_65266_Builder @ 0x0002ada8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelEconomyPGN_65266_Builder(void)

{
  fuel_economy_msg_header = CONCAT13((char)((_j1939_priority_pgn65266 & 7) << 2),0xfef200);
  fuel_economy_msg_header = CONCAT31(fuel_economy_msg_header._0_3_,j1939_source_address_primary);
  fuel_economy_msg_length = 6;
  fuel_economy_data_ptr = (dword)&fuel_economy_data_byte1;
  fuel_economy_unused_ptr = (dword)&fuel_economy_buffer_end;
  return;
}



//
// Function: ioControlDataBuilder @ 0x0002adec
//

void ioControlDataBuilder(void)

{
  uint local_8;
  
  local_8 = insite_command_base_value >> 2;
  local_8 = proportionalCalculation(local_8,0x39c2c3,1000000);
  io_control_pgn_data_dword = byteSwap32(&local_8);
  local_8 = proportionalCalculation(insite_runtime_hours_accumulator,0x14,0x40);
  io_control_runtime_hours_dword = byteSwap32(&local_8);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65244);
  return;
}



//
// Function: ioControlPGN_65244_Builder @ 0x0002ae60
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ioControlPGN_65244_Builder(void)

{
  j1939_message_buffer_pgn65244 = CONCAT13((char)((_j1939_priority_pgn65244 & 7) << 2),0xfedc00);
  _io_control_pgn65244_size = 8;
  io_control_pgn65244_data_ptr = (dword)&io_control_pgn_data_dword;
  io_control_pgn65244_unused_ptr = 0x80313e;
  j1939_message_buffer_pgn65244 =
       CONCAT31(j1939_message_buffer_pgn65244._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: engineHoursPGN_65252_Builder @ 0x0002aee2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineHoursPGN_65252_Builder(void)

{
  j1939_message_buffer_pgn65252 = CONCAT13((char)((_j1939_priority_pgn65252 & 7) << 2),0xfee400);
  _engine_hours_pgn65252_size = 8;
  engine_hours_pgn65252_data_ptr = (dword)&engine_hours_data_byte_0;
  engine_hours_pgn65252_unused_ptr = 0x803156;
  j1939_message_buffer_pgn65252 =
       CONCAT31(j1939_message_buffer_pgn65252._0_3_,j1939_source_address_primary);
  engine_hours_reserved_ff_0 = 0xff;
  engine_hours_reserved_ff_1 = 0xff;
  engine_hours_reserved_ff_2 = 0xff;
  engine_hours_reserved_ff_3 = 0xff;
  engine_hours_reserved_ff_4 = 0xff;
  engine_hours_reserved_ff_5 = 0xff;
  engine_hours_reserved_3f = 0x3f;
  return;
}



//
// Function: intakeManifoldDataBuilder @ 0x0002af52
//

void intakeManifoldDataBuilder(void)

{
  intake_manifold_data_byte_1 =
       (byte)((short)((((short)diagnostic_sensor_reading >> 7) * 0x1afa) / 1000) >> 1);
  intake_manifold_data_byte_2 =
       (char)((((short)intake_manifold_temp_raw >> 7) * 5 + -0xa0) / 9) + 0x28;
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65270);
  return;
}



//
// Function: intakeManifoldPGN_65526_Builder @ 0x0002afca
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void intakeManifoldPGN_65526_Builder(void)

{
  j1939_message_buffer_pgn65270 = CONCAT13((char)((_j1939_priority_pgn65526 & 7) << 2),0xfef600);
  _intake_manifold_pgn65526_size = 8;
  intake_manifold_pgn65526_data_ptr = (dword)&intake_manifold_pgn65526_data;
  intake_manifold_pgn65526_unused_ptr = 0x80316e;
  j1939_message_buffer_pgn65270 =
       CONCAT31(j1939_message_buffer_pgn65270._0_3_,j1939_source_address_primary);
  intake_manifold_pgn65526_data = 0xff;
  intake_manifold_reserved_ff_0 = 0xff;
  intake_manifold_reserved_ff_1 = 0xff;
  intake_manifold_reserved_ff_2 = 0xff;
  intake_manifold_reserved_ff_3 = 0xff;
  intake_manifold_reserved_ff_4 = 0xff;
  return;
}



//
// Function: cruiseControlPGN_65264_Builder @ 0x0002b060
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void cruiseControlPGN_65264_Builder(void)

{
  j1939_message_buffer_pgn65264 = CONCAT13((char)((_j1939_priority_pgn65264 & 7) << 2),0xfef000);
  _cruise_control_pgn65264_size = 8;
  cruise_control_pgn65264_data_ptr = (dword)&cruise_control_pgn65264_data;
  cruise_control_pgn65264_unused_ptr = 0x803186;
  j1939_message_buffer_pgn65264 =
       CONCAT31(j1939_message_buffer_pgn65264._0_3_,j1939_source_address_primary);
  cruise_control_pgn65264_data = 0xff;
  cruise_control_reserved_ff_0 = 0xff;
  cruise_control_reserved_ff_1 = 0xff;
  cruise_control_reserved_ff_2 = 0xff;
  cruise_control_reserved_ff_3 = 0xff;
  cruise_control_reserved_ff_4 = 0xff;
  return;
}



//
// Function: retarderConfigDataBuilder @ 0x0002b0cc
//

byte retarderConfigDataBuilder(void)

{
  byte bVar1;
  byte local_6;
  byte bStack_5;
  
  bVar1 = retarder_config_buffer_end & 0xf0;
  if (bVar1 == 0) {
    if (retarder_mode_threshold_value_37d4 == 3) {
      retarder_steps_at_idle = 0x14;
    }
    else {
      retarder_steps_at_idle = 3;
    }
    if (retarder_mode_threshold_value_37d4 == 0) {
      retarder_percent_torque_idle = 0xff;
    }
    else if (retarder_mode_threshold_value_37d4 == 1) {
      retarder_percent_torque_idle = 3;
    }
    else {
      retarder_percent_torque_idle = 2;
    }
    bStack_5 = (byte)vp44_sensor_value_3;
    retarder_speed_point2_low = bStack_5;
    local_6 = (byte)(vp44_sensor_value_3 >> 8);
    retarder_speed_point2_high = local_6;
    retarder_percent_torque_point2 = 0x7d - (char)(retarder_torque_point_2_value >> 8);
    bStack_5 = (byte)vp44_sensor_value_2;
    retarder_speed_point3_low = bStack_5;
    local_6 = (byte)(vp44_sensor_value_2 >> 8);
    retarder_speed_point3_high = local_6;
    retarder_percent_torque_point3 = 0x7d - (char)(retarder_torque_point_3_value >> 8);
    bStack_5 = (byte)vp44_sensor_value_5;
    retarder_speed_point4_low = bStack_5;
    local_6 = (byte)(vp44_sensor_value_5 >> 8);
    retarder_speed_point4_high = local_6;
    retarder_percent_torque_point4 = 0x7d - (char)(retarder_torque_point_4_value >> 8);
    bStack_5 = (byte)vp44_sensor_value_1;
    retarder_speed_point5_low = bStack_5;
    local_6 = (byte)(vp44_sensor_value_1 >> 8);
    retarder_speed_point5_high = local_6;
    retarder_percent_torque_point5 = 0x7d - (char)(retarder_torque_point_5_value >> 8);
    bStack_5 = (byte)vp44_sensor_value_4;
    retarder_reference_torque_low = bStack_5;
    local_6 = (byte)(vp44_sensor_value_4 >> 8);
    retarder_reference_torque_high = local_6;
    bStack_5 = (byte)vp44_fuel_temperature_raw;
    retarder_config_byte17 = bStack_5;
    local_6 = (byte)(vp44_fuel_temperature_raw >> 8);
    retarder_config_byte18 = local_6;
    bVar1 = sendCanMessage((j1939_header_t *)&retarder_config_msg_header);
  }
  return bVar1;
}



//
// Function: retarderConfigPGN_65249_Builder @ 0x0002b1f6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void retarderConfigPGN_65249_Builder(void)

{
  retarder_config_msg_header = CONCAT13((char)((_j1939_priority_pgn65249 & 7) << 2),0xfee100);
  retarder_config_msg_header =
       CONCAT31(retarder_config_msg_header._0_3_,j1939_source_address_secondary);
  retarder_config_msg_length = 0x12;
  retarder_config_data_ptr = (dword)&retarder_steps_at_idle;
  retarder_config_unused_ptr = (dword)&retarder_config_buffer_end;
  return;
}



//
// Function: vehicleDistanceDataBuilder @ 0x0002b23a
//

void vehicleDistanceDataBuilder(void)

{
  undefined4 local_8;
  
  local_8 = proportionalCalculation(vehicle_distance_clutch_value,0x3268,10000);
  vehicle_distance_pgn_data_dword = byteSwap32(&local_8);
  local_8 = proportionalCalculation(vehicle_distance_statistics_value,0x3268,10000);
  vehicle_distance_data_dword = byteSwap32(&local_8);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65248);
  return;
}



//
// Function: vehicleDistancePGN_65248_Builder @ 0x0002b29e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vehicleDistancePGN_65248_Builder(void)

{
  j1939_message_buffer_pgn65248 = CONCAT13((char)((_j1939_priority_pgn65248 & 7) << 2),0xfee000);
  _vehicle_distance_pgn65248_size = 8;
  vehicle_distance_pgn65248_data_ptr = (dword)&vehicle_distance_pgn_data_dword;
  vehicle_distance_pgn65248_unused_ptr = 0x8031c0;
  j1939_message_buffer_pgn65248 =
       CONCAT31(j1939_message_buffer_pgn65248._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: retarderDataBuilder @ 0x0002b2f4
//

void retarderDataBuilder(void)

{
  undefined2 local_6;
  
  local_6 = (undefined2)((uint)retarder_input_value * 0x14 >> 3);
  electronic_brake_data_word = byteSwap16(&local_6);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65271);
  return;
}



//
// Function: electronicBrakePGN_65527_Builder @ 0x0002b338
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void electronicBrakePGN_65527_Builder(void)

{
  j1939_message_buffer_pgn65271 = CONCAT13((char)((_j1939_priority_pgn65527 & 7) << 2),0xfef700);
  _electronic_brake_pgn65527_size = 8;
  electronic_brake_pgn65527_data_ptr = (dword)&electronic_brake_pgn65527_data;
  electronic_brake_pgn65527_unused_ptr = 0x8031d8;
  j1939_message_buffer_pgn65271 =
       CONCAT31(j1939_message_buffer_pgn65271._0_3_,j1939_source_address_primary);
  electronic_brake_pgn65527_data = 0xff;
  electronic_brake_reserved_ff = 0xff;
  electronic_brake_reserved_ffff_0 = 0xffff;
  electronic_brake_reserved_ffff_1 = 0xffff;
  return;
}



//
// Function: vehicleHoursDataBuilder @ 0x0002b398
//

void vehicleHoursDataBuilder(void)

{
  undefined4 local_8;
  
  local_8 = proportionalCalculation(vehicle_hours_statistics_value,0x14,0x40);
  vehicle_hours_pgn_data_dword = byteSwap32(&local_8);
  local_8 = proportionalCalculation(insite_idle_hours_accumulator,0x14,0x40);
  vehicle_hours_idle_hours_dword = byteSwap32(&local_8);
  sendCanMessage((j1939_header_t *)&j1939_message_buffer_pgn65255);
  return;
}



//
// Function: vehicleHoursPGN_65255_Builder @ 0x0002b3fc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vehicleHoursPGN_65255_Builder(void)

{
  j1939_message_buffer_pgn65255 = CONCAT13((char)((_j1939_priority_pgn65255 & 7) << 2),0xfee700);
  _vehicle_hours_pgn65255_size = 8;
  vehicle_hours_pgn65255_data_ptr = (dword)&vehicle_hours_pgn_data_dword;
  vehicle_hours_pgn65255_unused_ptr = 0x8031f0;
  j1939_message_buffer_pgn65255 =
       CONCAT31(j1939_message_buffer_pgn65255._0_3_,j1939_source_address_primary);
  canTransmissionController();
  return;
}



//
// Function: incrementCounters @ 0x0002b452
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void incrementCounters(void)

{
  _loopCounter = _loopCounter + 1;
  if (engine_operating_mode != ENGINE_IDLE) {
    _engineRunCounter = _engineRunCounter + 1;
  }
  return;
}



//
// Function: initLoopCounter @ 0x0002b46a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initLoopCounter(void)

{
  _loopCounter = _loop_counter_reference;
  return;
}



//
// Function: setDiagnosticSourceFromFuelArbitrator @ 0x0002b476
//

void setDiagnosticSourceFromFuelArbitrator(void)

{
  if ((diagnostic_status_register == NORMAL_OPERATION) &&
     (fuel_arbitrator_diag_t_0080cff8.rpm_target == 2)) {
    diagnostic_status_register = FUEL_ARBITRATOR_SOURCE;
    cached_parameter_value = fuel_arbitrator_diag_t_0080cff8._24_2_;
  }
  return;
}



//
// Function: setDiagnosticSourceFromEngineFlags @ 0x0002b49a
//

void setDiagnosticSourceFromEngineFlags(void)

{
  if ((diagnostic_status_register == NORMAL_OPERATION) && ((diagnostic_status_flags & 1) != 0)) {
    diagnostic_status_register = ENGINE_FLAGS_SOURCE;
    cached_parameter_value = diagnostic_source_5_param_value;
  }
  return;
}



//
// Function: engine_protection_coordinator @ 0x0002b4c2
//

void engine_protection_coordinator(void)

{
  DIAGNOSTIC_STATUS DVar1;
  undefined4 unaff_D2;
  DIAGNOSTIC_STATUS DVar2;
  undefined2 uVar3;
  
  DVar1 = diagnostic_status_register;
  uVar3 = (undefined2)((uint)unaff_D2 >> 0x10);
  diagnostic_status_register = NORMAL_OPERATION;
  diagnosticStatus30Setter();
  setDiagnosticSourceFromFuelArbitrator();
  DVar2 = DVar1;
  diagnosticStatus2Initializer(CONCAT22(DVar1,uVar3));
  setDiagnosticSourceFromEngineFlags();
  epsDiagnosticModeChecker(CONCAT22(DVar1,DVar2));
  diagnosticStatus7Initializer(CONCAT22(DVar1,DVar2));
  diagnosticStatusDefaultSetter();
  return;
}



//
// Function: initMultiSystemParameters @ 0x0002b4fe
//

void initMultiSystemParameters(void)

{
  diagnosticTablePointerSetup();
  epsDiagnosticVariablesInit();
  fuelDemandScaleFactorCalculator();
  return;
}



//
// Function: addressRangeValidator @ 0x0002b544
//

undefined4 addressRangeValidator(uint param_1,uint param_2)

{
  undefined3 uVar1;
  uint uVar2;
  byte bVar3;
  uint uVar4;
  word *pwVar5;
  
  uVar2 = param_2 >> 0x10;
  uVar4 = (param_1 + uVar2) - 1;
  if (uVar4 < param_1) {
    return 9;
  }
  pwVar5 = &address_range_validation_table;
  bVar3 = 0;
  while ((param_1 < *(uint *)pwVar5 || (*(uint *)((int)pwVar5 + 4) < uVar4))) {
    uVar2 = 0;
    pwVar5 = (word *)((int)pwVar5 + 10);
    bVar3 = bVar3 + 1;
    if (4 < bVar3) {
      return 9;
    }
  }
  uVar1 = (undefined3)(uVar2 >> 8);
  if (water_in_fuel_detection_flag == 1) {
    return CONCAT31(uVar1,*(undefined1 *)((int)pwVar5 + 8));
  }
  return CONCAT31(uVar1,*(undefined1 *)((int)pwVar5 + 9));
}



//
// Function: pwmTimerMode0Init @ 0x0002b5aa
//

void pwmTimerMode0Init(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  word *pwVar4;
  
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    state_machine_return_address = (dword)&LAB_00015946;
    can1_cantxerr = can1_cantxerr & 0xfff0 | 0xc;
    QSM_QSMCR = can1_timer_callback_state / 6;
    QSM_QTEST = 0xe;
    QSM_QMCR = 0xb;
    can1_canidar1 = can1_canidar1 & 0xfffc | 1;
    can1_canidar3 = can1_canidar3 & 0xfffc | 1;
    can1_canidmr1 = can1_canidmr1 & 0xfffc | 2;
    can1_cantbsel = can1_cantbsel & 0xfffe | 1;
    can1_canidmr2 = can1_canidmr2 & 0xfffe;
    return;
  }
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 != '\x01') {
    return;
  }
  pwm_timer_cycle_advance_state = pwm_timing_cycle_count - CYCLE_PHASE_1;
  iVar1 = 0;
  iVar2 = 0;
  uVar3 = (uint)intake_manifold_temperature_at_maximum_fueling_condition_50_293._0_1_;
  pwVar4 = &pwm_timing_advance_lookup_table;
  do {
    *(int *)pwVar4 = iVar2 / 6;
    iVar2 = uVar3 * 0x10000 + iVar2;
    iVar1 = iVar1 + 1;
    pwVar4 = pwVar4 + 2;
  } while (iVar1 < 6);
  pwm_temperature_shifted_workspace =
       (uint)intake_manifold_temperature_at_maximum_fueling_condition_50_293._0_1_ << 0x10;
  pwmTimerMode1Update();
  return;
}



//
// Function: pwmTimerMode0Reset @ 0x0002b6c2
//

void pwmTimerMode0Reset(void)

{
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    can1_canidmr2 = can1_canidmr2 & 0xfffe;
    can1_cantxerr = can1_cantxerr & 0xfff0 | 0xc;
    QSM_QSMCR = 1;
    QSM_QTEST = 0xe;
    QSM_QMCR = 0xb;
    can1_canidar1 = can1_canidar1 & 0xfffc | 1;
    can1_canidar3 = can1_canidar3 & 0xfffc | 1;
    can1_cantbsel = can1_cantbsel & 0xfffe | 1;
    can1_canidmr1 = can1_canidmr1 & 0xfffc | 2;
  }
  return;
}



//
// Function: pwmTimerMode1ChannelSetup @ 0x0002b744
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void pwmTimerMode1ChannelSetup(void)

{
  int iVar1;
  ushort uVar2;
  ushort uVar3;
  uint uVar4;
  
  pwm_timer_cycle_advance_state = pwm_timing_cycle_count - CYCLE_PHASE_1;
  iVar1 = pwm_temperature_shifted_workspace +
          _user_specified_number_of_engine_data_samples_taken_by_trending_f_0_100 +
          _enable_flag_that_indicates_presence_of_an_ambient_air_press_true_false +
          *(int *)(&pwm_timing_advance_lookup_table +
                  (short)(ushort)(byte)(pwm_timing_cycle_count - CYCLE_PHASE_1) * 2) + 0x100;
  uVar4 = (iVar1 >> 0x10 & 0xffffU) % (maximum_allowed_timing_advance_for_this_algorithm_0_20 + 2);
  uVar3 = (ushort)uVar4;
  uVar2 = (ushort)(iVar1 >> 1) & 0x7f00;
  if (uVar4 == maximum_allowed_timing_advance_for_this_algorithm_0_20 + 1) {
    QSM_SCCR1 = uVar3 - 1 | uVar2 | 0x8000;
  }
  else {
    QSM_SCCR1 = uVar3 | uVar2;
  }
  uVar4 = (_time_that_trigger_must_be_satisfied_to_allow_trending_data_co_0_3600 + iVar1 >> 0x10 &
          0xffffU) % (maximum_allowed_timing_advance_for_this_algorithm_0_20 + 2);
  uVar3 = (ushort)uVar4;
  uVar2 = (ushort)(_time_that_trigger_must_be_satisfied_to_allow_trending_data_co_0_3600 + iVar1 >>
                  1) & 0x7f00;
  if (maximum_allowed_timing_advance_for_this_algorithm_0_20 + 1 == uVar4) {
    QSM_SCCR2 = uVar3 - 1 | uVar2 | 0x8000;
  }
  else {
    QSM_SCCR2 = uVar3 | uVar2;
  }
  can1_canidmr2 = can1_canidmr2 & 0xfff7;
  can1_cantxerr = can1_cantxerr & 0xfff | 0x8000;
  QSM_SPSR = 0x880;
  can1_canidar1 = can1_canidar1 & 0xff3f;
  can1_canidar3 = can1_canidar3 & 0xff3f | 0x80;
  can1_canidmr1 = can1_canidmr1 & 0xff3f | 0x40;
  can1_cantbsel = can1_cantbsel & 0xfff7 | 8;
  return;
}



//
// Function: pwmTimerMode1Update @ 0x0002b880
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void pwmTimerMode1Update(void)

{
  int iVar1;
  ushort uVar2;
  ushort uVar3;
  uint uVar4;
  
  iVar1 = pwm_temperature_shifted_workspace +
          _user_specified_number_of_engine_data_samples_taken_by_trending_f_0_100 +
          _enable_flag_that_indicates_presence_of_an_ambient_air_press_true_false +
          *(int *)(&pwm_timing_advance_lookup_table +
                  (short)(ushort)pwm_timer_cycle_advance_state * 2) + 0x100;
  uVar4 = (iVar1 >> 0x10 & 0xffffU) % (maximum_allowed_timing_advance_for_this_algorithm_0_20 + 2);
  uVar3 = (ushort)uVar4;
  uVar2 = (ushort)(iVar1 >> 1) & 0x7f00;
  if (uVar4 == maximum_allowed_timing_advance_for_this_algorithm_0_20 + 1) {
    QSM_SCCR1 = uVar3 - 1 | uVar2 | 0x8000;
  }
  else {
    QSM_SCCR1 = uVar3 | uVar2;
  }
  uVar4 = (_time_that_trigger_must_be_satisfied_to_allow_trending_data_co_0_3600 + iVar1 >> 0x10 &
          0xffffU) % (maximum_allowed_timing_advance_for_this_algorithm_0_20 + 2);
  uVar3 = (ushort)uVar4;
  uVar2 = (ushort)(_time_that_trigger_must_be_satisfied_to_allow_trending_data_co_0_3600 + iVar1 >>
                  1) & 0x7f00;
  if (maximum_allowed_timing_advance_for_this_algorithm_0_20 + 1 == uVar4) {
    QSM_SCCR2 = uVar3 - 1 | uVar2 | 0x8000;
  }
  else {
    QSM_SCCR2 = uVar3 | uVar2;
  }
  can1_canidmr2 = can1_canidmr2 & 0xfff7;
  can1_cantxerr = can1_cantxerr & 0xfff | 0x8000;
  QSM_SPSR = 0x880;
  can1_canidar1 = can1_canidar1 & 0xff3f;
  can1_canidar3 = can1_canidar3 & 0xff3f | 0x80;
  can1_canidmr1 = can1_canidmr1 & 0xff3f | 0x40;
  pwm_timer_mode_1_update_address = (dword)pwmTimerCycleAdvance;
  can1_cantbsel = can1_cantbsel & 0xfff7 | 8;
  return;
}



//
// Function: pwmTimerModeDispatcher @ 0x0002b9b8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void pwmTimerModeDispatcher(void)

{
  if ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\0') {
    QSM_QSMCR = can1_timer_callback_state / 6;
    can1_cantbsel = can1_cantbsel & 0xfff7;
    can1_canidmr2 = can1_canidmr2 & 0xfff7;
    can1_cantxerr = can1_cantxerr & 0xfff | 0xa000;
    _QSM_SPCR0 = 0;
    _QSM_SCCR1 = 0x19b;
    QSM_SPSR = 0x8e;
    can1_canidar1 = can1_canidar1 & 0xff3f;
    can1_canidar3 = can1_canidar3 & 0xff3f | 0x80;
    can1_canidmr1 = can1_canidmr1 & 0xff3f | 0x40;
  }
  if ((pwm_timer_mode_dispatch_state != 0) &&
     ((char)time_fault_conditions_must_exist_before_logging_a_throttle_faul_0_2000 == '\x01')) {
    pwmTimerMode1ChannelSetup();
  }
  return;
}



//
// Function: pwmTimerCycleAdvance @ 0x0002ba56
//

undefined8 pwmTimerCycleAdvance(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  uint uVar1;
  
  if (rpm_timer_capture_state == CAPTURING) {
    switch(pwm_timer_cycle_advance_state) {
    case CYCLE_PHASE_0:
    case CYCLE_PHASE_4:
    case CYCLE_PHASE_5:
      if ((char)pwm_timer_calc_value_1 == '\0') {
        pwm_timer_cycle_advance_state =
             (PWM_TIMER_CYCLE_STATE)((pwm_timer_cycle_advance_state + 3) % 6);
      }
      break;
    case CYCLE_PHASE_1:
    case CYCLE_PHASE_2:
    case CYCLE_PHASE_3:
      if ((char)pwm_timer_calc_value_1 != '\0') {
        pwm_timer_cycle_advance_state =
             (PWM_TIMER_CYCLE_STATE)((pwm_timer_cycle_advance_state + 3) % 6);
      }
    }
  }
  uVar1 = (pwm_timer_cycle_advance_state + 1) % 6;
  pwm_timer_cycle_advance_state = (PWM_TIMER_CYCLE_STATE)uVar1;
  vp44_timing_table_index = (char)((pwm_timer_cycle_advance_param + uVar1) % 6) + 1;
  pwmTimerMode1Update();
  can1_canidmr2 = can1_canidmr2 & 0xfff7;
  return CONCAT44(in_D0,in_D1);
}



//
// Function: delayWithWatchdogService @ 0x0002baf0
//

void delayWithWatchdogService(undefined4 param_1)

{
  while (param_1._0_2_ != 0) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
  }
  return;
}



//
// Function: watchdogServiceLoop @ 0x0002bb2e
//

void watchdogServiceLoop(undefined4 param_1)

{
  while (param_1._0_2_ != 0) {
    REG_SIM_SWSR = 0xaa;
    qsm_sci_data_reg._1_1_ = 0xaa;
  }
  return;
}



//
// Function: engineDataTrendingSlowCycle40Coordinator @ 0x0002bb6c
//

void engineDataTrendingSlowCycle40Coordinator(void)

{
  engine_data_trending_state = 2;
  engine_trending_load_threshold_ptr =
       (dword)&lower_limit_at_which_loading_trigger_is_satisfied_in_trendin_0_127_5;
  engine_trending_intake_temp_value = intake_manifold_temp_raw;
  engine_trending_count_min_ptr = (dword)&count_minimum_for_percent_load_to_be_low_0_100;
  if (upper_limit_at_which_loading_trigger_is_satisfied_in_trendin_0_127_5 <
      current_fuel_demand_value) {
    fuel_demand_rpm_based_limit = 0;
    return;
  }
  fuel_demand_rpm_lookup_result =
       lookupTableInterpolation((table_interp_args_t *)&engine_data_trending_state);
  return;
}



//
// Function: trendingDataTableLookup @ 0x0002bbac
//

void trendingDataTableLookup(void)

{
  table_interp_args_t *unaff_A2;
  
  fuel_demand_rpm_lookup_result = lookupTableInterpolation(unaff_A2);
  return;
}



//
// Function: fuelDemandBasedParameterCalculator @ 0x0002bbc0
//

void fuelDemandBasedParameterCalculator(void)

{
  if (upper_limit_at_which_loading_trigger_is_satisfied_in_trendin_0_127_5 <
      current_fuel_demand_value) {
    fuel_demand_rpm_based_limit = 0;
    return;
  }
  fuel_demand_rpm_based_limit =
       current_engine_rpm / rpm_divisor_value + (fuel_demand_rpm_lookup_result - 0xc4);
  if ((short)fuel_demand_rpm_based_limit < 0) {
    fuel_demand_rpm_based_limit = 0;
  }
  return;
}



//
// Function: fuelDemandLimitMinimumUpdater @ 0x0002bc06
//

void fuelDemandLimitMinimumUpdater(void)

{
  fuel_demand_limit_snapshot = fuel_limit_minimum_value;
  if (fuel_limit_minimum_value < fuel_demand_rpm_based_limit) {
    fuel_limit_minimum_value = fuel_demand_rpm_based_limit;
    fuel_demand_source_id = RPM_BASED_LIMIT;
  }
  return;
}



//
// Function: vp44_rpm_derate_monitor @ 0x0002bc2a
//

ushort vp44_rpm_derate_monitor(void)

{
  word wVar1;
  ushort uVar2;
  
  wVar1 = rpm_derate_timer;
  uVar2 = vp44_status_flags_2 & 0x80;
  if ((((vp44_status_flags_2 & 0x80) != 0) &&
      (uVar2 = derate_status_byte & 2, (derate_status_byte & 2) == 0)) &&
     (uVar2 = wVar1,
     rpm_derate_timer <= time_duration_from_overlimit_reached_to_starting_rpm_derate_0_65535)) {
    rpm_derate_timer = time_duration_from_overlimit_reached_to_starting_rpm_derate_0_65535;
    rpm_derate_status = 0;
  }
  return uVar2;
}



//
// Function: diagnostic_protection_coordinator @ 0x0002bc62
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnostic_protection_coordinator(void)

{
  diagnosticRpmBasedFuelLimitCalculator();
  diagnosticFuelLimitInterpolator();
  engineStateFuelLimitInterpolator();
  if (((diagnostic_fuel_control_mode == 7) || (diagnostic_fuel_control_mode == 8)) ||
     (diagnostic_fuel_control_mode == 9)) {
    diagnostic_mode_buffer = diagnostic_fuel_control_mode;
  }
  switch(diagnostic_fuel_control_mode) {
  case 9:
    if ((protection_system_enable_flag == 0) ||
       ((((current_fuel_demand_value <
           amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 &&
          (amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <
           protection_fuel_limit_mode_based)) &&
         ((amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <
           protection_fuel_limit_rpm_based && (active_derate_value != 0)))) ||
        (((delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 2 ||
          (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 1)) ||
         (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 5)))))) {
      diagnostic_rpm_threshold_status =
           amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
      diagnostic_fuel_control_mode = delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535
      ;
      return;
    }
    if ((current_engine_rpm <= governor_rpm_error_value) &&
       ((uint)protection_threshold_offset + (uint)target_boost_pressure_base <
        (uint)boost_pressure_feedback)) {
      diagnostic_fuel_control_mode = 0xb;
      timing_protection_counter_2 = 1;
      governorPidFuelCalculator();
    }
    if ((((protection_fuel_limit_mode_based == protection_fuel_limit_alternate) &&
         (((current_fuel_demand_value <=
            amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 &&
           (0xc < active_derate_value)) || (boost_pressure_max_target <= target_boost_pressure_base)
          ))) || (protection_fuel_limit_mode_based < protection_fuel_limit_alternate)) &&
       ((protection_fuel_limit_mode_based < protection_fuel_limit_rpm_based &&
        (protection_fuel_limit_mode_based < diagnostic_rpm_threshold_status)))) {
      diagnostic_fuel_control_mode = 10;
      diagnosticMode10FuelController();
      return;
    }
    if ((((protection_fuel_limit_rpm_based < diagnostic_rpm_threshold_status) ||
         (protection_fuel_limit_rpm_based <=
          amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535)) &&
        (protection_fuel_limit_rpm_based < protection_fuel_limit_mode_based)) &&
       (protection_fuel_limit_rpm_based < protection_fuel_limit_alternate)) {
      diagnostic_fuel_control_mode = 0xc;
      return;
    }
    break;
  case 10:
    if (((((current_engine_rpm < 8000) ||
          (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 2)) ||
         (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 1)) ||
        (fuel_temp_protection_threshold_flag != 0)) ||
       ((amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 < current_fuel_demand_value
        && (((protection_system_enable_flag == 0 || (diagnostic_mode_buffer == 7)) ||
            ((diagnostic_mode_buffer == 8 ||
             (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 5)))))))) {
      diagnostic_rpm_threshold_status =
           amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
      diagnostic_fuel_control_mode = delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535
      ;
      return;
    }
    if ((protection_fuel_limit_rpm_based < diagnostic_rpm_threshold_status) &&
       (protection_fuel_limit_rpm_based <= protection_fuel_limit_mode_based)) {
      diagnostic_fuel_control_mode = 0xc;
      return;
    }
    if ((((((protection_system_enable_flag != 0) && (diagnostic_mode_buffer == 9)) &&
          (amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <
           current_fuel_demand_value)) &&
         ((protection_fuel_limit_alternate < protection_fuel_limit_mode_based ||
          ((protection_fuel_limit_alternate == protection_fuel_limit_mode_based &&
           (target_boost_pressure_base < boost_pressure_max_target)))))) &&
        (protection_fuel_limit_alternate < protection_fuel_limit_rpm_based)) &&
       (protection_fuel_limit_alternate < diagnostic_rpm_threshold_status)) {
      diagnostic_fuel_control_mode = 9;
      diagnosticMode10FuelController();
      return;
    }
    break;
  case 0xb:
    if ((((uint)amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <=
          diagnostic_rpm_threshold_status + 0xe) &&
        (((uint)current_engine_rpm <=
          (uint)time_duration_to_warn_driver_before_shutdown_due_to_intake_t_0_65535 +
          (uint)governor_rpm_error_value || (active_derate_value != 0)))) ||
       (((_diagnostic_condition_flag != 0 ||
         ((active_derate_value == 0 &&
          (((delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 7 ||
            (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 8)) &&
           (protection_system_enable_flag == 0)))))) ||
        ((fuel_arbitrator_diag_t_0080cff8.rpm_target == 3 &&
         (fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ <=
          diagnostic_rpm_threshold_status)))))) {
      if ((protection_system_enable_flag != 0) &&
         ((((uint)boost_pressure_feedback <
            (uint)protection_threshold_offset + (uint)target_boost_pressure_base ||
           ((uint)time_duration_to_warn_driver_before_shutdown_due_to_intake_t_0_65535 +
            (uint)governor_rpm_error_value < (uint)current_engine_rpm)) &&
          ((_diagnostic_condition_flag == 0 &&
           ((fuel_arbitrator_diag_t_0080cff8.rpm_target != 3 ||
            (diagnostic_rpm_threshold_status <
             fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_)))))))) {
        diagnostic_fuel_control_mode = 9;
        diagnosticMode10FuelController();
      }
      diagnostic_state_transition_counter = 0;
      return;
    }
    diagnostic_state_transition_counter = diagnostic_state_transition_counter + 1;
    if (diagnostic_transition_limit == 0) {
      diagnostic_rpm_threshold_status =
           amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
      diagnostic_fuel_control_mode = delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535
      ;
      diagnostic_state_transition_counter = 0;
      return;
    }
    if (diagnostic_state_transition_counter == diagnostic_transition_limit) {
      diagnostic_rpm_threshold_status =
           amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
      diagnostic_fuel_control_mode = delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535
      ;
      diagnostic_state_transition_counter = 0;
      return;
    }
    break;
  case 0xc:
    if ((amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <
         diagnostic_rpm_threshold_status) &&
       (((protection_system_enable_flag == 0 ||
         (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 2)) ||
        (((delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 1 ||
          ((delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 5 ||
           (diagnostic_mode_buffer == 7)))) || (diagnostic_mode_buffer == 8)))))) {
      diagnostic_state_exit_counter = diagnostic_state_exit_counter + 1;
      if (diagnostic_exit_limit == 0) {
        diagnostic_rpm_threshold_status =
             amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
        diagnostic_fuel_control_mode =
             delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535;
        diagnostic_state_exit_counter = 0;
        return;
      }
      if (diagnostic_state_exit_counter == diagnostic_exit_limit) {
        diagnostic_rpm_threshold_status =
             amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
        diagnostic_fuel_control_mode =
             delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535;
        diagnostic_state_exit_counter = 0;
        return;
      }
    }
    else {
      diagnostic_state_exit_counter = 0;
      if ((protection_fuel_limit_mode_based < diagnostic_rpm_threshold_status) &&
         (protection_fuel_limit_mode_based < protection_fuel_limit_rpm_based)) {
        diagnostic_fuel_control_mode = 10;
        diagnosticMode10FuelController();
        return;
      }
      if ((((amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <=
             current_fuel_demand_value) && (diagnostic_mode_buffer == 9)) &&
          (protection_fuel_limit_alternate < diagnostic_rpm_threshold_status)) &&
         ((protection_fuel_limit_alternate < protection_fuel_limit_rpm_based &&
          (protection_system_enable_flag != 0)))) {
        diagnostic_fuel_control_mode = 9;
        diagnosticMode10FuelController();
        return;
      }
    }
    break;
  default:
    if (((current_engine_rpm <= governor_rpm_error_value) &&
        (diagnostic_rpm_threshold_status < _eps_backup_lost_duration_0_20)) ||
       ((((uint)current_engine_rpm <=
          (uint)fuel_limit_rpm_error_offset + (uint)governor_rpm_error_value &&
         ((active_derate_value == 0 &&
          (diagnostic_rpm_threshold_status < _eps_backup_lost_duration_0_20)))) &&
        ((delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 7 ||
         (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 == 8)))))) {
      diagnostic_fuel_control_mode = 0xb;
      timing_protection_counter_2 = 1;
      governorPidFuelCalculator();
      return;
    }
    if ((protection_fuel_limit_rpm_based <=
         amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535) &&
       (protection_fuel_limit_rpm_based <= protection_fuel_limit_mode_based)) {
      diagnostic_fuel_control_mode = 0xc;
      fuelRpmDeviationCalculator();
      return;
    }
    if ((((protection_fuel_limit_mode_based <
           amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535) &&
         (protection_fuel_limit_mode_based <= protection_fuel_limit_rpm_based)) &&
        (7999 < current_engine_rpm)) &&
       (((fuel_temp_protection_threshold_flag == 0 &&
         (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 != 2)) &&
        (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 != 1)))) {
      diagnostic_fuel_control_mode = 10;
      diagnosticMode10FuelController();
      return;
    }
    if (((protection_system_enable_flag != 0) &&
        (amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <=
         protection_fuel_limit_alternate)) &&
       ((amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535 <=
         current_fuel_demand_value &&
        (((delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 != 2 &&
          (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 != 1)) &&
         (delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535 != 5)))))) {
      diagnostic_fuel_control_mode = 9;
      diagnosticMode10FuelController();
      return;
    }
    diagnostic_rpm_threshold_status =
         amount_of_time_over_oil_pressure_rpm_shutdown_threshold_0_65535;
    diagnostic_fuel_control_mode = delay_before_warning_about_shutdown_from_oil_press_fuel_0_65535;
  }
  return;
}



//
// Function: initDiagnosticModeSystem @ 0x0002c240
//

void initDiagnosticModeSystem(void)

{
  diagnostic_fuel_control_mode = 0xb;
  diagnostic_mode_buffer = 7;
  return;
}



//
// Function: fuelTimingTransitionStateMachine @ 0x0002c252
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint fuelTimingTransitionStateMachine(void)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  
  if (fuel_timing_oil_pressure_timer < _software_padding_0_255) {
    intake_temp_protection_accumulator = shutdown_threshold_for_intake_temp_rpm_0_65535;
  }
  else {
    intake_temp_protection_accumulator =
         fault_index_indicating_epf_imt_rpm_error_found_0_ffff + intake_temp_protection_accumulator;
    if (shutdown_threshold_for_intake_temp_fuel_0_65535 < intake_temp_protection_accumulator) {
      intake_temp_protection_accumulator = shutdown_threshold_for_intake_temp_fuel_0_65535;
    }
  }
  if (protection_system_enable_flag == 0) {
    if (intake_temp_derate_timer <
        time_to_reach_full_derate_during_intake_temp_engine_prote_0_0039_256) {
      intake_temp_derate_timer = intake_temp_derate_timer + 1;
    }
  }
  else {
    intake_temp_derate_timer = 0;
  }
  if (fuel_pressure_filtered < throttle_position_value) {
    fuel_pressure_filtered = coreTableInterpolation();
  }
  if ((determines_how_engine_position_is_sync_d_to_cam_0 <= fuel_timing_oil_pressure_state) &&
     (time_to_reach_full_derate_during_intake_temp_engine_prote_0_0039_256 <=
      intake_temp_derate_timer)) {
    fuel_pressure_filtered = throttle_position_value;
  }
  if ((oil_pressure_mode_previous == 2) && (oil_pressure_mode_selector == 0)) {
    fuel_pressure_filtered = throttle_position_value;
  }
  oil_pressure_mode_previous = oil_pressure_mode_selector;
  if (protection_system_enable_flag == 0) {
    if (fuel_timing_transition_limit < fuel_pressure_filtered) {
      fuel_pressure_filtered = fuel_timing_transition_limit;
    }
  }
  else if (target_boost_pressure_base < fuel_pressure_filtered) {
    fuel_pressure_filtered = target_boost_pressure_base;
  }
  iVar2 = rpmFuelCalculation((uint)fuel_timing_transition_limit - (uint)fuel_pressure_filtered,
                             (uint)
                             time_to_reach_full_derate_during_intake_temp_engine_prote_0_0039_256,
                             0x80);
  uVar4 = (uint)shutdown_delay_for_intake_temperature_shutdown_0_255 - iVar2;
  if ((int)(uint)shutdown_delay_for_intake_temperature_shutdown_0_255 < (int)uVar4) {
    uVar4 = (uint)shutdown_delay_for_intake_temperature_shutdown_0_255;
  }
  else if ((int)uVar4 < (int)(uint)delay_after_rpm_reached_before_intake_temp_errors_0_255) {
    uVar4 = (uint)delay_after_rpm_reached_before_intake_temp_errors_0_255;
  }
  fuel_timing_transition_state_968e = (word)uVar4;
  sVar1 = (short)oil_pressure_mode_selector >> 0xf;
  if (oil_pressure_mode_selector == 0) {
    if (((((vp44_status_flags_2 & 0x20) == 0) ||
         (throttle_position_filtered < minimum_threshold_for_intake_temperature_rpm_limiting_50_293)
         ) || (maximum_temperature_threshold_for_imt_tvo_limiting_50_to_293 <
               throttle_position_filtered)) ||
       (intake_temp_protection_accumulator < throttle_position_value)) {
      fuel_timing_transition_value_2 = 0;
    }
    else {
      fuel_timing_transition_value_2 = 1;
    }
    uVar3 = (uint)throttle_position_value;
    if (((fault_index_indicating_epf_imt_fuel_error_found_0_ffff <= throttle_position_value) &&
        ((uVar3 = (uint)fuel_pressure_filtered - (uVar4 & 0xffff),
         (int)(uint)throttle_position_value < (int)uVar3 ||
         (uVar3 = CONCAT22((short)(uVar3 >> 0x10),_fuel_timing_oil_pressure_mode_state),
         crank_exited_initial_fueling_offset_100_100 <= _fuel_timing_oil_pressure_mode_state)))) &&
       (uVar3 = CONCAT22((short)(uVar3 >> 0x10),throttle_position_filtered),
       throttle_position_filtered <= rpm_to_reach_before_imt_errors_0_8000)) {
      fuel_timing_transition_value_1 = 1;
      return uVar3;
    }
    fuel_timing_transition_value_1 = 0;
    return uVar3;
  }
  if (oil_pressure_mode_selector == 1) {
    uVar4 = vp44_status_flags_2 & 0x20;
    if (((vp44_status_flags_2 & 0x20) != 0) &&
       (((uVar4 = (uint)throttle_position_filtered,
         throttle_position_filtered < minimum_threshold_for_intake_temperature_rpm_limiting_50_293
         || (uVar4 = (uint)throttle_position_filtered,
            maximum_temperature_threshold_for_imt_tvo_limiting_50_to_293 <
            throttle_position_filtered)) ||
        (uVar4 = (uint)throttle_position_value,
        intake_temp_protection_accumulator < throttle_position_value)))) {
      fuel_timing_transition_value_2 = 1;
      return uVar4;
    }
    fuel_timing_transition_value_2 = 0;
    return uVar4;
  }
  if (oil_pressure_mode_selector != 2) {
    return (int)(short)oil_pressure_mode_selector;
  }
  uVar4 = CONCAT22(sVar1,throttle_position_value);
  if ((((throttle_position_value < fuel_pressure_filtered) &&
       (uVar4 = CONCAT22(sVar1,throttle_position_value),
       fault_index_indicating_epf_imt_fuel_error_found_0_ffff <= throttle_position_value)) &&
      (uVar4 = CONCAT22(sVar1,throttle_position_filtered),
      throttle_position_filtered <= rpm_to_reach_before_imt_errors_0_8000)) &&
     ((uVar4 = CONCAT22(sVar1,fuel_timing_oil_pressure_state),
      fuel_timing_oil_pressure_state < determines_how_engine_position_is_sync_d_to_cam_0 ||
      (uVar4 = CONCAT22(sVar1,intake_temp_derate_timer),
      intake_temp_derate_timer <
      time_to_reach_full_derate_during_intake_temp_engine_prote_0_0039_256)))) {
    fuel_timing_transition_value_1 = 0;
    return uVar4;
  }
  fuel_timing_transition_value_1 = 1;
  return uVar4;
}



//
// Function: initProtectionTablePointer @ 0x0002c4de
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void initProtectionTablePointer(void)

{
  _protection_table_init_value = 0;
  protection_imt_threshold_ptr =
       (dword)&minimum_temperature_threshold_for_imt_fuel_limiting_50_to_293;
  return;
}



//
// Function: diagnosticFlagResetHandler @ 0x0002c4f0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort diagnosticFlagResetHandler(void)

{
  if ((fuel_temp_control_flags & 0x8000) == 0) {
    _fuel_demand_limit_source_2_flag = 0;
  }
  return fuel_temp_control_flags & 0x8000;
}



//
// Function: fuelTempControlFlagChecker @ 0x0002c506
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort fuelTempControlFlagChecker(void)

{
  if ((fuel_temp_control_flags & 0x8000) != 0) {
    _fuel_demand_limit_source_2_flag = 0;
  }
  return fuel_temp_control_flags & 0x8000;
}



//
// Function: diagnosticModeFuelAdjustmentCalculator @ 0x0002c51a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticModeFuelAdjustmentCalculator(undefined4 param_1)

{
  ushort uVar1;
  short sVar2;
  word wStack_6;
  
  fuel_temp_limit_snapshot = fuel_temp_calculated_limit_971c;
  diagnostic_fuel_gain_factor_96c6 =
       lookupTableInterpolation((table_interp_args_t *)&protection_table_size);
  if (diagnostic_fuel_control_mode == 9) {
    if ((((vp44_diagnostic_mode_state == BOOST_PRESSURE_INIT) ||
         (vp44_diagnostic_mode_state == SENSOR_BIT8_TRIGGERED)) ||
        (vp44_diagnostic_mode_state == BOOST_PRESSURE_MONITOR)) ||
       (vp44_diagnostic_mode_state == SENSOR_BIT2_PROTECTION)) {
      _water_in_fuel_protection_active = 0;
    }
    else {
      if (target_boost_pressure_base < boost_pressure_feedback) {
        uVar1 = boost_pressure_feedback - target_boost_pressure_base;
      }
      else {
        uVar1 = target_boost_pressure_base - boost_pressure_feedback;
      }
      if (((uVar1 < time_from_overlimit_reached_to_starting_fuel_derate_0_65535) &&
          (param_1._0_2_ <= _selected_oil_pressure_threshold)) &&
         (shutdown_threshold_for_intake_temp_rpm_20_255 <= param_1._0_2_)) {
        _water_in_fuel_protection_active = 1;
      }
    }
  }
  if ((_water_in_fuel_protection_active == 0) && (diagnostic_fuel_control_mode == 9)) {
    boost_pressure_protection_active = 0;
  }
  else if (_selected_oil_pressure_threshold < param_1._0_2_) {
    uVar1 = _boost_pressure_monitor_value;
    if (diagnostic_fuel_control_mode == 9) {
      uVar1 = _oil_pressure_monitor_value;
    }
    wStack_6 = (word)((uint)uVar1 * ((uint)param_1._0_2_ - (uint)_selected_oil_pressure_threshold)
                     >> 10);
    if ((short)wStack_6 < 0xa01) {
      boost_pressure_protection_active = wStack_6;
    }
    else {
      boost_pressure_protection_active = 0xa00;
    }
  }
  else if (param_1._0_2_ < shutdown_threshold_for_intake_temp_rpm_20_255) {
    sVar2 = _intake_temp_protection_calc2;
    if (diagnostic_fuel_control_mode == 9) {
      sVar2 = _intake_temp_protection_calc1;
    }
    wStack_6 = (word)((int)sVar2 *
                      ((int)(short)param_1._0_2_ -
                      (int)(short)shutdown_threshold_for_intake_temp_rpm_20_255) >> 10);
    if ((short)wStack_6 < -0xa00) {
      boost_pressure_protection_active = 0xf600;
    }
    else {
      boost_pressure_protection_active = wStack_6;
    }
  }
  else {
    boost_pressure_protection_active = 0;
  }
  if ((short)boost_pressure_control_output < 1) {
    if (-(int)(short)boost_pressure_control_output ==
        (int)(short)EPO2SRRP + (int)(short)shutdown_delay_for_oil_pressure_shutdown_0_255 ||
        -((int)(short)EPO2SRRP + (int)(short)shutdown_delay_for_oil_pressure_shutdown_0_255) <
        (int)(short)boost_pressure_control_output) {
      if (-((int)(short)shutdown_delay_for_oil_pressure_shutdown_0_255 - (int)(short)EPO2SRRP) <
          (int)(short)boost_pressure_control_output) {
        _protection_status_flag1 = 0;
      }
    }
    else {
      _protection_status_flag1 = 1;
    }
  }
  else if ((int)(short)EPO2SRRP + (int)(short)shutdown_delay_for_oil_pressure_shutdown_0_255 <
           (int)(short)boost_pressure_control_output) {
    _protection_status_flag1 = 1;
  }
  else if ((int)(short)boost_pressure_control_output <
           (int)(short)shutdown_delay_for_oil_pressure_shutdown_0_255 - (int)(short)EPO2SRRP) {
    _protection_status_flag1 = 0;
  }
  if (_protection_status_flag1 != 0) {
    if (_protection_status_flag2 == 0) {
      if ((uint)current_fuel_demand_value < shutdown_threshold_for_intake_temp_rpm_20_255 + 0x3a) {
        _protection_status_flag1 = 0;
      }
    }
    else if (current_fuel_demand_value < shutdown_threshold_for_intake_temp_rpm_20_255) {
      _protection_status_flag1 = 0;
    }
  }
  if (_protection_status_flag1 == 0) {
    protection_table_pointer =
         (dword)&time_duration_from_overlimit_reached_to_starting_rpm_derate_0_65535;
  }
  else {
    protection_table_pointer =
         (dword)&dont_log_oil_pressure_faults_until_running_and_time_expired_0_255;
  }
  protection_param_0 = *(word *)protection_table_pointer;
  protection_param_1 = *(word *)(protection_table_pointer + 2);
  protection_param_2 = *(word *)(protection_table_pointer + 4);
  protection_param_3 = *(word *)(protection_table_pointer + 6);
  if (_protection_status_flag1 != _protection_status_flag2) {
    _oil_pressure_protection_active = 1;
  }
  _protection_status_flag2 = _protection_status_flag1;
  return;
}



//
// Function: update_engine_protection_thresholds @ 0x0002c7e0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void update_engine_protection_thresholds(void)

{
  _intake_temp_calc_result = _intake_temp_protection_calc2;
  _boost_pressure_calc_result = _boost_pressure_monitor_value;
  if ((_water_in_fuel_protection_active == 1) && (protection_system_enable_flag == 1)) {
    _oil_pressure_timer = _oil_pressure_monitor_value;
    _boost_pressure_timer = _intake_temp_protection_calc1;
  }
  else {
    _oil_pressure_timer = 0;
    _boost_pressure_timer = 0;
  }
  if (oil_pressure_mode_selector == 0) {
    _selected_oil_pressure_threshold = minimum_threshold_for_oil_pressure_rpm_limiting_0_65535;
  }
  else if (oil_pressure_mode_selector == 2) {
    _selected_oil_pressure_threshold =
         time_to_shutdown_after_low_oil_pressure_error_declared_0_65535;
  }
  else if (oil_pressure_mode_selector == 1) {
    _selected_oil_pressure_threshold = _custom_oil_pressure_threshold;
  }
  _oil_pressure_threshold_active = _selected_oil_pressure_threshold;
  _oil_pressure_threshold_backup = _selected_oil_pressure_threshold;
  return;
}



//
// Function: engineProtectionTimeoutCalculator @ 0x0002c870
//

undefined4 engineProtectionTimeoutCalculator(undefined4 param_1)

{
  uint uVar1;
  word *pwVar2;
  ushort local_8;
  ushort uStack_6;
  
  uVar1 = (((uint)vp44_fault_calc_factor_1 * (uint)vp44_boost_pressure_reference) / 0x3c & 0xffff) *
          (uint)vp44_fault_calc_factor_2;
  local_8 = (ushort)(uVar1 >> 0x17);
  if (local_8 == 0) {
    pwVar2 = (word *)((uVar1 >> 7 & 0xffff) * (uint)param_1._0_2_);
    local_8 = (ushort)((uint)pwVar2 >> 0x10);
    uStack_6 = local_8;
    if (local_8 < 0x1f41) {
      uStack_6 = 8000;
    }
  }
  else {
    pwVar2 = (word *)((uint)param_1._0_2_ * (uVar1 >> 0xb & 0xffff) >> 0xc);
    if (pwVar2 < &hour_meter_conversion_table) {
      uStack_6 = (ushort)pwVar2;
      if (uStack_6 < 0x1f41) {
        uStack_6 = 8000;
      }
    }
    else {
      uStack_6 = 36000;
    }
  }
  return CONCAT22((short)((uint)pwVar2 >> 0x10),uStack_6);
}



//
// Function: engineProtectionScaledValueCalculator @ 0x0002c8fe
// ERROR: Failed to decompile
//

//
// Function: protectionThresholdDivider @ 0x0002c968
// ERROR: Failed to decompile
//

//
// Function: engine_protection_init @ 0x0002c99a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engine_protection_init(void)

{
  ushort uVar1;
  undefined4 uVar2;
  undefined4 unaff_D2;
  word wVar3;
  undefined2 local_18;
  undefined4 local_16;
  undefined2 local_12;
  undefined2 local_10;
  undefined4 local_e;
  undefined2 local_a;
  undefined4 local_8;
  
  _protection_table_size = 2;
  protection_shutdown_time_ptr =
       (dword)&time_to_shutdown_after_low_oil_pressure_error_declared_0_100;
  protection_water_in_fuel_ptr = (dword)&min_threshold_for_water_in_fuel_fuel_limiting_0_3;
  _oil_pressure_protection_active = 0;
  boost_pressure_protection_active = 0;
  _water_in_fuel_protection_active = 0;
  local_16 = 0x808002;
  local_18 = 2;
  local_a = 400;
  local_e = 0x808028;
  local_10 = 2;
  local_8 = 0x808032;
  uVar2 = engineProtectionTimeoutCalculator
                    (CONCAT22(fuel_timing_transition_limit - fuel_timing_transition_offset,
                              (short)((uint)unaff_D2 >> 0x10)));
  local_12 = (undefined2)uVar2;
  wVar3 = fuel_timing_transition_offset;
  _oil_pressure_monitor_value = engineProtectionScaledValueCalculator();
  uVar2 = engineProtectionTimeoutCalculator
                    (CONCAT22(boost_pressure_target_pointer - protection_init_timing_param_2,wVar3))
  ;
  local_12 = (undefined2)uVar2;
  _boost_pressure_monitor_value =
       engineProtectionScaledValueCalculator((short)((uint)&local_18 >> 0x10));
  if (shutdown_duration_threshold_for_boost_pressure_fuel_0_65535 <
      shutdown_threshold_for_intake_temp_rpm_20_255) {
    uVar1 = shutdown_threshold_for_intake_temp_rpm_20_255 -
            shutdown_duration_threshold_for_boost_pressure_fuel_0_65535;
    _intake_temp_protection_calc1 = protectionThresholdDivider();
    _intake_temp_protection_calc2 =
         protectionThresholdDivider((short)((uint)uVar1 * 0x1164 >> 0x10),uVar1);
  }
  else {
    _intake_temp_protection_calc1 = 0;
    _intake_temp_protection_calc2 = 0;
  }
  _oil_pressure_threshold_active = minimum_threshold_for_oil_pressure_rpm_limiting_0_65535;
  _oil_pressure_threshold_backup = minimum_threshold_for_oil_pressure_rpm_limiting_0_65535;
  _intake_temp_threshold_active = shutdown_threshold_for_intake_temp_rpm_20_255;
  _intake_temp_threshold_backup = shutdown_threshold_for_intake_temp_rpm_20_255;
  _oil_pressure_timer = 0;
  _boost_pressure_timer = 0;
  _intake_temp_calc_result = _intake_temp_protection_calc2;
  _boost_pressure_calc_result = _boost_pressure_monitor_value;
  _protection_status_flag1 = 0;
  _protection_status_flag2 = 0;
  return;
}



//
// Function: diagnosticFuelGainCalculator @ 0x0002cb08
//

undefined4 diagnosticFuelGainCalculator(void)

{
  int iVar1;
  undefined2 uStack_6;
  
  iVar1 = (uint)fuel_gain_multiplier *
          (int)(short)(((int)(short)boost_pressure_control_output *
                       (int)(short)diagnostic_fuel_gain_factor_96c6) / 1000);
  if (iVar1 < 0x138800) {
    if (iVar1 < -0x1387ff) {
      uStack_6 = 0xd8f0;
    }
    else {
      iVar1 = iVar1 >> 7;
      uStack_6 = (undefined2)iVar1;
    }
  }
  else {
    uStack_6 = 10000;
  }
  return CONCAT22((short)((uint)iVar1 >> 0x10),uStack_6);
}



//
// Function: boost_pressure_control_and_diagnostics @ 0x0002cb6a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void boost_pressure_control_and_diagnostics(void)

{
  bool bVar1;
  ushort uVar2;
  short sVar4;
  int iVar3;
  undefined4 unaff_D2;
  short sVar5;
  word wVar6;
  undefined2 uVar7;
  undefined2 uVar8;
  word wStack_a;
  int local_8;
  
  uVar8 = (undefined2)((uint)unaff_D2 >> 0x10);
  uVar7 = 0x322a;
  wVar6 = current_fuel_demand_value;
  _boost_pressure_raw_reading = coreTableInterpolation(0x80);
  _boost_pressure_filtered_value = coreTableInterpolation(0x80,wVar6,uVar7);
  sVar5 = _boost_pressure_current_delta;
  _boost_pressure_current_delta = unsignedLinearInterpolation();
  uVar2 = _boost_pressure_command;
  sVar5 = _boost_pressure_current_delta - sVar5;
  if (sVar5 < 0x67) {
    if (sVar5 < -0x66) {
      sVar5 = -0x66;
    }
  }
  else {
    sVar5 = 0x66;
  }
  if ((((short)fault_when_epf_boost_pressure_fuel_error_found_0_65535 < sVar5) ||
      ((int)sVar5 < -(int)(short)fault_when_epf_boost_pressure_fuel_error_found_0_65535)) ||
     (_epf_fault_timer == 0)) {
    _epf_fault_timer = fault_when_epf_engine_boost_pressure_rpm_error_found_0_65535;
  }
  else {
    if (_epf_fault_timer == fault_when_epf_engine_boost_pressure_rpm_error_found_0_65535) {
      _boost_pressure_baseline = _boost_pressure_filtered_value;
    }
    if (_epf_fault_timer != 0) {
      _epf_fault_timer = _epf_fault_timer - 1;
    }
  }
  if ((_epf_fault_timer == 0) &&
     (shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535 <= _boost_pressure_current_delta)) {
    boost_pressure_control_active = '\x01';
    _boost_pressure_target = _boost_pressure_baseline;
  }
  else if (boost_pressure_control_active == '\0') {
    _boost_pressure_target = current_fuel_demand_value;
  }
  if ((diagnostic_fuel_control_mode == 9) || (diagnostic_fuel_control_mode == 10)) {
    if (_diagnostic_boost_mode_flag == 1) {
      diagnosticMode10FuelController();
    }
    else {
      if (diagnostic_fuel_control_mode == 9) {
        _boost_pressure_command = target_boost_pressure_base;
        if (uVar2 < target_boost_pressure_base) {
          if ((ushort)(delay_after_rpm_is_reached_before_water_in_fuel_errors_0_8000 + uVar2) <
              target_boost_pressure_base) {
            _boost_pressure_command =
                 delay_after_rpm_is_reached_before_water_in_fuel_errors_0_8000 + uVar2;
          }
        }
        else if ((target_boost_pressure_base < uVar2) &&
                ((uint)fault_when_epf_water_in_fuel_fuel_error_found_0_65535 +
                 (uint)target_boost_pressure_base < (uint)uVar2)) {
          _boost_pressure_command = uVar2 - fault_when_epf_water_in_fuel_fuel_error_found_0_65535;
        }
        boost_pressure_setpoint = _boost_pressure_command;
        if (((_water_in_fuel_sensor_flag1 == 1) && ((sensor_status_register & 2) == 0)) ||
           ((_water_in_fuel_sensor_flag2 == 1 && ((sensor_status_register & 8) == 0)))) {
          diagnosticMode10FuelController();
        }
      }
      else {
        boost_pressure_setpoint = boost_pressure_max_target;
      }
      boost_pressure_error = boost_pressure_setpoint - boost_pressure_feedback;
      if ((short)max_threshold_for_boost_pressure_fuel_limiting_0_100 < (short)boost_pressure_error)
      {
        boost_pressure_error = max_threshold_for_boost_pressure_fuel_limiting_0_100;
      }
      else if ((short)boost_pressure_error <
               (short)min_threshold_for_boost_fuel_pressure_rpm_limiting_0_65535) {
        boost_pressure_error = min_threshold_for_boost_fuel_pressure_rpm_limiting_0_65535;
      }
      diagnosticModeFuelAdjustmentCalculator(CONCAT22(_boost_pressure_raw_reading,uVar8));
      if ((int)(short)boost_pressure_error < (short)boost_pressure_protection_active + 0xa00) {
        if ((short)boost_pressure_protection_active + -0xa00 < (int)(short)boost_pressure_error) {
          boost_pressure_control_output = boost_pressure_error - boost_pressure_protection_active;
        }
        else {
          boost_pressure_control_output = 0xf600;
        }
      }
      else {
        boost_pressure_control_output = 0xa00;
      }
      diagnosticFuelGainCalculator();
      sVar4 = signedLinearInterpolation(0x80);
      if (sVar4 < 12000) {
        if (sVar4 < -12000) {
          sVar4 = -12000;
        }
      }
      else {
        sVar4 = 12000;
      }
      wStack_a = (word)((int)sVar5 * (int)(short)diagnostic_fuel_gain_factor_96c6 >> 5);
      iVar3 = (uint)fuel_gain_multiplier * (int)(short)wStack_a;
      wVar6 = shutdown_severity_threshold_for_water_in_fuel_fueling_0_3;
      if ((iVar3 < (short)shutdown_severity_threshold_for_water_in_fuel_fueling_0_3 * 0x16) &&
         (wVar6 = shutdown_severity_threshold_for_water_in_fuel_rpm_0_3,
         (short)shutdown_severity_threshold_for_water_in_fuel_rpm_0_3 * 0x16 < iVar3)) {
        wVar6 = (word)(iVar3 / 0x16);
      }
      iVar3 = (int)sVar4 * (int)(short)protection_param_0 >> 0xc;
      if (iVar3 < 0x7fff) {
        if (iVar3 < -0x7fff) {
          boost_pressure_diagnostic_state = 0x8000;
        }
        else {
          wStack_a = (word)iVar3;
          boost_pressure_diagnostic_state = wStack_a;
        }
      }
      else {
        boost_pressure_diagnostic_state = 0x7fff;
      }
      wStack_a = (word)((int)(short)wVar6 * (int)(short)protection_param_2 >> 0xf);
      protection_scaling_factor = wStack_a;
      local_8 = (int)(short)min_threshold_for_boost_pressure_fuel_limiting_0_100 *
                ((int)(short)current_fuel_demand_value - (int)(short)diagnostic_fuel_baseline) * 2;
      if (local_8 < 0x6e66667) {
        if (local_8 < -0x6e66666) {
          local_8 = -0x6e66666;
        }
      }
      else {
        local_8 = 0x6e66666;
      }
      boost_pressure_control_state = local_8._0_2_;
      if (_oil_pressure_protection_active != 0) {
        _oil_pressure_protection_active = 0;
        iVar3 = ((int)(short)wStack_a +
                ((int)(short)diagnostic_fuel_baseline - (int)(short)boost_pressure_diagnostic_state)
                ) - (int)(short)boost_pressure_control_output;
        if ((int)(uint)start_duration_for_boost_pressure_rpm_derate_0_65535 < iVar3) {
          diagnostic_fuel_demand_limit = start_duration_for_boost_pressure_rpm_derate_0_65535;
        }
        else if (iVar3 < (int)(uint)shutdown_duration_threshold_for_boost_pressure_fuel_0_65535) {
          diagnostic_fuel_demand_limit = shutdown_duration_threshold_for_boost_pressure_fuel_0_65535
          ;
        }
        else {
          diagnostic_fuel_demand_limit = (word)iVar3;
        }
        _diagnostic_fuel_demand_limit = (uint)diagnostic_fuel_demand_limit << 0x10;
      }
      local_8 = local_8 + (((int)sVar4 * (int)(short)protection_param_1 * 4 +
                           _diagnostic_fuel_demand_limit) -
                          ((int)(short)wVar6 * (int)(short)protection_param_3 >> 4));
      diagnostic_fuel_demand_limit = (word)((uint)local_8 >> 0x10);
      if ((short)diagnostic_fuel_demand_limit <
          (short)start_duration_for_boost_pressure_rpm_derate_0_65535) {
        bVar1 = (short)diagnostic_fuel_demand_limit <
                (short)shutdown_duration_threshold_for_boost_pressure_fuel_0_65535;
        _diagnostic_fuel_demand_limit = local_8;
        if (bVar1) {
          _diagnostic_fuel_demand_limit =
               (uint)shutdown_duration_threshold_for_boost_pressure_fuel_0_65535 << 0x10;
        }
      }
      else {
        _diagnostic_fuel_demand_limit =
             (uint)start_duration_for_boost_pressure_rpm_derate_0_65535 << 0x10;
      }
      boost_pressure_diagnostic_timer = diagnostic_fuel_demand_limit;
      if (boost_diagnostic_cooldown == 0) {
        boost_diagnostic_delta_calc =
             sVar5 * 0x20 -
             (short)(((int)(short)start_duration_for_engine_sync_fuel_pressure_rpm_derate_0_65535 *
                     (int)(short)boost_pressure_control_output) / 0x19);
        if (((short)boost_diagnostic_threshold < (short)boost_diagnostic_delta_calc) &&
           ((short)boost_pressure_control_output <
            (short)start_duration_for_engine_sync_fuel_pressure_fueling_derate_0_65535)) {
          if (diagnostic_mode_countdown == 0) {
            boost_diagnostic_trigger_flag = 1;
          }
          else {
            boost_diagnostic_trigger_flag = 0;
            diagnostic_mode_countdown = diagnostic_mode_countdown - 1;
          }
        }
        else {
          diagnostic_mode_countdown = 4;
          boost_diagnostic_trigger_flag = 0;
        }
        if (boost_diagnostic_trigger_flag != 0) {
          boost_diagnostic_adjustment =
               time_duration_to_warn_driver_before_shutdown_due_to_boost_pres_0_65535 * sVar5;
          if ((short)boost_diagnostic_adjustment < 0x6e6) {
            if ((short)boost_diagnostic_adjustment < -0x6e6) {
              boost_diagnostic_adjustment = 0xf91a;
            }
          }
          else {
            boost_diagnostic_adjustment = 0x6e6;
          }
          boost_pressure_diagnostic_timer =
               diagnostic_fuel_demand_limit - boost_diagnostic_adjustment;
          _diagnostic_fuel_demand_limit =
               _diagnostic_fuel_demand_limit + (short)boost_diagnostic_adjustment * -0x10000;
          boost_diagnostic_cooldown = shutdown_severity_threshold_for_boost_pressure_fueling_0_100;
          boost_pressure_control_output = boost_diagnostic_adjustment;
          diagnostic_mode_countdown = 4;
        }
      }
      else {
        boost_diagnostic_cooldown = boost_diagnostic_cooldown - 1;
      }
      if ((short)boost_pressure_control_output < 1) {
        if ((short)boost_pressure_control_output < 0) {
          if (-(int)(short)shutdown_severity_threshold_for_boost_pressure_rpm_0_100 <
              (int)(short)boost_pressure_control_output) {
            boost_pressure_control_output = 0;
          }
          else {
            boost_pressure_control_output =
                 shutdown_severity_threshold_for_boost_pressure_rpm_0_100 +
                 boost_pressure_control_output;
          }
        }
      }
      else if ((short)boost_pressure_control_output <
               (short)shutdown_severity_threshold_for_boost_pressure_rpm_0_100) {
        boost_pressure_control_output = 0;
      }
      else {
        boost_pressure_control_output =
             boost_pressure_control_output -
             shutdown_severity_threshold_for_boost_pressure_rpm_0_100;
      }
      iVar3 = (int)(short)boost_pressure_control_output +
              (((int)(short)boost_pressure_diagnostic_timer +
               (int)(short)boost_pressure_diagnostic_state) - (int)(short)wStack_a);
      if (iVar3 < 0x2e00) {
        if (iVar3 < -0x24b) {
          diagnostic_fuel_baseline = 0xfdb4;
        }
        else {
          wStack_a = (word)iVar3;
          diagnostic_fuel_baseline = wStack_a;
        }
      }
      else {
        diagnostic_fuel_baseline = 0x2e00;
      }
      if ((short)diagnostic_fuel_baseline <
          (short)start_duration_for_boost_pressure_rpm_derate_0_65535) {
        if ((short)time_to_reach_full_derate_during_boost_press_eng_prote_1_256_65535_256 <
            (short)diagnostic_fuel_baseline) {
          diagnostic_rpm_limit_clamped = diagnostic_fuel_baseline;
        }
        else {
          diagnostic_rpm_limit_clamped =
               time_to_reach_full_derate_during_boost_press_eng_prote_1_256_65535_256;
        }
      }
      else {
        diagnostic_rpm_limit_clamped = start_duration_for_boost_pressure_rpm_derate_0_65535;
      }
      diagnostic_rpm_threshold_status = diagnostic_rpm_limit_clamped;
    }
  }
  diagnostic_mode_previous_326a = diagnostic_fuel_control_mode;
  update_engine_protection_thresholds();
  _water_in_fuel_sensor_flag1 = (byte)-((sensor_status_register & 2) != 0) & 1;
  _water_in_fuel_sensor_flag2 = (byte)-((sensor_status_register & 8) != 0) & 1;
  return;
}



//
// Function: diagnosticMode10FuelController @ 0x0002d210
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticMode10FuelController(void)

{
  undefined4 uVar1;
  short sVar2;
  undefined4 unaff_D2;
  undefined4 local_8;
  
  if (diagnostic_fuel_control_mode == 10) {
    boost_pressure_error = boost_pressure_max_target - boost_pressure_feedback;
    if ((short)boost_pressure_error < (short)max_threshold_for_boost_pressure_fuel_limiting_0_100) {
      if ((short)boost_pressure_error <
          (short)min_threshold_for_boost_fuel_pressure_rpm_limiting_0_65535) {
        boost_pressure_error = min_threshold_for_boost_fuel_pressure_rpm_limiting_0_65535;
      }
    }
    else {
      boost_pressure_error = max_threshold_for_boost_pressure_fuel_limiting_0_100;
    }
  }
  else {
    _boost_pressure_command = boost_pressure_feedback;
    boost_pressure_setpoint = boost_pressure_feedback;
    boost_pressure_error = 0;
  }
  boost_pressure_control_output = boost_pressure_error;
  diagnosticModeFuelAdjustmentCalculator
            (CONCAT22(_boost_pressure_raw_reading,(short)((uint)unaff_D2 >> 0x10)));
  if ((int)(short)boost_pressure_error < (short)boost_pressure_protection_active + 0xa00) {
    if ((short)boost_pressure_protection_active + -0xa00 < (int)(short)boost_pressure_error) {
      boost_pressure_control_output = boost_pressure_error - boost_pressure_protection_active;
    }
    else {
      boost_pressure_control_output = 0xf600;
    }
  }
  else {
    boost_pressure_control_output = 0xa00;
  }
  uVar1 = diagnosticFuelGainCalculator();
  sVar2 = (short)uVar1;
  _diagnostic_fuel_output_scaled_hi = (int)sVar2 << 0x10;
  _diagnostic_fuel_output_scaled_lo = (int)sVar2 << 0x10;
  _boost_feedback_scaled_hi = (uint)boost_pressure_feedback << 0x10;
  _boost_feedback_scaled_lo = (uint)boost_pressure_feedback << 0x10;
  _boost_pressure_current_delta = boost_pressure_feedback;
  local_8 = (int)sVar2 * (int)(short)protection_param_0 >> 0xc;
  if (local_8 < 0x1700) {
    if (local_8 < -0x16ff) {
      local_8 = 0xe900;
    }
  }
  else {
    local_8 = 0x1700;
  }
  if ((diagnostic_mode_previous_326a == 7) || (diagnostic_mode_previous_326a == 8)) {
    sVar2 = _boost_pressure_target;
    if (diagnostic_fuel_control_mode == 10) {
      sVar2 = current_fuel_demand_value - shutdown_delay_for_boost_pressure_shutdown_0_255;
    }
    boost_pressure_control_output = current_fuel_demand_value - sVar2;
    diagnostic_fuel_demand_limit = sVar2 - local_8._2_2_;
  }
  else {
    boost_pressure_control_output = 0;
    diagnostic_fuel_demand_limit = current_fuel_demand_value - local_8._2_2_;
  }
  if ((short)diagnostic_fuel_demand_limit <
      (short)start_duration_for_boost_pressure_rpm_derate_0_65535) {
    if ((short)diagnostic_fuel_demand_limit <
        (short)shutdown_duration_threshold_for_boost_pressure_fuel_0_65535) {
      diagnostic_fuel_demand_limit = shutdown_duration_threshold_for_boost_pressure_fuel_0_65535;
    }
  }
  else {
    diagnostic_fuel_demand_limit = start_duration_for_boost_pressure_rpm_derate_0_65535;
  }
  diagnostic_mode_10_temp_var = 0;
  boost_pressure_diagnostic_timer = diagnostic_fuel_demand_limit;
  diagnostic_fuel_baseline = current_fuel_demand_value;
  _diagnostic_boost_mode_flag = 0;
  diagnostic_mode_countdown = 4;
  return;
}



//
// Function: diagnosticParameterPointersInit @ 0x0002d3fa
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticParameterPointersInit(void)

{
  _diagnostic_boost_mode_flag = 0;
  diagnostic_boost_table_ptr = 0x8070e6;
  diagnostic_boost_start_ptr = (dword)&start_duration_for_boost_pressure_fueling_derate_0_65535;
  diagnostic_water_fault_ptr = (dword)&fault_when_epf_water_in_fuel_rpm_error_found_0_65535;
  diagnostic_water_warn_ptr =
       (dword)&time_duration_to_warn_driver_before_shutdown_due_to_water_in_f_0_65535;
  diagnostic_oil_pressure_max_ptr =
       (dword)&maximum_threshold_for_oil_pressure_fueling_limiting_0_100;
  diagnostic_boost_delay_ptr =
       (dword)&delay_after_rpm_is_reached_before_boost_pressure_errors_0_8000;
  return;
}



//
// Function: vp44DiagnosticModeStateMachine @ 0x0002d43e
//

ushort vp44DiagnosticModeStateMachine(void)

{
  bool bVar1;
  bool bVar2;
  bool bVar3;
  ushort uVar4;
  bool bVar5;
  
  bVar5 = (sensor_status_register & 4) != 0;
  if ((vp44_sensor_bit2_prev_state == 0) && (bVar5)) {
    bVar3 = true;
  }
  else {
    bVar3 = false;
  }
  vp44_sensor_bit2_prev_state = bVar5;
  bVar5 = (sensor_status_register & 1) != 0;
  if ((vp44_sensor_bit0_prev_state == 0) && (bVar5)) {
    bVar2 = true;
  }
  else {
    bVar2 = false;
  }
  vp44_sensor_bit0_prev_state = -bVar5 & 1;
  if ((vp44_operating_condition_prev == TRANSITION_STATE_4) ||
     (vp44_operating_condition_value != TRANSITION_STATE_4)) {
    bVar5 = false;
  }
  else {
    bVar5 = true;
  }
  if ((vp44_operating_condition_prev == TRANSITION_STATE_3) ||
     (vp44_operating_condition_value != TRANSITION_STATE_3)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  vp44_operating_condition_prev = vp44_operating_condition_value;
  if ((bVar5 || bVar2) || (bVar1)) {
    bVar5 = true;
  }
  else {
    bVar5 = false;
  }
  vp44_diagnostic_mode_state = UNINITIALIZED;
  if ((diagnostic_system_flags_1 & 0x40) == 0) {
    vp44_diagnostic_mode_state = INACTIVE;
    uVar4 = diagnostic_system_flags_1 & 0x40;
  }
  else {
    if ((fuel_temp_limit_delta == 0) ||
       (shutdown_delay_for_engine_sync_fuel_pressure_shutdown_0_255 == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if ((vp44_operating_condition_value == FUEL_CONTROL_B) ||
       (vp44_operating_condition_value == FUEL_CONTROL_A)) {
      bVar1 = true;
    }
    else {
      bVar1 = false;
    }
    uVar4 = sensor_status_register & 0x10;
    if (((((((sensor_status_register & 0x10) == 0) ||
           (uVar4 = boost_pressure_feedback, boost_pressure_feedback < insite_fuel_timing_display))
          || (uVar4 = derate_status_byte & 4, (derate_status_byte & 4) != 0)) ||
         ((uVar4 = current_engine_rpm_raw,
          current_engine_rpm_raw < shutdown_threshold_for_intake_temp_fuel_50_293 ||
          (uVar4 = derate_status_byte & 8, (derate_status_byte & 8) != 0)))) || ((bVar2 || (bVar1)))
        ) || ((fuel_arbitrator_diag_t_0080cff8.fuel_limit != 0 &&
              (fuel_arbitrator_diag_t_0080cff8._30_2_ == 1)))) {
      if (vp44_diagnostic_mode_state_2 == INACTIVE) {
        vp44_diagnostic_mode_state = INACTIVE;
      }
      else {
        vp44_diagnostic_mode_state = EXIT_DISABLED;
      }
    }
    else if (bVar3) {
      if ((active_derate_value < 0xc) || (diagnostic_fuel_control_mode == 9)) {
        bVar5 = false;
      }
      else {
        bVar5 = true;
      }
      if ((protection_system_enable_flag == 0) || (bVar5)) {
        uVar4 = boost_pressure_feedback;
        if (shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535 <= boost_pressure_feedback) {
          vp44_diagnostic_mode_state = BOOST_PRESSURE_INIT;
        }
      }
      else if (vp44_sensor_type_selector == 0) {
        vp44_diagnostic_mode_state = SENSOR_TYPE_0_MODE;
      }
      else {
        vp44_diagnostic_mode_state = SENSOR_TYPE_1_MODE;
      }
    }
    else if ((sensor_status_register & 8) == 0) {
      if (bVar5) {
        if (protection_system_enable_flag == 0) {
          uVar4 = boost_pressure_feedback;
          if ((shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535 <= boost_pressure_feedback)
             && (vp44_diagnostic_mode_state_2 != INACTIVE)) {
            vp44_diagnostic_mode_state = BOOST_PRESSURE_MONITOR;
          }
        }
        else if (vp44_sensor_type_selector == 0) {
          vp44_diagnostic_mode_state = SENSOR_TYPE_1_MODE;
        }
        else {
          vp44_diagnostic_mode_state = SENSOR_TYPE_0_MODE;
        }
      }
      else if (((sensor_status_register & 2) != 0) && (protection_system_enable_flag != 0)) {
        vp44_diagnostic_mode_state = SENSOR_BIT2_PROTECTION;
      }
    }
    else if (protection_system_enable_flag != 0) {
      vp44_diagnostic_mode_state = SENSOR_BIT8_TRIGGERED;
    }
  }
  if (vp44_diagnostic_mode_state == UNINITIALIZED) {
    if (protection_system_enable_flag != 0) {
      vp44_diagnostic_mode_state = PROTECTION_CONTINUE;
      return uVar4;
    }
    if (vp44_diagnostic_mode_state_2 != INACTIVE) {
      vp44_diagnostic_mode_state = EXIT_DISABLED;
      return uVar4;
    }
    vp44_diagnostic_mode_state = INACTIVE;
  }
  return uVar4;
}



//
// Function: vp44ControlVariablesReset @ 0x0002d688
//

void vp44ControlVariablesReset(void)

{
  vp44_sensor_bit2_prev_state = 0;
  vp44_sensor_bit0_prev_state = 0;
  vp44_operating_condition_value = RESET_INACTIVE;
  vp44_operating_condition_prev = RESET_INACTIVE;
  return;
}



//
// Function: boostPressureFeedbackController @ 0x0002d6a2
//

void boostPressureFeedbackController(void)

{
  uint uVar1;
  
  if (boost_pressure_override_enable != 0) {
    boost_pressure_feedback = throttle_position_value;
    return;
  }
  uVar1 = ((uint)current_engine_rpm << 0x10) /
          ((uint)boost_pressure_scale_divisor_3830 * (uint)fuel_temp_calculated_limit_971c >> 10) >>
          2;
  if (uVar1 < 0x8001) {
    boost_pressure_feedback = (word)uVar1;
  }
  else {
    boost_pressure_feedback = 0x8000;
  }
  if (boost_pressure_feedback_previous < boost_pressure_feedback) {
    if ((int)(uint)time_to_reach_full_derate_during_fuel_press_eng_protec_1_256_65535_256 <
        (int)((uint)boost_pressure_feedback - (uint)boost_pressure_feedback_previous)) {
      boost_pressure_feedback =
           time_to_reach_full_derate_during_fuel_press_eng_protec_1_256_65535_256 +
           boost_pressure_feedback_previous;
    }
  }
  else if ((boost_pressure_feedback < boost_pressure_feedback_previous) &&
          ((int)(uint)time_to_reach_full_derate_during_fuel_press_eng_protec_1_256_65535_256 <
           (int)((uint)boost_pressure_feedback_previous - (uint)boost_pressure_feedback))) {
    boost_pressure_feedback =
         boost_pressure_feedback_previous -
         time_to_reach_full_derate_during_fuel_press_eng_protec_1_256_65535_256;
  }
  boost_pressure_feedback_previous = boost_pressure_feedback;
  return;
}



//
// Function: minimumOfTwoValues @ 0x0002d74a
//

ushort minimumOfTwoValues(undefined4 param_1)

{
  if (param_1._0_2_ < param_1._2_2_) {
    return param_1._0_2_;
  }
  return param_1._2_2_;
}



//
// Function: fuelLimitDecreaseWithFloor @ 0x0002d75e
//

void fuelLimitDecreaseWithFloor(undefined4 param_1)

{
  if (target_boost_pressure_base < param_1._0_2_) {
    target_boost_pressure_base = shutdown_duration_threshold_for_fuel_pressure_fuel_0_65535;
    return;
  }
  target_boost_pressure_base = target_boost_pressure_base - param_1._0_2_;
  if (target_boost_pressure_base < shutdown_duration_threshold_for_fuel_pressure_fuel_0_65535) {
    target_boost_pressure_base = shutdown_duration_threshold_for_fuel_pressure_fuel_0_65535;
  }
  return;
}



//
// Function: fuelLimitIncreaseWithCeiling @ 0x0002d782
//

void fuelLimitIncreaseWithCeiling(undefined4 param_1)

{
  if ((int)(uint)target_boost_pressure_base <
      (int)((uint)fuel_timing_transition_limit - (uint)param_1._0_2_)) {
    target_boost_pressure_base = param_1._0_2_ + target_boost_pressure_base;
    return;
  }
  target_boost_pressure_base = fuel_timing_transition_limit;
  return;
}



//
// Function: boostPressureProtectionStateMachine @ 0x0002d7b4
//

void boostPressureProtectionStateMachine(void)

{
  undefined4 unaff_A2;
  undefined2 uVar1;
  
  uVar1 = (undefined2)((uint)unaff_A2 >> 0x10);
  switch(vp44_diagnostic_mode_state) {
  case INACTIVE:
    protection_system_enable_flag = 0;
    vp44_diagnostic_mode_state_2 = INACTIVE;
    return;
  case BOOST_PRESSURE_INIT:
    target_boost_pressure_base =
         minimumOfTwoValues(CONCAT22(boost_pressure_feedback,fuel_timing_transition_limit));
    protection_system_enable_flag = 1;
    vp44_diagnostic_mode_state_2 = BOOST_PRESSURE_INIT;
    boost_pressure_protection_state_96fa = target_boost_pressure_base;
    break;
  case BOOST_PRESSURE_MONITOR:
    protection_system_enable_flag = 1;
    target_boost_pressure_base = boost_pressure_protection_state_96fa;
    break;
  case SENSOR_BIT8_TRIGGERED:
    fuelLimitDecreaseWithFloor
              (CONCAT22(min_threshold_for_engine_sync_fuel_pressure_rpm_limiting_0_65535,uVar1));
    break;
  case SENSOR_BIT2_PROTECTION:
    fuelLimitIncreaseWithCeiling
              (CONCAT22(time_to_reach_full_derate_during_fuel_press_eng_protec_1_256_65535_256,uVar1
                       ));
    break;
  case SENSOR_TYPE_0_MODE:
    fuelLimitDecreaseWithFloor(CONCAT22(EPFPMNTD,uVar1));
    break;
  case SENSOR_TYPE_1_MODE:
    fuelLimitIncreaseWithCeiling(CONCAT22(EPFPMXTD,uVar1));
    break;
  case EXIT_DISABLED:
    protection_system_enable_flag = 0;
    return;
  }
  if ((vp44_diagnostic_mode_state == SENSOR_BIT8_TRIGGERED) ||
     (boost_pressure_protection_mode_prev != 3)) {
    if ((vp44_diagnostic_mode_state != SENSOR_BIT2_PROTECTION) &&
       (boost_pressure_protection_mode_prev == 4)) {
      if (boost_pressure_protection_state_96fa < boost_pressure_feedback) {
        target_boost_pressure_base =
             minimumOfTwoValues(CONCAT22(boost_pressure_feedback,fuel_timing_transition_limit));
      }
      else {
        target_boost_pressure_base = boost_pressure_protection_state_96fa;
      }
    }
  }
  else if (boost_pressure_feedback < boost_pressure_protection_state_96fa) {
    if (boost_pressure_feedback < shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535) {
      protection_system_enable_flag = 0;
    }
    else {
      target_boost_pressure_base = boost_pressure_feedback;
    }
  }
  else {
    target_boost_pressure_base = boost_pressure_protection_state_96fa;
  }
  if (vp44_diagnostic_mode_state == PROTECTION_CONTINUE) {
    boost_pressure_protection_state_96fa = target_boost_pressure_base;
  }
  if ((fuel_timing_transition_limit < boost_pressure_protection_state_96fa) ||
     (boost_pressure_protection_state_96fa <
      shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535)) {
    vp44_diagnostic_mode_state_2 = INACTIVE;
  }
  else {
    vp44_diagnostic_mode_state_2 = BOOST_PRESSURE_INIT;
  }
  boost_pressure_protection_mode_prev = vp44_diagnostic_mode_state;
  return;
}



//
// Function: fuelLimitEngineStateCapture @ 0x0002d90c
//

ushort fuelLimitEngineStateCapture(void)

{
  ushort uVar1;
  
  uVar1 = diagnostic_system_flags_1 & 0x8000;
  if ((diagnostic_system_flags_1 & 0x8000) != 0) {
    fuel_limit_engine_state_capture = target_boost_pressure_base;
    return uVar1;
  }
  fuel_limit_engine_state_capture = 0;
  return uVar1;
}



//
// Function: fuelLimitRestoreFromCapture @ 0x0002d92c
//

void fuelLimitRestoreFromCapture(void)

{
  boost_pressure_protection_mode_prev = 0;
  if ((shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535 < fuel_limit_engine_state_capture)
     && (fuel_limit_engine_state_capture < fuel_timing_transition_limit)) {
    vp44_diagnostic_mode_state_2 = BOOST_PRESSURE_INIT;
    target_boost_pressure_base = fuel_limit_engine_state_capture;
    boost_pressure_protection_state_96fa = fuel_limit_engine_state_capture;
  }
  return;
}



//
// Function: diagnosticRpmBasedFuelLimitCalculator @ 0x0002d96a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticRpmBasedFuelLimitCalculator(void)

{
  uint uVar1;
  
  if (current_engine_rpm < arbitrated_fuel_limit) {
    protection_fuel_limit_rpm_based = 0x1700;
  }
  else if (fuel_limit_comparison_high == 0) {
    protection_fuel_limit_rpm_based = 0;
  }
  else {
    _rpm_fuel_calculation_scratch =
         (uint)(ushort)((fuel_limit_offset_value + current_engine_rpm) - arbitrated_fuel_limit) <<
         0x10;
    uVar1 = _rpm_fuel_calculation_scratch / ((uint)fuel_limit_comparison_high * 0xf);
    _rpm_fuel_calculation_scratch = (short)(uVar1 >> 0x10);
    _rpm_fuel_calculation_scratch = uVar1;
    if ((_rpm_fuel_calculation_scratch == 0) &&
       (rpm_fuel_calculation_remainder = (word)uVar1,
       rpm_fuel_calculation_remainder < fuel_limit_comparison_low)) {
      protection_fuel_limit_rpm_based = fuel_limit_comparison_low - rpm_fuel_calculation_remainder;
      if (0x1700 < protection_fuel_limit_rpm_based) {
        protection_fuel_limit_rpm_based = 0x1700;
      }
    }
    else {
      protection_fuel_limit_rpm_based = 0;
    }
  }
  return;
}



//
// Function: diagnosticFuelLimitInterpolator @ 0x0002da0e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticFuelLimitInterpolator(void)

{
  int iVar1;
  
  if (protection_system_enable_flag != 1) {
    protection_fuel_limit_alternate = 0x1700;
    return;
  }
  if (target_boost_pressure_base < boost_pressure_feedback) {
    if (_boost_pressure_timer == 0) {
      protection_fuel_limit_alternate = 0;
      return;
    }
    fuel_limit_interpolator_result = 1;
    fuel_limit_timer_divisor = _boost_pressure_timer;
    iVar1 = (uint)boost_pressure_feedback - (uint)target_boost_pressure_base;
  }
  else {
    if (_oil_pressure_timer == 0) {
      protection_fuel_limit_alternate = 0x1700;
      return;
    }
    fuel_limit_interpolator_result = 0;
    fuel_limit_timer_divisor = _oil_pressure_timer;
    iVar1 = (uint)target_boost_pressure_base - (uint)boost_pressure_feedback;
  }
  _rpm_fuel_calculation_scratch = iVar1 * 0x400;
  if (fuel_limit_interpolator_result == 0) {
    _rpm_fuel_calculation_scratch =
         (uint)_oil_pressure_threshold_backup +
         _rpm_fuel_calculation_scratch / fuel_limit_timer_divisor;
  }
  else {
    _rpm_fuel_calculation_scratch =
         (uint)_intake_temp_threshold_backup -
         _rpm_fuel_calculation_scratch / fuel_limit_timer_divisor;
  }
  if (0x1700 < (int)_rpm_fuel_calculation_scratch) {
    protection_fuel_limit_alternate = 0x1700;
    return;
  }
  if ((int)_rpm_fuel_calculation_scratch < 0) {
    protection_fuel_limit_alternate = 0;
    return;
  }
  protection_fuel_limit_alternate = rpm_fuel_calculation_remainder;
  return;
}



//
// Function: engineStateFuelLimitInterpolator @ 0x0002db10
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint engineStateFuelLimitInterpolator(void)

{
  int iVar1;
  uint uVar2;
  
  if (((diagnostic_system_flags_1 & 0x80) == 0) || (fuel_temp_protection_threshold_flag != 0)) {
    protection_fuel_limit_mode_based = 0x1700;
    return diagnostic_system_flags_1 & 0x80;
  }
  if (boost_pressure_max_target < boost_pressure_feedback) {
    if (_intake_temp_calc_result == 0) {
      protection_fuel_limit_mode_based = 0;
      return (uint)boost_pressure_feedback;
    }
    fuel_limit_interpolator_result = 1;
    fuel_limit_timer_divisor = _intake_temp_calc_result;
    iVar1 = (uint)boost_pressure_feedback - (uint)boost_pressure_max_target;
  }
  else {
    if (_boost_pressure_calc_result == 0) {
      protection_fuel_limit_mode_based = 0x1700;
      return (uint)boost_pressure_feedback;
    }
    fuel_limit_interpolator_result = 0;
    fuel_limit_timer_divisor = _boost_pressure_calc_result;
    iVar1 = (uint)boost_pressure_max_target - (uint)boost_pressure_feedback;
  }
  _rpm_fuel_calculation_scratch = iVar1 * 0x400;
  if (fuel_limit_interpolator_result == 0) {
    uVar2 = (uint)_oil_pressure_threshold_active;
    _rpm_fuel_calculation_scratch = uVar2 + _rpm_fuel_calculation_scratch / fuel_limit_timer_divisor
    ;
  }
  else {
    uVar2 = (uint)_intake_temp_threshold_active -
            _rpm_fuel_calculation_scratch / fuel_limit_timer_divisor;
    _rpm_fuel_calculation_scratch = uVar2;
  }
  if (0x1700 < (int)_rpm_fuel_calculation_scratch) {
    protection_fuel_limit_mode_based = 0x1700;
    return uVar2;
  }
  if ((int)_rpm_fuel_calculation_scratch < 0) {
    protection_fuel_limit_mode_based = 0;
    return uVar2;
  }
  protection_fuel_limit_mode_based = rpm_fuel_calculation_remainder;
  return uVar2;
}



//
// Function: fuelTempProtectionLimitCalculator @ 0x0002dc1e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelTempProtectionLimitCalculator(void)

{
  ushort uVar1;
  
  if ((fuel_temp_throttle_threshold <= throttle_position_value) &&
     (engine_operating_mode != ENGINE_IDLE)) {
    if (_timer_capture_average == 0) {
      fuel_temp_protection_limit_3292 = 0xffff;
    }
    else {
      fuel_temp_protection_limit_3292 =
           (word)((_timer_capture_raw * (uint)fuel_temp_calc_multiplier) / _timer_capture_average);
    }
    if (throttle_position_filtered < fuel_temp_protection_limit_3292) {
      uVar1 = fuel_temp_protection_limit_3292 - throttle_position_filtered;
    }
    else {
      uVar1 = throttle_position_filtered - fuel_temp_protection_limit_3292;
    }
    if (((fault_index_indicating_fuel_temperature_rpm_error_detected_0_ffff <
          fuel_temp_protection_limit_3292) &&
        (fuel_temp_protection_limit_3292 <
         time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535)) &&
       (uVar1 <= fault_index_indicating_temperature_fueling_error_detected_0_ffff)) {
      fuel_temp_protection_current = fuel_temp_protection_limit_3292;
      fuel_temp_limit_delta = 0;
      if (fuel_temp_protection_timer_9722 != 0) {
        fuel_temp_protection_timer_9722 = fuel_temp_protection_timer_9722 - 1;
      }
      throttle_position_filtered = coreTableInterpolation();
      fuel_temp_calculated_limit_971c = throttle_position_filtered;
    }
    else {
      fuel_temp_limit_delta = 1;
      fuel_temp_protection_timer_9722 = fuel_temp_timer_init;
      fuel_temp_protection_current = fuel_temp_protection_limit_3292;
      if (fuel_temp_protection_limit_3292 <
          fault_index_indicating_fuel_temperature_rpm_error_detected_0_ffff) {
        fuel_temp_protection_current =
             fault_index_indicating_fuel_temperature_rpm_error_detected_0_ffff;
      }
      else if (time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535 <
               fuel_temp_protection_limit_3292) {
        fuel_temp_protection_current =
             time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535;
      }
      throttle_position_filtered = fuel_temp_protection_current;
      _fuel_temp_protection_state_328e = (uint)fuel_temp_protection_current << 0x10;
    }
    if ((current_engine_rpm < 8000) &&
       (start_duration_for_ambient_air_pressure_rpm_derate_0_65535 < throttle_position_value)) {
      fuel_temp_rpm_timer = start_duration_for_ambient_air_pressure_fueling_derate_0_65535;
    }
    else if (fuel_temp_rpm_timer != 0) {
      fuel_temp_rpm_timer = fuel_temp_rpm_timer - 1;
    }
    if ((fuel_arbitrator_diag_t_0080cff8.fuel_limit == 0 && fuel_temp_protection_timer_9722 == 0) &&
       (fuel_temp_rpm_timer == 0)) {
      fuel_temp_protection_threshold_flag = 0;
    }
    else {
      fuel_temp_protection_threshold_flag = 1;
      fuel_temp_protection_calculator = 1;
    }
    if ((((fuel_temp_calculated_limit_971c == fuel_temp_limit_previous) &&
         (fuel_temp_protection_threshold_flag == 0)) && (fuel_temp_protection_calculator == 1)) &&
       (time_to_reach_full_derate_during_ambient_air_eng_protc_1_256_65535_256 <
        current_fuel_demand_value)) {
      fuel_temp_limit_output_9724 = fuel_temp_calculated_limit_971c;
      fuel_temp_protection_calculator = 0;
    }
    fuel_temp_limit_previous = fuel_temp_calculated_limit_971c;
    return;
  }
  fuel_temp_protection_current =
       threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  throttle_position_filtered = threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  fuel_temp_calculated_limit_971c =
       threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  fuel_temp_limit_output_9724 = threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255
  ;
  fuel_temp_protection_threshold_flag = 1;
  _fuel_temp_protection_state_328e =
       (uint)threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255 << 0x10;
  return;
}



//
// Function: fuelArbitratorVariablesInit @ 0x0002ddea
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelArbitratorVariablesInit(void)

{
  fuel_arbitrator_diag_t_0080cff8.fuel_limit = 0;
  fuel_temp_protection_current =
       threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  throttle_position_filtered = threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  fuel_temp_calculated_limit_971c =
       threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  _fuel_temp_protection_state_328e =
       (uint)threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255 << 0x10;
  fuel_temp_protection_table_ptr =
       (dword)&threshold_for_fuel_temperature_fuel_limiting_to_initiate_shutd_0_255;
  fuel_temp_limit_previous = threshold_for_fuel_temperature_rpm_limiting_to_initiate_shutdo_0_255;
  return;
}



//
// Function: shutdownLimitSelector @ 0x0002de2e
//

ushort shutdownLimitSelector(void)

{
  ushort in_D0w;
  
  if (((fuel_temp_protection_threshold_flag != 0) &&
      (in_D0w = throttle_position_value, boost_pressure_max_target < throttle_position_value)) &&
     (in_D0w = diagnostic_system_flags_1 & 0x80, (diagnostic_system_flags_1 & 0x80) != 0)) {
    shutdown_limit_selector_value = shutdown_limit_selector_param;
    return in_D0w;
  }
  shutdown_limit_selector_value = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  return in_D0w;
}



//
// Function: shutdownMinimumSelector21 @ 0x0002de68
//

void shutdownMinimumSelector21(void)

{
  if (shutdown_limit_selector_value < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = shutdown_limit_selector_value;
    shutdown_minimum_selector_value = SHUTDOWN_LIMIT_SELECTOR;
  }
  return;
}



//
// Function: crankDataBufferStore @ 0x0002de92
//

void crankDataBufferStore(void)

{
  short sVar1;
  
  crank_data_buffer_index = (word)((crank_fuel_buffer_index + 2) % 3);
  *(dword *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fb4) = clutch_operating_time_total;
  *(dword *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fb8) = crank_protection_time_delta;
  if (crank_fuel_timing_buffer_value == 0) {
    sVar1 = crank_data_buffer_index << 4;
    *(uint *)(sVar1 + 0x805fbc) = (uint)crank_protection_divisor * 0x280;
    if (crank_adjusted_initial_fuel_0_100 < 0x6400) {
      *(dword *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fc0) =
           crank_protection_time_delta + (*(int *)(sVar1 + 0x805fbc) - crank_protection_accumulator)
      ;
    }
    else {
      *(dword *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fc0) =
           crank_protection_threshold_time;
    }
  }
  else if (crank_fuel_timing_buffer_value == 3) {
    *(ushort *)((short)crank_data_buffer_index * 2 + 0x805594) =
         (ushort)(crank_fuel_status_flags != 0);
    *(uint *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fc0) =
         (uint)crank_fuel_mode_3_divisor * 0x280;
    *(uint *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fbc) =
         (uint)crank_fuel_mode_3_divisor * 0x280;
  }
  else {
    *(undefined4 *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fc0) = 0;
    *(undefined4 *)((short)(crank_data_buffer_index * 2) * 8 + 0x805fbc) = 0;
  }
  crank_protection_threshold_time = 0;
  crank_protection_accumulator = 0;
  return;
}



//
// Function: crankAndProtectionStateMonitor @ 0x0002dfd0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint crankAndProtectionStateMonitor(void)

{
  undefined4 in_D0;
  uint uVar1;
  ushort uVar2;
  
  uVar1 = CONCAT22((short)((uint)in_D0 >> 0x10),vp44_status_flags_2) & 0xffff2000;
  if ((vp44_status_flags_2 & 0x2000) != 0) {
    if ((((current_engine_rpm == 0) && (system_logging_state == 2)) &&
        (crank_protection_state_index <= min_threshold_for_ambient_air_pressure_fuel_limiting_0_15))
       && (crank_protection_sample_counter < 0xc)) {
      crank_protection_state_flags = 0;
      if (crank_protection_sequence_flag == 1) {
        if (crank_protection_state_index ==
            min_threshold_for_ambient_air_pressure_fuel_limiting_0_15) {
          crank_protection_state_index = 0;
          crank_protection_sample_counter = 0;
        }
        crank_protection_state_index = crank_protection_state_index + 1;
      }
      else {
        crank_protection_state_index = 0;
      }
      if ((derate_status_byte & 8) != 0) {
        crank_protection_state_flags = 2;
      }
      if (crank_derate_status_previous == 1) {
        crank_protection_state_flags = crank_protection_state_flags | 1;
      }
      if (derate_threshold_exceeded == 1) {
        crank_protection_state_flags = crank_protection_state_flags | 8;
      }
      if (crank_derate_threshold_previous == 1) {
        crank_protection_state_flags = crank_protection_state_flags | 4;
      }
      if ((&crank_protection_sequence_table)[(short)crank_protection_sample_counter] ==
          crank_protection_state_flags) {
        crank_derate_threshold_previous = derate_threshold_exceeded;
        crank_derate_status_previous = (word)((derate_status_byte & 8) != 0);
        crank_protection_sample_counter = crank_protection_sample_counter + 1;
        if (4 < crank_protection_sample_counter) {
          crank_protection_sequence_flag = 1;
        }
      }
      if ((crank_protection_sample_counter == 0xc) &&
         (crank_initial_fuel_break_speed_0_1000 = 1, crank_data_buffer_enable_flag == 1)) {
        _crank_state_active_flag = 1;
      }
    }
    if (((current_engine_rpm != 0) && ((engine_fault_register_a & 0x100) != 0)) &&
       ((engine_fault_register_b & 0x100) != 0)) {
      if (engine_fault_a_timer == crank_debounce_threshold) {
        crank_fuel_status_flags = crank_fuel_status_flags | 1;
      }
      else {
        engine_fault_a_timer = engine_fault_a_timer + 1;
      }
    }
    if (((current_engine_rpm != 0) && ((engine_fault_register_a & 0x200) != 0)) &&
       ((engine_fault_register_b & 0x200) != 0)) {
      if (engine_fault_b_timer == crank_debounce_threshold) {
        crank_fuel_status_flags = crank_fuel_status_flags | 0x20;
      }
      else {
        engine_fault_b_timer = engine_fault_b_timer + 1;
      }
    }
    uVar1 = clutch_operating_time_total -
            *(int *)((short)(crank_fuel_buffer_index * 2) * 8 + 0x805fb4);
    crank_protection_time_delta = uVar1;
    if (crank_fuel_timing_buffer_value == 0) {
      crank_lookup_table_selector = 9;
      param_scaling_factor =
           lookupTableInterpolation((table_interp_args_t *)&crank_scaling_lookup_arg);
      uVar2 = (short)clutch_operating_time_total - crank_operating_time_previous;
      _crank_operating_time_snapshot = clutch_operating_time_total;
      uVar2 = (ushort)((uint)uVar2 * (uint)param_scaling_factor >> 8);
      if (-(uint)uVar2 - 1 < crank_protection_accumulator) {
        crank_fuel_status_flags = crank_fuel_status_flags | 8;
      }
      crank_protection_accumulator = uVar2 + crank_protection_accumulator;
      uVar1 = proportionalCalculation
                        (crank_protection_accumulator,0x6400,(uint)crank_protection_divisor * 0x280)
      ;
      crank_adjusted_initial_rpm_0_1000 = (word)uVar1;
      if ((crank_protection_threshold_time == 0) && (0x63ff < crank_adjusted_initial_fuel_0_100)) {
        crank_protection_threshold_time = crank_protection_time_delta;
      }
    }
    else if (crank_fuel_timing_buffer_value == 3) {
      uVar1 = proportionalCalculation(uVar1,0x6400,(uint)crank_fuel_mode_3_divisor * 0x280);
      crank_adjusted_initial_rpm_0_1000 = (word)uVar1;
    }
    else {
      crank_adjusted_initial_rpm_0_1000 = 0;
    }
    if ((crank_initial_advace_break_speed_0_1000 == 1) ||
       ((crank_initial_fuel_break_speed_0_1000 == 1 && (crank_data_buffer_enable_flag == 1)))) {
      uVar1 = crankDataBufferStore();
    }
  }
  return uVar1;
}



//
// Function: calibrationDataValidatorInit @ 0x0002e282
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void calibrationDataValidatorInit(void)

{
  ushort uVar1;
  table_interp_args_t local_10;
  
  uVar1 = 0;
  _crank_operating_time_snapshot = clutch_operating_time_total;
  crank_data_buffer_enable_flag = 1;
  crank_scaling_lookup_arg = 2;
  crank_calibration_table_ptr_1 =
       (dword)&delay_after_rpm_is_reached_before_ambient_air_pressure_errors_0_8000;
  crank_calibration_table_ptr_2 = 0x807188;
  local_10.current_index = 2;
  local_10.x_axis_ptr = 0x80888c;
  local_10.y_axis_ptr = (dword)&max_threshold_for_ambient_air_pressure_fuel_limiting_0_15;
  while ((uVar1 < 6 && (crank_data_buffer_enable_flag == 1))) {
    if ((*(char *)((int)&calibration_validator_ptr + (int)(short)uVar1) == '0') &&
       ((&calibration_validation_buffer)[(short)uVar1] == (byte)((char)uVar1 + 0x41U))) {
      uVar1 = uVar1 + 1;
    }
    else {
      crank_data_buffer_enable_flag = 0;
    }
  }
  if (crank_fuel_timing_buffer_value == 0) {
    local_10.input_value = param_scaling_lookup_value;
    crank_protection_divisor = lookupTableInterpolation(&local_10);
  }
  return;
}



//
// Function: engineParameterControllerWithTimer @ 0x0002e336
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineParameterControllerWithTimer(void)

{
  if (timer_capture_countdown != 0) {
    timer_capture_countdown = timer_capture_countdown - 1;
  }
  if (timer_capture_countdown == 0) {
    clutch_rpm_accumulator = 0;
  }
  else if (_timer_capture_raw < _timer_capture_low_threshold) {
    clutch_rpm_accumulator = clutch_rpm_low_value;
  }
  else if (_timer_capture_high_threshold < _timer_capture_raw) {
    clutch_rpm_accumulator = fuel_temp_throttle_threshold;
  }
  else {
    clutch_rpm_accumulator = (word)(clutch_rpm_calc_numerator / _timer_capture_raw);
  }
  throttle_position_value = coreTableInterpolation();
  return;
}



//
// Function: derateTablePointerInit @ 0x0002e3a8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void derateTablePointerInit(void)

{
  derate_table_init_flag = 0;
  derate_table_pointer = (dword)&derate_table_EPFLTB_008071a8;
  clutch_rpm_calc_numerator =
       proportionalCalculation
                 ((uint)qsm_newqp_multiplier * 0xe1000,500000,_derate_table_pointer_init);
  return;
}



//
// Function: boostPressureTargetCalculator @ 0x0002e3ee
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint boostPressureTargetCalculator(void)

{
  int iVar1;
  uint uVar2;
  undefined4 in_D0;
  uint uVar3;
  dword *pdVar4;
  ushort uVar5;
  word wVar6;
  word wVar7;
  
  uVar3 = CONCAT22((short)((uint)in_D0 >> 0x10),diagnostic_system_flags_1) & 0xffff0100;
  if ((diagnostic_system_flags_1 & 0x100) == 0) {
    boost_pressure_max_target = boost_pressure_target_pointer;
  }
  else {
    if (fuel_temp_protection_current < throttle_position_filtered) {
      iVar1 = (uint)throttle_position_filtered - (uint)fuel_temp_protection_current;
    }
    else {
      iVar1 = (uint)fuel_temp_protection_current - (uint)throttle_position_filtered;
    }
    if (throttle_position_filtered == 0) {
      pdVar4 = &firmware_vector_table_base;
    }
    else {
      pdVar4 = (dword *)((uint)(iVar1 * 0x6400) / (uint)throttle_position_filtered);
      if ((dword *)0x63ff < pdVar4) {
        pdVar4 = &firmware_vector_table_base;
      }
    }
    wVar7 = boost_pressure_target_pointer;
    wVar6 = boost_pressure_target_pointer;
    if ((_boost_pressure_rpm_comparison < (int)(uint)throttle_position_filtered) &&
       (wVar7 = boost_pressure_high_limit, wVar6 = boost_pressure_low_limit,
       _boost_pressure_rpm_threshold < (int)(uint)throttle_position_filtered)) {
      wVar7 = boost_pressure_high_limit - boost_pressure_high_offset;
      wVar6 = boost_pressure_low_limit - boost_pressure_low_offset;
    }
    uVar2 = (int)(short)boost_pressure_state_machine - 1;
    uVar3 = uVar2;
    if (uVar2 < 6) {
      uVar3 = CONCAT22((short)(uVar2 >> 0x10),(&switchD_0002e4d8::switchdataD_0002e4dc)[uVar2]);
      uVar5 = (ushort)pdVar4;
      switch(uVar2) {
      case 0:
        uVar3 = (uint)throttle_position_filtered;
        if (_boost_pressure_rpm_comparison < (int)uVar3) {
          boost_pressure_state_machine = 2;
          boost_pressure_max_target = wVar6;
        }
        else {
          boost_pressure_state_machine = 6;
          boost_pressure_max_target = wVar6;
        }
        break;
      case 1:
        boost_pressure_interp_state = 0x64000000;
        boost_pressure_interpolation_result = 0x6400;
        boost_pressure_state_machine = 3;
        boost_pressure_max_target = wVar6;
        break;
      case 2:
        boost_pressure_interpolation_result = coreTableInterpolation();
        uVar3 = (uint)throttle_position_filtered;
        if ((_boost_pressure_rpm_comparison < (int)uVar3) &&
           (uVar5 <= boost_pressure_state_3_threshold)) {
          uVar3 = (uint)boost_pressure_interpolation_result;
          if (boost_pressure_interpolation_result <= boost_pressure_interp_threshold) {
            boost_pressure_state_machine = 4;
          }
        }
        else {
          boost_pressure_state_machine = 1;
        }
        break;
      case 3:
        boost_pressure_max_target = throttle_position_value;
        if ((wVar7 <= throttle_position_value) &&
           (wVar7 = boost_pressure_max_target, wVar6 < throttle_position_value)) {
          wVar7 = wVar6;
        }
        boost_pressure_max_target = wVar7;
        boost_pressure_state_machine = 5;
        break;
      case 4:
        if (wVar7 < boost_pressure_max_target) {
          boost_pressure_max_target = boost_pressure_max_target - boost_pressure_decrement_rate;
        }
        uVar3 = (uint)throttle_position_filtered;
        if ((_boost_pressure_rpm_comparison < (int)uVar3) &&
           (uVar5 <= boost_pressure_state_3_threshold)) {
          uVar3 = (uint)smoke_limiter_output_value;
          if (boost_pressure_smoke_threshold < smoke_limiter_output_value) {
            boost_pressure_state_machine = 2;
          }
        }
        else {
          boost_pressure_state_machine = 1;
        }
        break;
      case 5:
        boost_pressure_active_flag = 0;
        uVar3 = (uint)throttle_position_filtered;
        if ((_boost_pressure_rpm_comparison < (int)uVar3) ||
           (boost_pressure_max_target = wVar6, boost_pressure_state_6_threshold < uVar5)) {
          boost_pressure_state_machine = 1;
          boost_pressure_max_target = wVar6;
        }
      }
    }
    if ((derate_status_byte & 8) != 0) {
      boost_pressure_state_machine = 5;
    }
    if (boost_pressure_state_machine != 6) {
      boost_pressure_active_flag = 1;
      return uVar3;
    }
  }
  return uVar3;
}



//
// Function: boostPressureControlStateInit @ 0x0002e5fe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void boostPressureControlStateInit(void)

{
  uint uVar1;
  
  boost_pressure_state_machine = 1;
  boost_pressure_active_flag = 1;
  boost_pressure_max_target = boost_pressure_target_pointer;
  boost_pressure_interpolation_result = smoke_limiter_output_value;
  boost_pressure_interp_state = 0x64000000;
  boost_pressure_table_pointer = (dword)&boost_pressure_stats_threshold_71b6;
  _boost_pressure_rpm_comparison =
       ((uint)vp44_boost_pressure_reference *
       ((int)&firmware_vector_table_base + (uint)boost_pressure_offset_factor)) / 0x6400;
  if (time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535 <
      _boost_pressure_rpm_comparison) {
    _boost_pressure_rpm_comparison =
         (uint)time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535;
  }
  else {
    _boost_pressure_rpm_comparison = _boost_pressure_rpm_comparison & 0xffff;
  }
  uVar1 = (((int)&firmware_vector_table_base + (uint)boost_pressure_offset_factor) *
          (uint)vp44_timing_base_value) / 0x6400;
  if (time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535 < uVar1) {
    _boost_pressure_rpm_threshold =
         (uint)time_duration_to_warn_driver_before_shutdown_due_to_fuel_tem_0_65535;
    return;
  }
  _boost_pressure_rpm_threshold = uVar1 & 0xffff;
  return;
}



//
// Function: accumulatorWithOverflowCarry @ 0x0002e6c2
//

undefined4 accumulatorWithOverflowCarry(uint *param_1,uint *param_2)

{
  dword dVar1;
  uint uVar2;
  ushort uVar3;
  
  dVar1 = clutch_rpm_proportional_calc_974c;
  uVar3 = 0;
  *param_1 = clutch_rpm_proportional_calc_974c + *param_1;
  if (0xfffff < *param_1) {
    uVar2 = *param_1 >> 0x14;
    uVar3 = (ushort)(-uVar2 - 1 <= *param_2);
    *param_2 = uVar2 + *param_2;
    dVar1 = uVar2 * 0x100000;
    *param_1 = *param_1 + uVar2 * -0x100000;
  }
  return CONCAT22((short)(dVar1 >> 0x10),uVar3);
}



//
// Function: fuelDemandStatisticsAccumulator @ 0x0002e702
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDemandStatisticsAccumulator(void)

{
  if ((protection_system_enable_flag == 1) &&
     (((vp44_engine_state == 9 && (cached_parameter_value < current_fuel_demand_value)) ||
      ((vp44_engine_state != 9 &&
       ((cached_parameter_value < protection_fuel_limit_alternate || (active_derate_value == 0))))))
     )) {
    _fuel_demand_statistics_flags = _fuel_demand_statistics_flags + 1;
    fuel_demand_exceeded_counter_62a6 = fuel_demand_exceeded_counter_62a6 + 1;
    accumulatorWithOverflowCarry
              (&fuel_demand_exceeded_accumulator_629e,&fuel_demand_exceeded_arg_62aa);
  }
  if (vp44_engine_state == 10) {
    fuel_source_10_statistics_counter_628a = fuel_source_10_statistics_counter_628a + 1;
    accumulatorWithOverflowCarry
              (&fuel_source_10_time_accumulator_62a2,&fuel_source_10_time_arg_62ae);
  }
  return;
}



//
// Function: boostPressureStatisticsAccumulator @ 0x0002e786
//

void boostPressureStatisticsAccumulator(void)

{
  if ((fuel_timing_control_value != 0) &&
     (boost_pressure_stats_threshold_71d4 < clutch_rpm_accumulator)) {
    accumulatorWithOverflowCarry
              ((uint *)&boost_pressure_stats_accumulator_625c,&boost_pressure_stats_arg_6292);
  }
  return;
}



//
// Function: fuelLimitExceedanceStatisticsAccumulator @ 0x0002e7b0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelLimitExceedanceStatisticsAccumulator(void)

{
  if (_boost_pressure_rpm_comparison < (int)(uint)fuel_temp_calculated_limit_971c) {
    fuel_temp_exceedance_timer = 0;
  }
  else if (fuel_temp_exceedance_timer < fuel_temp_exceedance_threshold) {
    fuel_temp_exceedance_timer = fuel_temp_exceedance_timer + 1;
  }
  else {
    fuel_temp_exceedance_counter_628e = fuel_temp_exceedance_counter_628e + 1;
    accumulatorWithOverflowCarry
              (&fuel_temp_exceedance_accumulator_62b6,&fuel_temp_exceedance_arg_62be);
  }
  if ((_boost_pressure_rpm_comparison < (int)(uint)fuel_temp_calculated_limit_971c) &&
     ((int)(uint)fuel_temp_calculated_limit_971c <= _boost_pressure_rpm_threshold)) {
    if (fuel_limit_near_threshold <= fuel_limit_near_exceedance_timer) {
      fuel_limit_exceedance_counter_1_6282 = fuel_limit_exceedance_counter_1_6282 + 1;
      accumulatorWithOverflowCarry
                (&fuel_limit_near_exceedance_accum_62b2,&fuel_limit_near_exceedance_arg_62ba);
      return;
    }
    fuel_limit_near_exceedance_timer = fuel_limit_near_exceedance_timer + 1;
    return;
  }
  fuel_limit_near_exceedance_timer = 0;
  return;
}



//
// Function: rpmHistogramAndProtectionStatisticsAccumulator @ 0x0002e84a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void rpmHistogramAndProtectionStatisticsAccumulator(void)

{
  ushort uVar1;
  
  if ((_rpm_protection_stats_index_62ca < throttle_position_value) && (active_derate_value != 0)) {
    _rpm_protection_stats_index_62ca = throttle_position_value;
  }
  uVar1 = throttle_position_value >> 8;
  if (uVar1 == 0) {
    _rpm_protection_statistics_buffer = _rpm_protection_statistics_buffer + 1;
  }
  else if (1 < uVar1) {
    if (uVar1 < 0x98) {
      *(int *)(&rpm_protection_statistics_buffer + (short)uVar1 * 4) =
           *(int *)(&rpm_protection_statistics_buffer + (short)uVar1 * 4) + 1;
    }
    else {
      rpm_protection_overflow_counter = rpm_protection_overflow_counter + 1;
    }
  }
  if ((high_rpm_protection_state == SHUTDOWN_PENDING) && (high_rpm_state_4_latch_flag == 0)) {
    rpm_protection_stats_counter = rpm_protection_stats_counter + 1;
    high_rpm_state_4_latch_flag = 1;
    high_rpm_state_3_latch_flag = 0;
  }
  if ((high_rpm_protection_state == FAULT_TRIGGERED) && (high_rpm_state_3_latch_flag == 0)) {
    rpm_protection_stats_accumulator = rpm_protection_stats_accumulator + 1;
    high_rpm_state_3_latch_flag = 1;
    high_rpm_state_4_latch_flag = 0;
  }
  if ((high_rpm_protection_state != SHUTDOWN_PENDING) &&
     (high_rpm_protection_state != FAULT_TRIGGERED)) {
    high_rpm_state_3_latch_flag = 0;
    high_rpm_state_4_latch_flag = 0;
  }
  return;
}



//
// Function: clutchOperatingStatisticsTracker @ 0x0002e8f2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort clutchOperatingStatisticsTracker(void)

{
  undefined4 uVar1;
  ushort uVar2;
  undefined4 *puVar3;
  
  if (fuel_statistics_init_flag == 1) {
    fuel_statistics_init_flag = 0;
    uVar2 = 0;
    puVar3 = (undefined4 *)&rpm_protection_statistics_buffer;
    do {
      *puVar3 = 0;
      uVar2 = uVar2 + 1;
      puVar3 = puVar3 + 1;
    } while (uVar2 < 0x97);
    _clutch_time_accumulator_1_6258 = 0;
    _boost_pressure_stats_accumulator_625c = 0;
    clutch_time_accumulator_2_6260 = 0;
    clutch_time_accumulator_3_6264 = 0;
    _clutch_transitions_counter_0_100 = 0;
    clutch_transition_accumulator_6274 = 0;
    clutch_statistics_status_flags_6278 = 0;
    derate_event_counter_627a = 0;
    clutch_slip_event_counter_627c = 0;
    _fuel_demand_statistics_flags = 0;
    fuel_limit_exceedance_counter_1_6282 = 0;
    fuel_source_10_statistics_counter_628a = 0;
    fuel_temp_exceedance_counter_628e = 0;
    boost_pressure_stats_arg_6292 = 0;
    derate_time_accumulator_6296 = 0;
    derate_time_accumulator_arg_629a = 0;
    fuel_demand_exceeded_accumulator_629e = 0;
    fuel_source_10_time_accumulator_62a2 = 0;
    fuel_demand_exceeded_counter_62a6 = 0;
    fuel_demand_exceeded_arg_62aa = 0;
    fuel_source_10_time_arg_62ae = 0;
    fuel_limit_near_exceedance_accum_62b2 = 0;
    fuel_temp_exceedance_accumulator_62b6 = 0;
    fuel_limit_near_exceedance_arg_62ba = 0;
    fuel_temp_exceedance_arg_62be = 0;
    rpm_protection_stats_counter = 0;
    rpm_protection_stats_accumulator = 0;
    _rpm_protection_stats_index_62ca = 0;
    clutch_rpm_proportional_calc_974c = 0;
    fuel_temp_protection_counter_1_5fa2 = 0;
    fuel_temp_protection_counter_2_5fa6 = 0;
  }
  uVar2 = diagnostic_system_flags_1 & 0x200;
  if (uVar2 != 0) {
    clutch_rpm_proportional_calc_974c =
         proportionalCalculation
                   ((uint)clutch_rpm_previous_32c8 + (uint)clutch_rpm_accumulator,0x20000,36000);
    if (engine_runtime_statistics_accumulator == 0) {
      if (clutch_rpm_proportional_calc_974c == 0) {
        clutch_statistics_ratio_calc_9750 = 0;
        fuel_economy_statistics_output = 0;
      }
      else {
        clutch_statistics_ratio_calc_9750 = 0xffffffff;
        fuel_economy_statistics_output = 0xffff;
      }
    }
    else {
      if (clutch_rpm_proportional_calc_974c / engine_runtime_statistics_accumulator < 0x7ff) {
        clutch_statistics_ratio_calc_9750 =
             proportionalCalculation
                       (clutch_rpm_proportional_calc_974c,0x200000,
                        engine_runtime_statistics_accumulator);
      }
      else {
        clutch_statistics_ratio_calc_9750 = 0xffffffff;
      }
      if (clutch_statistics_ratio_calc_9750 >> 0x10 < 0x10000) {
        fuel_economy_statistics_output = (word)(clutch_statistics_ratio_calc_9750 >> 0x10);
      }
      else {
        fuel_economy_statistics_output = 0xffff;
      }
    }
    uVar1 = accumulatorWithOverflowCarry
                      ((uint *)&clutch_time_accumulator_1_6258,
                       (uint *)&counts_time_percent_load_is_low_for_const_freq_alg_0_100);
    if ((short)uVar1 == 1) {
      clutch_statistics_status_flags_6278 = clutch_statistics_status_flags_6278 | 8;
    }
    uVar1 = accumulatorWithOverflowCarry
                      (&clutch_time_accumulator_2_6260,&clutch_operating_time_total);
    if ((short)uVar1 == 1) {
      clutch_statistics_status_flags_6278 = clutch_statistics_status_flags_6278 | 4;
    }
    uVar1 = accumulatorWithOverflowCarry
                      (&clutch_time_accumulator_3_6264,&clutch_transition_accumulator_6274);
    if ((short)uVar1 == 1) {
      clutch_statistics_status_flags_6278 = clutch_statistics_status_flags_6278 | 0x20;
    }
    if ((((engine_fault_register_a & 0x100) == 0) || ((engine_fault_register_b & 0x100) == 0)) &&
       (((engine_fault_register_a & 0x200) == 0 || ((engine_fault_register_b & 0x200) == 0)))) {
      fault_presence_timer = 0;
    }
    else if (the_minimum_time_a_fault_must_be_present_before_logged_in_trip_in_0_30 <
             fault_presence_timer) {
      clutch_statistics_status_flags_6278 = clutch_statistics_status_flags_6278 | 0x13;
    }
    else {
      fault_presence_timer = fault_presence_timer + 1;
    }
    if (clutch_operating_stats_value == 0) {
      if (clutch_transition_accumulator_6274 == 0) {
        _clutch_transitions_counter_0_100 = 0;
      }
      else {
        _clutch_transitions_counter_0_100 = 0xffffffff;
      }
    }
    else if (clutch_transition_accumulator_6274 / clutch_operating_stats_value < 0x3ff) {
      _clutch_transitions_counter_0_100 =
           proportionalCalculation
                     (clutch_transition_accumulator_6274,0x400000,clutch_operating_stats_value);
    }
    else {
      _clutch_transitions_counter_0_100 = 0xffffffff;
    }
    vehicle_distance_statistics_value = vehicle_distance_base_value + clutch_operating_time_total;
    vehicle_distance_clutch_value = clutch_transition_accumulator_6274;
    if (_clutch_transitions_counter_0_100 >> 0x11 < 0x10000) {
      clutch_transitions_per_distance = (word)(_clutch_transitions_counter_0_100 >> 0x11);
    }
    else {
      clutch_transitions_per_distance = 0xffff;
    }
    if ((derate_status_byte & 8) == 0) {
      derate_event_state_machine_32da = NO_DERATE;
    }
    else {
      if (derate_event_state_machine_32da == NO_DERATE) {
        derate_event_state_machine_32da = TIMING_ACTIVE;
        derate_event_timer_32ca = 0;
      }
      else if ((derate_event_state_machine_32da == TIMING_ACTIVE) &&
              (derate_event_timer_32ca < _derate_event_threshold_time)) {
        derate_event_timer_32ca = derate_event_timer_32ca + 1;
      }
      else {
        derate_event_counter_627a = derate_event_counter_627a + 1;
        derate_event_state_machine_32da = EVENT_COUNTED;
      }
      accumulatorWithOverflowCarry(&derate_time_accumulator_6296,&derate_time_accumulator_arg_629a);
    }
    clutch_sample_divider_32d0 = clutch_sample_divider_32d0 + 1;
    if (clutch_sample_divider_32d0 == 10) {
      clutch_sample_divider_32d0 = 0;
      _clutch_rpm_delta_32cc = (uint)clutch_rpm_previous_32c8 - (uint)clutch_rpm_accumulator;
      if ((clutch_slip_detection_state_32d8 == 0) &&
         (_clutch_slip_threshold <= _clutch_rpm_delta_32cc)) {
        clutch_slip_detection_state_32d8 = 1;
        clutch_slip_event_counter_627c = clutch_slip_event_counter_627c + 1;
      }
      else if (_clutch_rpm_delta_32cc < _clutch_slip_threshold) {
        clutch_slip_detection_state_32d8 = 0;
      }
      clutch_rpm_previous_32c8 = clutch_rpm_accumulator;
    }
    if (current_engine_rpm_raw != 0) {
      fuelDemandStatisticsAccumulator();
      boostPressureStatisticsAccumulator();
      fuelLimitExceedanceStatisticsAccumulator();
    }
    uVar2 = rpmHistogramAndProtectionStatisticsAccumulator();
  }
  return uVar2;
}



//
// Function: statisticsTrackingFlagsReset @ 0x0002ecec
//

void statisticsTrackingFlagsReset(void)

{
  derate_event_state_machine_32da = NO_DERATE;
  clutch_slip_detection_state_32d8 = 0;
  high_rpm_state_4_latch_flag = 0;
  high_rpm_state_3_latch_flag = 0;
  return;
}



//
// Function: timerCaptureAverageCalculator @ 0x0002ed06
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 timerCaptureAverageCalculator(void)

{
  undefined4 in_D0;
  undefined4 in_D1;
  
  can1_canidmr2 = can1_canidmr2 & 0xfffb;
  timer_capture_countdown = timer_capture_init_value;
  _timer_capture_raw = _QSM_SPCR2;
  _QSM_SPCR2 = _QSM_SPCR2 & 0xffff;
  if (engine_rpm_source_selector == 0) {
    if (timer_capture_delta_count == 0) {
      _timer_capture_average = 0;
    }
    else {
      _timer_capture_average = rpm_period_accumulator / timer_capture_delta_count;
    }
    rpm_period_accumulator = 0;
    timer_capture_delta_count = 0;
  }
  else if (engine_rpm_source_selector == 1) {
    if (timer_capture_sample_count == 0) {
      _timer_capture_average = 0;
    }
    else {
      _timer_capture_average = timer_capture_accumulator / timer_capture_sample_count;
    }
    timer_capture_accumulator = 0;
    timer_capture_sample_count = 0;
  }
  return CONCAT44(in_D0,in_D1);
}



//
// Function: timerCaptureHardwareInit @ 0x0002ed96
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void timerCaptureHardwareInit(void)

{
  can1_canidmr2 = can1_canidmr2 & 0xfffb;
  timer_capture_hardware_init_address = (dword)timerCaptureAverageCalculator;
  can1_cantxerr = can1_cantxerr & 0xf0ff | 0xd00;
  QSM_NEWQP = qsm_newqp_multiplier << 8;
  QSM_SPCR1 = 0;
  _QSM_SPCR2 = 0;
  QSM_SPCR3 = 0xb;
  can1_canidar1 = can1_canidar1 & 0xffcf | 0x30;
  can1_canidar3 = can1_canidar3 & 0xffcf | 0x30;
  can1_cantbsel = can1_cantbsel & 0xfffb | 4;
  can1_canidmr1 = can1_canidmr1 & 0xffcf | 0x20;
  return;
}



//
// Function: vp44FaultThresholdTablesInit @ 0x0002ee28
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FaultThresholdTablesInit(void)

{
  vp44_fault_accumulator_1 = 0;
  _vp44_fault_accumulator_2 = 0;
  vp44_fault_protection_counter_5fec = 0;
  vp44_protection_threshold_value = 0;
  vp44_fault_protection_timer = 0;
  vp44_fault_protection_counter_5ff2 = 0;
  vp44_fuel_table_lookup_1 = coreTableInterpolation();
  vp44_fuel_table_lookup_2 = coreTableInterpolation();
  vp44_timing_table_lookup_1 = coreTableInterpolation();
  vp44_timing_table_lookup_2 = coreTableInterpolation();
  return;
}



//
// Function: vp44FaultProtectionController @ 0x0002eeac
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FaultProtectionController(void)

{
  bool bVar1;
  uint uVar2;
  ushort uVar3;
  short sVar4;
  word wVar5;
  dword *pdVar6;
  
  if (vp44_fault_protection_init_flag == 0) {
    if (((((engine_fault_register_a & 0x100) != 0) && ((engine_fault_register_b & 0x100) != 0)) ||
        (((engine_fault_register_a & 0x200) != 0 && ((engine_fault_register_b & 0x200) != 0)))) &&
       (vp44_fault_protection_threshold < fuel_arbitrator_threshold_2)) {
      fuel_arbitrator_threshold_2 = vp44_fault_protection_threshold;
    }
    uVar2 = proportionalCalculation
                      ((uint)boost_pressure_target_pointer,
                       (uint)vp44_boost_pressure_reference *
                       ((uint)vp44_fault_calc_factor_1 * (uint)vp44_fault_calc_factor_2 >> 7 &
                       0xffff) >> 0xb & 0xffff,0x100);
    uVar2 = proportionalCalculation(uVar2,8,0x3c);
    if (uVar2 < 0x10000) {
      vp44_fault_threshold_calc = (word)uVar2;
    }
    else {
      vp44_fault_threshold_calc = 0xffff;
    }
    sVar4 = (short)((uint)vp44_boost_pressure_reference * (uint)vp44_fault_tolerance_factor >> 0xb);
    vp44_fuel_limit_upper = sVar4 + vp44_boost_pressure_reference;
    vp44_fuel_limit_lower = vp44_boost_pressure_reference - sVar4;
    uVar3 = vp44_timing_base_value;
    if (0x7ffc < vp44_timing_base_value) {
      uVar3 = vp44_timing_base_value - 1;
    }
    sVar4 = (short)((uint)uVar3 * (uint)vp44_fault_tolerance_factor >> 0xb);
    vp44_timing_limit_upper = sVar4 + uVar3;
    vp44_timing_limit_lower = uVar3 - sVar4;
    vp44_fault_protection_init_flag = 1;
  }
  if (((((vp44_status_flags_2 & 0x100) != 0) && (vp44_fault_detection_enable != 0)) &&
      (clutch_rpm_accumulator == 0)) &&
     ((vp44_throttle_threshold < throttle_position_value && ((derate_status_byte & 8) == 0)))) {
    vp44_fault_source_code = 2;
    fuel_arbitrator_threshold_2 = vp44_fault_protection_threshold;
    engine_fault_register_a = engine_fault_register_a | 0x100;
    engine_fault_register_c = engine_fault_register_c | 0x100;
  }
  if ((((vp44_status_flags_2 & 0x200) != 0) && (oil_pressure_protection_enabled == 0)) &&
     ((vp44_fault_detection_enable != 0 && (throttle_position_value == 0)))) {
    if ((vp44_derate_exceeded_previous == 0) && (derate_threshold_exceeded == 1)) {
      vp44_derate_exceeded_counter = vp44_derate_exceeded_counter + 1;
    }
    if (blank_spot_for_esdn_backwards_compatibility_0_0_1 < current_engine_rpm) {
      if ((~vp44_derate_bit8_previous & (derate_status_byte & 8) != 0) != 0) {
        vp44_derate_bit8_counter = vp44_derate_bit8_counter + 1;
      }
      if ((~vp44_derate_bit4_previous & (derate_status_byte & 4) != 0) != 0) {
        vp44_derate_bit4_counter = vp44_derate_bit4_counter + 1;
      }
    }
    if ((fueling_value_above_which_wet_stack_timing_is_set_to_zero_0_100 <=
         vp44_derate_exceeded_counter) &&
       ((vp44_derate_bit8_limit <= vp44_derate_bit8_counter ||
        (vp44_derate_bit4_limit <= vp44_derate_bit4_counter)))) {
      vp44_fault_source_code = 1;
      fuel_arbitrator_threshold_2 = vp44_fault_protection_threshold;
      engine_fault_register_a = engine_fault_register_a | 0x100;
      engine_fault_register_c = engine_fault_register_c | 0x100;
    }
  }
  if (((clutch_rpm_accumulator != 0) || (oil_pressure_protection_enabled == 1)) ||
     (((vp44_status_flags_2 & 0x100) == 0 && ((vp44_status_flags_2 & 0x200) == 0)))) {
    if (((engine_fault_register_a & 0x100) != 0) && ((engine_fault_register_c & 0x100) == 0)) {
      engine_fault_register_a = engine_fault_register_a & 0xfeff;
      fuel_arbitrator_threshold_2 = oil_pressure_precrank_status;
    }
    vp44_derate_exceeded_counter = 0;
    vp44_derate_bit4_counter = 0;
    vp44_derate_bit8_counter = 0;
  }
  if (((vp44_fault_detection_enable != 0) && (oil_pressure_protection_enabled == 0)) &&
     ((vp44_status_flags_1 & 0x80) != 0)) {
    if (((engine_fault_register_a & 0x100) == 0) || ((engine_fault_register_b & 0x100) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((engine_fault_register_a & 0x200) == 0) || ((engine_fault_register_b & 0x200) == 0)) {
        if (fuel_temp_throttle_threshold < throttle_position_value) {
          if ((vp44_fault_mode_flags & 1) != 0) {
            if ((short)vp44_fuel_temp_previous < (short)fuel_temp_calculated_limit_971c) {
              uVar3 = fuel_temp_calculated_limit_971c - vp44_fuel_temp_previous;
            }
            else {
              uVar3 = vp44_fuel_temp_previous - fuel_temp_calculated_limit_971c;
            }
            if (vp44_fuel_temp_delta_threshold < uVar3) {
              if (vp44_fault_protection_counter_5fec == 0) {
                vp44_fault_protection_counter_5fec = 1;
                vp44_clutch_rpm_snapshot = clutch_rpm_accumulator;
              }
              else {
                vp44_fuel_temp_previous = fuel_temp_calculated_limit_971c;
              }
            }
            if (vp44_fault_protection_counter_5fec != 0) {
              if (vp44_fault_counter_threshold_1 < vp44_fault_protection_counter_5fec) {
                if (vp44_fault_protection_timer < vp44_fault_timer_threshold) {
                  vp44_fault_protection_counter_5ff2 = vp44_fault_protection_counter_5ff2 + 1;
                  if (vp44_fault_counter_threshold_2 < vp44_fault_protection_counter_5ff2) {
                    engine_fault_register_a = engine_fault_register_a | 0x200;
                    engine_fault_register_c = engine_fault_register_c | 0x200;
                    vp44_fault_source_code = 3;
                    fuel_arbitrator_threshold_2 = vp44_fault_protection_threshold;
                  }
                  else {
                    vp44_fault_protection_counter_5fec = 0;
                    vp44_fault_protection_timer = 0;
                  }
                }
                else {
                  vp44_fault_protection_counter_5fec = 0;
                  vp44_fault_protection_timer = 0;
                }
              }
              else {
                vp44_fault_protection_counter_5fec = vp44_fault_protection_counter_5fec + 1;
                if (smoke_limiter_output_value < vp44_smoke_limiter_threshold) {
                  vp44_fault_protection_timer = vp44_fault_protection_timer + 1;
                }
                if ((short)vp44_clutch_rpm_snapshot < (short)clutch_rpm_accumulator) {
                  uVar3 = clutch_rpm_accumulator - vp44_clutch_rpm_snapshot;
                }
                else {
                  uVar3 = vp44_clutch_rpm_snapshot - clutch_rpm_accumulator;
                }
                if (vp44_clutch_rpm_delta_threshold < uVar3) {
                  vp44_fault_protection_counter_5fec = 0;
                  vp44_fault_protection_counter_5ff2 = 0;
                  vp44_fault_protection_timer = 0;
                  vp44_clutch_rpm_snapshot = clutch_rpm_accumulator;
                  vp44_fuel_temp_previous = fuel_temp_calculated_limit_971c;
                }
              }
            }
          }
          if ((vp44_fault_mode_flags & 4) != 0) {
            pdVar6 = &oil_pressure_fault_table_ptr;
            wVar5 = current_engine_rpm_raw;
            vp44_fuel_table_lookup_1 = coreTableInterpolation();
            vp44_fuel_table_lookup_2 = coreTableInterpolation(0x80,wVar5,pdVar6);
            if (vp44_fault_counter_limit_1 < vp44_fault_accumulator_1) {
              engine_fault_register_a = engine_fault_register_a | 0x200;
              engine_fault_register_c = engine_fault_register_c | 0x200;
              vp44_fault_source_code = 4;
              fuel_arbitrator_threshold_2 = vp44_fault_protection_threshold;
            }
            else if (((fuel_temp_protection_threshold_flag == 0) ||
                     (vp44_fuel_table_lookup_1 <= vp44_fault_threshold_calc)) ||
                    (vp44_fuel_table_lookup_2 <= vp44_table_compare_threshold)) {
              vp44_fault_accumulator_1 = 0;
            }
            else {
              vp44_fault_accumulator_1 = vp44_fault_accumulator_1 + 1;
            }
          }
          if ((vp44_fault_mode_flags & 2) != 0) {
            pdVar6 = &oil_pressure_table_3_pointer;
            wVar5 = current_engine_rpm_raw;
            vp44_timing_table_lookup_1 = coreTableInterpolation();
            vp44_timing_table_lookup_2 = coreTableInterpolation(0x80,wVar5,pdVar6);
            if (_vp44_fault_counter_limit_2 < _vp44_fault_accumulator_2) {
              engine_fault_register_a = engine_fault_register_a | 0x200;
              engine_fault_register_c = engine_fault_register_c | 0x200;
              vp44_fault_source_code = 5;
              fuel_arbitrator_threshold_2 = vp44_fault_protection_threshold;
            }
            else if (((fuel_temp_calculated_limit_971c == vp44_fuel_limit_upper) ||
                     (fuel_temp_calculated_limit_971c == vp44_fuel_limit_lower)) ||
                    (((fuel_temp_calculated_limit_971c == vp44_timing_limit_upper ||
                      ((fuel_temp_calculated_limit_971c == vp44_timing_limit_lower ||
                       (vp44_timing_table_lookup_1 <= vp44_fault_threshold_calc)))) ||
                     (vp44_timing_table_lookup_2 <= vp44_table_compare_threshold)))) {
              _vp44_fault_accumulator_2 = 0;
            }
            else {
              _vp44_fault_accumulator_2 = _vp44_fault_accumulator_2 + 1;
            }
          }
        }
        else {
          vp44FaultThresholdTablesInit();
        }
      }
      else if ((vp44_protection_recovery_threshold < vp44_protection_threshold_value) ||
              ((((vp44_fault_mode_flags & 1) == 0 && ((vp44_fault_mode_flags & 2) == 0)) &&
               ((vp44_fault_mode_flags & 4) == 0)))) {
        if (((engine_fault_register_a & 0x200) != 0) && ((engine_fault_register_c & 0x200) == 0)) {
          engine_fault_register_a = engine_fault_register_a & 0xfdff;
          fuel_arbitrator_threshold_2 = oil_pressure_precrank_status;
          vp44FaultThresholdTablesInit();
        }
      }
      else if (throttle_position_value == 0 && current_engine_rpm == 0) {
        vp44_protection_threshold_value = vp44_protection_threshold_value + 1;
      }
      else {
        vp44_protection_threshold_value = 0;
      }
      goto LAB_0002f5b6;
    }
  }
  if ((((vp44_status_flags_1 & 0x80) == 0) && ((engine_fault_register_a & 0x200) != 0)) &&
     ((engine_fault_register_c & 0x200) == 0)) {
    engine_fault_register_a = engine_fault_register_a & 0xfdff;
    fuel_arbitrator_threshold_2 = oil_pressure_precrank_status;
  }
  vp44FaultThresholdTablesInit();
LAB_0002f5b6:
  vp44_derate_bit8_previous = -((derate_status_byte & 8) != 0) & 1;
  vp44_derate_bit4_previous = -((derate_status_byte & 4) != 0) & 1;
  vp44_derate_exceeded_previous = derate_threshold_exceeded;
  return;
}



//
// Function: oilPressureTablePointersInit @ 0x0002f5f2
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void oilPressureTablePointersInit(void)

{
  _oil_pressure_table_1_offset = 0;
  oil_pressure_fault_table_ptr = 0x8071ec;
  _oil_pressure_table_2_offset = 0;
  oil_pressure_table_1_pointer = 0x8071ec;
  _oil_pressure_table_3_offset = 0;
  oil_pressure_table_3_pointer = 0x8071f6;
  _oil_pressure_table_4_offset = 0;
  oil_pressure_table_4_pointer = 0x8071f6;
  vp44_fuel_temp_previous = 0x7ffd;
  vp44_fault_mode_flags =
       *(word *)((uint)(byte)((byte)oil_pressure_mode_flag_1 |
                             (char)oil_pressure_mode_flag_2 * '\x02') * 2 + 0x8071fc);
  return;
}



//
// Function: oilPressureFuelArbitrationMonitor @ 0x0002f662
//

ushort oilPressureFuelArbitrationMonitor(void)

{
  word wVar1;
  
  wVar1 = oil_pressure_debounce_counter;
  if (oil_pressure_protection_enabled == 1) {
    if ((diagnostic_system_flags_2 & 0x8000) == 0) {
      oil_pressure_debounce_counter = 0;
      fuel_arbitrator_threshold_4 = oil_pressure_precrank_status;
      return diagnostic_system_flags_2 & 0x8000;
    }
    if (oil_pressure_throttle_threshold <= throttle_position_value) {
      oil_pressure_debounce_counter = 0;
      fuel_arbitrator_threshold_4 = oil_pressure_precrank_status;
      return throttle_position_value;
    }
    if (oil_pressure_debounce_counter <= oil_pressure_debounce_threshold) {
      oil_pressure_debounce_counter = oil_pressure_debounce_counter + 1;
      return wVar1;
    }
    fuel_arbitrator_threshold_4 = vp44_fault_protection_threshold;
    return oil_pressure_debounce_counter;
  }
  if ((diagnostic_system_flags_2 & 0x8000) != 0) {
    if (oil_pressure_throttle_threshold <= throttle_position_value) {
      oil_pressure_debounce_counter = 0;
      fuel_arbitrator_threshold_4 = oil_pressure_precrank_status;
      return throttle_position_value;
    }
    if (oil_pressure_debounce_counter <= oil_pressure_debounce_threshold) {
      oil_pressure_debounce_counter = oil_pressure_debounce_counter + 1;
      return wVar1;
    }
    fuel_arbitrator_threshold_4 = vp44_fault_protection_threshold;
    return oil_pressure_debounce_counter;
  }
  if (oil_pressure_throttle_threshold <= throttle_position_value) {
    oil_pressure_debounce_counter = 0;
    fuel_arbitrator_threshold_4 = oil_pressure_precrank_status;
    return throttle_position_value;
  }
  if (oil_pressure_debounce_counter <= oil_pressure_debounce_threshold) {
    oil_pressure_debounce_counter = oil_pressure_debounce_counter + 1;
    return wVar1;
  }
  fuel_arbitrator_threshold_4 = vp44_fault_protection_threshold;
  return oil_pressure_debounce_counter;
}



//
// Function: protectionLimitValueInit @ 0x0002f748
//

void protectionLimitValueInit(void)

{
  fuel_arbitrator_threshold_4 = oil_pressure_precrank_status;
  return;
}



//
// Function: fuelDemandLimitSelector4 @ 0x0002f754
//

void fuelDemandLimitSelector4(void)

{
  if (fuel_limit_floor_value < fuel_limit_minimum_value) {
    fuel_demand_limit_selector_state = fuel_limit_minimum_value;
    fuel_limit_minimum_value = fuel_limit_floor_value;
    fuel_demand_source_id = FUEL_LIMIT_FLOOR;
  }
  return;
}



//
// Function: fuelDemandUpdateOrchestrator @ 0x0002f778
//

void fuelDemandUpdateOrchestrator(void)

{
  fuelDemandLimitSelector11();
  timingAccumulatorUpdate();
  fuelAdjustmentWithFlagUpdate();
  timingAccumulatorClampedUpdate();
  fuelDemandLimitMinimumUpdater();
  fuelLimitMinimumSelector();
  fuelDemandLimitSelector4();
  engineModeTransitionStateUpdater();
  fuelDemandState24Override();
  return;
}



//
// Function: diagnosticModeFuelArbitrationHandler @ 0x0002f7ac
//

void diagnosticModeFuelArbitrationHandler(void)

{
  diagnostic_fuel_arbitration_state_d486 = fuel_limit_minimum_value;
  if (vp44_engine_state == FAULT_EMERGENCY_STATE) {
    diagnostic_fuel_arbitration_output = diagnostic_fuel_arbitration_state_10_value;
    diagnostic_fuel_arbitration_state_c9b4 = 10;
    fuel_adjustment_active_flag = 0;
  }
  else if (vp44_engine_state == HIGH_PERFORMANCE_MODE) {
    diagnostic_fuel_arbitration_output = diagnostic_fuel_arbitration_state_9_value;
    diagnostic_fuel_arbitration_state_c9b4 = 9;
    fuel_adjustment_active_flag = 0;
  }
  else if (vp44_engine_state == IDLE_STATE) {
    diagnostic_fuel_arbitration_output = 0;
    diagnostic_fuel_arbitration_state_c9b4 = 8;
    fuel_adjustment_active_flag = 0;
  }
  else if ((fuel_demand_control_flags & 8) == 0) {
    diagnostic_fuel_arbitration_output = fuel_limit_minimum_value;
    diagnostic_fuel_arbitration_state_c9b4 = fuel_demand_source_id;
  }
  else {
    diagnostic_fuel_arbitration_output = diagnostic_mode_fuel_limit_value;
    diagnostic_fuel_arbitration_state_c9b4 = 7;
    fuel_adjustment_active_flag = 0;
  }
  diagnostic_fuel_arbitration_write_flag = fuel_adjustment_active_flag;
  fuel_adjustment_active_flag = 0;
  return;
}



//
// Function: shutdownMinimumSelector28 @ 0x0002f83e
//

void shutdownMinimumSelector28(void)

{
  if (shutdown_minimum_init_value < shutdown_limit_accumulator) {
    shutdown_limit_accumulator = shutdown_minimum_init_value;
    shutdown_minimum_selector_value = SHUTDOWN_MINIMUM_INIT;
  }
  return;
}



//
// Function: shutdownMinimumSelector20 @ 0x0002f85c
//

void shutdownMinimumSelector20(void)

{
  if ((fuel_arbitrator_diag_t_0080cff8.rpm_target == 3) &&
     (fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_ < shutdown_limit_accumulator)) {
    shutdown_limit_accumulator = fuel_arbitrator_diag_t_0080cff8.prev_state_pointer._1_2_;
    shutdown_minimum_selector_value = FUEL_ARBITRATOR_DIAG;
  }
  return;
}



//
// Function: shutdownMinimumSelectorOrchestrator @ 0x0002f884
//

void shutdownMinimumSelectorOrchestrator(void)

{
  shutdown_limit_accumulator = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  shutdownMinimumSelector17();
  shutdownMinimumSelector16();
  shutdownMinimumSelector15();
  shutdownMinimumSelector19();
  shutdownMinimumSelector29();
  shutdownMinimumSelector20();
  shutdownMinimumSelector28();
  shutdownMinimumSelector21();
  return;
}



//
// Function: masterSubsystemInit @ 0x0002f8b8
//

void masterSubsystemInit(void)

{
  fuelParameterPointerSetup();
  timingParameterPointerSetup();
  dmaDescriptorSetup1();
  fuelLimitParameterPointerSetup();
  shutdown_minimum_init_value = max_number_of_shutdowns_before_restart_is_not_allowed_0_255;
  return;
}



//
// Function: dualTableLookupSum @ 0x0002f8dc
//

void dualTableLookupSum(void)

{
  short sVar1;
  short sVar2;
  
  diagnostic_rpm_setpoint_saved = diagnostic_target_rpm_setpoint;
  diagnostic_throttle_saved = throttle_position_raw;
  sVar1 = lookupTableInterpolation((table_interp_args_t *)&interpolation_table_2_size);
  sVar2 = lookupTableInterpolation((table_interp_args_t *)&interpolation_wscltatb_size);
  governor_reference_fuel = sVar1 + sVar2;
  return;
}



//
// Function: interpolationTableSetup @ 0x0002f920
//

void interpolationTableSetup(void)

{
  diagnostic_rpm_setpoint_saved = diagnostic_target_rpm_setpoint;
  interpolation_table_1_ptr = 0x80720a;
  interpolation_wscltatb_ptr = (dword)&WSCLTATB;
  interpolation_wscltatb_size = 2;
  diagnostic_throttle_saved = throttle_position_raw;
  interpolation_table_2_ptr = 0x807232;
  interpolation_table_3_ptr = 0x807246;
  interpolation_table_2_size = 2;
  return;
}



//
// Function: vp44ExtendedProcessingRouter @ 0x0002f96e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44ExtendedProcessingRouter(void)

{
  if (_vp44_extended_processing_enable != 0) {
    vp44DiagnosticModeStateMachine();
    return;
  }
  vp44StateProcessor();
  return;
}



//
// Function: vp44StateVariablesInit @ 0x0002f986
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44StateVariablesInit(void)

{
  if (_vp44_extended_processing_enable != 0) {
    vp44ControlVariablesReset();
    return;
  }
  output_timing_base_value = 0;
  vp44_state_output_timing_base = 0;
  vp44_operating_condition_value = RESET_INACTIVE;
  vp44_state_operating_condition_cached = RESET_INACTIVE;
  vp44_state_input_current = STATE_4_DEFAULT;
  vp44_state_previous = STATE_4_DEFAULT;
  vp44_state_current_debounced = STATE_4_DEFAULT;
  vp44_state_debounce_value_333e = STATE_4_DEFAULT;
  vp44_state_debounce_countdown = 0;
  vp44_state_processing_timeout_counter = vp44_state_processing_timeout_reload;
  return;
}



//
// Function: vp44StateProcessor @ 0x0002f9e0
//

void vp44StateProcessor(void)

{
  uint uVar1;
  undefined4 uVar2;
  
  vp44_state_current_debounced = vp44StateDebounceFilter();
  output_timing_base_value = vp44StateToControlModeMapper();
  uVar1 = vp44FaultStateCodeMapper();
  vp44_diagnostic_mode_state = (VP44_DIAG_MODE)uVar1;
  uVar2 = vp44OperatingConditionChecker();
  if ((short)uVar2 == 0) {
    if (vp44_state_current_debounced == STATE_2_MONITOR) {
      vp44_diagnostic_mode_state = vp44State2TransitionHandler();
    }
    else if (vp44_state_current_debounced == STATE_1_ACTIVE) {
      uVar2 = vp44State1TransitionHandler();
      vp44_diagnostic_mode_state = (VP44_DIAG_MODE)uVar2;
    }
    else {
      uVar1 = vp44State3Or4TransitionChecker();
      if ((short)uVar1 != 0) {
        vp44_diagnostic_mode_state = vp44StateOutputSelector();
      }
    }
  }
  else {
    uVar2 = vp44FuelControlConditionChecker();
    if ((short)uVar2 == 0) {
      vp44_diagnostic_mode_state = EXIT_DISABLED;
    }
    else {
      vp44_diagnostic_mode_state = INACTIVE;
    }
  }
  vp44_state_previous = vp44_state_input_current;
  vp44_state_operating_condition_cached = vp44_operating_condition_value;
  vp44_state_output_timing_base = output_timing_base_value;
  vp44_state_debounce_value_333e = vp44_state_current_debounced;
  return;
}



//
// Function: vp44StateDebounceFilter @ 0x0002fa84
//

short vp44StateDebounceFilter(void)

{
  vp44_state_input_current = vp44_state_debounce_value_938c;
  if (vp44_state_debounce_threshold < 2) {
    return vp44_state_debounce_value_938c;
  }
  if (vp44_state_debounce_value_938c == vp44_state_debounce_value_333e) {
    vp44_state_debounce_countdown = 2;
    return vp44_state_debounce_value_333e;
  }
  if (vp44_state_debounce_value_938c != vp44_state_previous) {
    if (1 < vp44_state_debounce_countdown) {
      vp44_state_debounce_countdown = vp44_state_debounce_countdown - 1;
      return vp44_state_debounce_value_333e;
    }
    return 4;
  }
  if ((int)(uint)vp44_state_debounce_countdown < (int)(vp44_state_debounce_threshold - 1)) {
    vp44_state_debounce_countdown = vp44_state_debounce_countdown + 1;
    return 4;
  }
  return vp44_state_debounce_value_938c;
}



//
// Function: vp44StateToControlModeMapper @ 0x0002fb08
//

undefined2 vp44StateToControlModeMapper(void)

{
  if (vp44_state_current_debounced == STATE_5_FAULT) {
    return 1;
  }
  if (vp44_state_current_debounced == STATE_0_IDLE) {
    return 0;
  }
  return vp44_state_output_timing_base;
}



//
// Function: vp44OperatingConditionChecker @ 0x0002fb28
//

undefined4 vp44OperatingConditionChecker(void)

{
  if (((((((diagnostic_system_flags_1 & 0x40) != 0) && (output_timing_base_value != 0)) &&
        (insite_fuel_timing_display <= boost_pressure_feedback)) &&
       (((derate_status_byte & 4) == 0 &&
        (shutdown_threshold_for_intake_temp_fuel_50_293 < current_engine_rpm_raw)))) &&
      (((derate_status_byte & 8) == 0 &&
       ((fuel_temp_limit_delta == 0 ||
        (shutdown_delay_for_engine_sync_fuel_pressure_shutdown_0_255 == 0)))))) &&
     ((vp44_operating_condition_value != FUEL_CONTROL_B &&
      (vp44_operating_condition_value != FUEL_CONTROL_A)))) {
    return 0;
  }
  return 1;
}



//
// Function: vp44FuelControlConditionChecker @ 0x0002fba2
//

undefined4 vp44FuelControlConditionChecker(void)

{
  if ((((diagnostic_system_flags_1 & 0x40) != 0) && (output_timing_base_value != 0)) &&
     (vp44_diagnostic_mode_state_2 != INACTIVE)) {
    return 0;
  }
  return 1;
}



//
// Function: vp44State2TransitionHandler @ 0x0002fbc8
//

VP44_DIAG_MODE vp44State2TransitionHandler(void)

{
  VP44_DIAG_MODE VVar1;
  
  VVar1 = vp44_diagnostic_mode_state;
  if (protection_system_enable_flag == 0) {
    if (shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535 <= boost_pressure_feedback) {
      VVar1 = BOOST_PRESSURE_INIT;
    }
  }
  else if (vp44_state_debounce_value_333e == STATE_2_MONITOR) {
    if (vp44_state_processing_timeout_counter == 0) {
      VVar1 = SENSOR_BIT2_PROTECTION;
    }
    else {
      vp44_state_processing_timeout_counter = vp44_state_processing_timeout_counter - 1;
    }
  }
  else {
    vp44_state_processing_timeout_counter = vp44_state_processing_timeout_reload;
    if ((int)((uint)boost_pressure_feedback - (uint)target_boost_pressure_base) <
        (int)(uint)vp44_state2_transition_param) {
      VVar1 = SENSOR_TYPE_1_MODE;
    }
    else if (shutdown_duration_threshold_for_fuel_pressure_rpm_0_65535 <= boost_pressure_feedback) {
      VVar1 = BOOST_PRESSURE_INIT;
    }
  }
  return VVar1;
}



//
// Function: vp44State1TransitionHandler @ 0x0002fc40
//

undefined4 vp44State1TransitionHandler(void)

{
  undefined2 uVar1;
  undefined4 in_D0;
  VP44_DIAG_MODE VVar2;
  
  uVar1 = (undefined2)((uint)in_D0 >> 0x10);
  VVar2 = vp44_diagnostic_mode_state;
  if (protection_system_enable_flag != 0) {
    if (vp44_state_debounce_value_333e == STATE_1_ACTIVE) {
      if (vp44_state_processing_timeout_counter == 0) {
        uVar1 = 0;
        VVar2 = SENSOR_BIT8_TRIGGERED;
      }
      else {
        vp44_state_processing_timeout_counter = vp44_state_processing_timeout_counter - 1;
      }
    }
    else {
      vp44_state_processing_timeout_counter = vp44_state_processing_timeout_reload;
      uVar1 = 0;
      VVar2 = SENSOR_TYPE_0_MODE;
    }
  }
  return CONCAT22(uVar1,VVar2);
}



//
// Function: vp44State3Or4TransitionChecker @ 0x0002fc76
//

uint vp44State3Or4TransitionChecker(void)

{
  uint in_D0;
  
  if (((vp44_state_current_debounced != STATE_3_TRANSITION) &&
      ((vp44_state_operating_condition_cached == TRANSITION_STATE_4 ||
       (vp44_operating_condition_value != TRANSITION_STATE_4)))) &&
     ((vp44_state_operating_condition_cached == TRANSITION_STATE_3 ||
      (vp44_operating_condition_value != TRANSITION_STATE_3)))) {
    return in_D0 & 0xffff0000;
  }
  return 1;
}



//
// Function: vp44StateOutputSelector @ 0x0002fcac
//

undefined2 vp44StateOutputSelector(void)

{
  if ((protection_system_enable_flag == 0) && (vp44_diagnostic_mode_state_2 != INACTIVE)) {
    return 2;
  }
  return vp44_diagnostic_mode_state;
}



//
// Function: vp44FaultStateCodeMapper @ 0x0002fcc8
//

uint vp44FaultStateCodeMapper(void)

{
  uint in_D0;
  
  if (protection_system_enable_flag != 0) {
    return 7;
  }
  if (vp44_diagnostic_mode_state_2 != INACTIVE) {
    return 8;
  }
  return in_D0 & 0xffff0000;
}



//
// Function: diagnosticFuelOverrideHandler @ 0x0002fce4
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void diagnosticFuelOverrideHandler(void)

{
  if (((vp44_timing_override_state == 9) && (diagnostic_fuel_control_mode == 8)) &&
     (diagnostic_rpm_threshold_status < vp44_timing_override_counter)) {
    _output_control_can_state = vp44_timing_override_counter;
  }
  if (output_control_decrement_step < _output_control_can_state) {
    _output_control_can_state = _output_control_can_state - output_control_decrement_step;
  }
  else {
    _output_control_can_state = 0;
  }
  if (((diagnostic_rpm_threshold_status < _output_control_can_state) &&
      (diagnostic_fuel_control_mode == 8)) &&
     ((fuel_temp_protection_threshold_flag == 0 || (diagnostic_fuel_override_param != 0)))) {
    diagnostic_rpm_threshold_status = _output_control_can_state;
  }
  vp44_timing_override_state = diagnostic_fuel_control_mode;
  vp44_timing_override_counter = current_fuel_demand_value;
  return;
}



//
// Function: vp44TimingStateInit @ 0x0002fd5e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44TimingStateInit(void)

{
  _output_control_can_state = 0;
  vp44_timing_override_state = 8;
  vp44_timing_override_counter = 0;
  return;
}



//
// Function: vp44InjectionTimingSlowCycle40Coordinator @ 0x0002fd74
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44InjectionTimingSlowCycle40Coordinator(void)

{
  bool bVar1;
  
  if (vp44_injection_system_active == 1) {
    vp44_injection_timing_counter = 0;
  }
  if (vp44_injection_timing_counter < vp44_injection_timing_limit) {
    vp44_injection_timing_counter = vp44_injection_timing_counter + 1;
    if (((fault_flags_active_base & 0x8000) == 0) || ((fault_flags_enabled_base & 0x8000) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((io_fault_status_reg_3 & 0x1000) == 0) || ((vp44_timing_param_1 & 0x1000) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        vp44_injection_timing_state = vp44_injection_timing_state_copy;
        goto LAB_0002fdf2;
      }
    }
    vp44_injection_timing_state = vp44_timing_coordinator_value;
  }
  else {
    vp44_injection_timing_state = intake_manifold_temp_raw;
  }
LAB_0002fdf2:
  _output_control_intake_temp_value = (uint)vp44_injection_timing_state;
  return;
}



//
// Function: vp44TimingValuesInit @ 0x0002fdfe
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44TimingValuesInit(void)

{
  vp44_injection_timing_state = intake_manifold_temp_raw;
  _output_control_intake_temp_value = (uint)intake_manifold_temp_raw;
  vp44_injection_timing_counter = vp44_injection_timing_limit;
  return;
}



//
// Function: engineModeOutputControlInit @ 0x0002fe20
//

ushort engineModeOutputControlInit(void)

{
  if ((vp44_flag_register_1 & 0x40) != 0) {
    output_control_timer_value = 0;
    io_control_flags = io_control_flags & 0xf9;
    output_control_state_flags = 1;
    vp44_communication_status_9a0a = 0;
    engine_mode_output_control_state_9a0c = 0;
    output_timing_config_word_1 = 0;
    output_timing_state_previous = 0;
    output_control_idle_timeout_threshold = 10;
    output_control_active_flag = 0;
    output_control_table_2_ptr = 0x807292;
    output_control_table_2_size = 2;
    output_control_table_1_ptr = 0x807278;
    output_control_table_7_size = 2;
    output_control_table_7_ptr = 0x8072ac;
    output_control_table_8_size = 2;
    output_control_table_8_ptr = 0x8072bc;
    output_control_table_9_ptr = 0x8072c6;
    output_control_table_4_ptr = 0x807318;
    output_control_table_4_size = 2;
    output_control_table_3_ptr = 0x8072fe;
    output_control_table_6_ptr = 0x80733e;
    output_control_table_6_size = 2;
    output_control_table_5_ptr = 0x807332;
  }
  return vp44_flag_register_1 & 0x40;
}



//
// Function: engineModeOutputControlStateMachine @ 0x0002ff3a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint engineModeOutputControlStateMachine(void)

{
  bool bVar1;
  undefined4 in_D0;
  uint uVar2;
  uint uVar3;
  
  if ((vp44_flag_register_1 & 0x40) == 0) {
    return CONCAT22((short)((uint)in_D0 >> 0x10),vp44_flag_register_1) & 0xffff0040;
  }
  if ((throttle_position_threshold_for_output < throttle_position_value) &&
     (output_control_timer_value == 4)) {
    engine_mode_output_control_state_9a0c = 2;
    output_control_timer_value = 5;
    goto LAB_000300ac;
  }
  if (((io_fault_status_reg_2 & 0x1000) == 0) ||
     ((_engine_mode_output_control_state_68ce & 0x1000) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (bVar1) {
LAB_0002ffea:
    engine_mode_output_control_state_9a0c = 3;
    output_control_timer_value = 5;
  }
  else {
    if (((io_fault_status_reg_2 & 0x800) == 0) ||
       ((_engine_mode_output_control_state_68ce & 0x800) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (bVar1) goto LAB_0002ffea;
    if (((retarder_input_threshold_for_state < retarder_input_value) &&
        (output_control_timer_value != 0)) && (output_control_timer_value != 3)) {
      output_control_timer_value = 5;
    }
  }
  if ((output_timing_config_word_3 == 0) && (output_control_timer_value == 3)) {
    engine_mode_output_control_state_9a0c = 4;
    output_control_timer_value = 5;
  }
  else {
    if (((engine_operating_mode == FAULT_EMERGENCY) || (engine_operating_mode == ENGINE_IDLE)) &&
       ((output_control_timer_value == 4 || (output_control_timer_value == 3)))) {
      output_control_idle_counter = output_control_idle_counter + 1;
    }
    else {
      output_control_idle_counter = 0;
    }
    if ((output_control_idle_timeout_threshold <= output_control_idle_counter) &&
       ((output_control_timer_value == 3 || (output_control_timer_value == 4)))) {
      output_control_timer_value = 2;
    }
  }
  if (output_control_timer_value == 0) {
    output_control_timer_value = 1;
  }
  else if (output_control_timer_value == 1) {
    output_control_timer_value = 2;
  }
  else if (((engine_operating_mode == LOW_RPM_RUNNING) ||
           (engine_operating_mode == TRANSITIONAL_MODE_6)) && (output_control_timer_value == 2)) {
    output_control_timer_value = 3;
  }
  else if ((((engine_operating_mode == HIGH_RPM_RUNNING) ||
            (engine_operating_mode == VP44_INJECTION_ACTIVE)) ||
           ((engine_operating_mode == TRANSITIONAL_MODE_7 ||
            (engine_operating_mode == HIGH_PERFORMANCE)))) &&
          ((output_control_timer_value == 2 || (output_control_timer_value == 3)))) {
    output_control_timer_value = 4;
  }
LAB_000300ac:
  uVar2 = (uint)(short)output_control_timer_value;
  uVar3 = uVar2;
  if (uVar2 < 6) {
    uVar3 = CONCAT22((short)output_control_timer_value >> 0xf,
                     (&switchD_000300ba::switchdataD_000300be)[uVar2]);
    switch(uVar2) {
    case 1:
      uVar3 = outputControlState1Handler();
      break;
    case 2:
      uVar3 = outputControlState2Handler();
      break;
    case 3:
      uVar3 = outputControlState3Handler();
      break;
    case 4:
      uVar3 = outputControlState4Handler();
      break;
    case 5:
      uVar3 = outputControlState5FaultHandler();
    }
  }
  if (vp44_communication_status_9a0a == 1) {
    io_control_flags = io_control_flags & 0xfb | 2;
  }
  else if (vp44_communication_status_9a0a == 2) {
    io_control_flags = io_control_flags & 0xfd | 4;
  }
  else if (vp44_communication_status_9a0a == 3) {
    io_control_flags = io_control_flags | 6;
  }
  else if (vp44_communication_status_9a0a == 4) {
    io_control_flags = io_control_flags & 0xf9;
  }
  if (((vp44_communication_status_9a0a == 1) || (vp44_communication_status_9a0a == 2)) ||
     (vp44_communication_status_9a0a == 3)) {
    if (((output_timing_config_word_1 != 1) && (output_timing_config_word_1 != 2)) &&
       (output_timing_config_word_1 != 3)) {
      output_control_timing_reset_counter = output_control_timing_reset_countdown;
    }
    if (output_control_timing_reset_counter == 0) {
      io_control_flags = io_control_flags & 0xf9;
    }
    else {
      output_control_timing_reset_counter = output_control_timing_reset_counter - 1;
    }
  }
  output_timing_state_previous = output_control_timer_value;
  output_timing_config_word_1 = vp44_communication_status_9a0a;
  return uVar3;
}



//
// Function: outputControlState1Handler @ 0x000301a6
//

void outputControlState1Handler(void)

{
  output_control_sensor_input_cached = sensor_fault_rpm_source_value;
  output_control_interpolation_result =
       lookupTableInterpolation((table_interp_args_t *)&output_control_table_4_size);
  if (output_control_interpolation_result != 0) {
    output_timing_config_word_2 = output_control_interpolation_result;
    io_control_flags = io_control_flags | 6;
    output_control_status_byte = output_control_status_byte | 4;
    output_control_state_flags = output_control_state_flags & 0xfe;
    output_control_state_flags = output_control_state_flags | 2;
    output_control_lookup_failure_flag = 0;
    return;
  }
  engine_mode_output_control_state_9a0c = 6;
  io_control_flags = io_control_flags & 0xf9;
  output_control_lookup_failure_flag = 1;
  return;
}



//
// Function: outputControlState2Handler @ 0x00030226
//

void outputControlState2Handler(void)

{
  if ((output_control_state_flags & 0x10) != 0) {
    output_control_state_flags = output_control_state_flags & 0xef;
    output_control_state_flags = output_control_state_flags | 0x40;
  }
  if ((output_control_state_flags & 0x20) != 0) {
    output_control_state_flags = output_control_state_flags & 0xdf;
    output_control_state_flags = output_control_state_flags | 0x40;
  }
  if (output_timing_config_word_2 == 0) {
    io_control_flags = io_control_flags & 0xf9;
    if (output_control_lookup_failure_flag == 0) {
      output_control_status_byte = output_control_status_byte & 0xfb;
    }
    if (output_control_interpolation_result != 0) {
      output_control_state_flags = output_control_state_flags & 0xfd;
      output_control_state_flags = output_control_state_flags | 8;
    }
  }
  else {
    io_control_flags = io_control_flags | 6;
    output_control_status_byte = output_control_status_byte | 4;
    output_timing_config_word_2 = output_timing_config_word_2 - 1;
  }
  output_timing_config_word_3 = output_timing_interpolation_base_ptr;
  output_timing_state_selector = 100;
  return;
}



//
// Function: outputControlState3Handler @ 0x000302c6
//

void outputControlState3Handler(void)

{
  io_control_flags = io_control_flags & 0xf9;
  output_control_status_byte = output_control_status_byte & 0xfb;
  if (output_timing_config_word_3 != 0) {
    output_timing_config_word_3 = output_timing_config_word_3 - 1;
  }
  if ((output_control_state_flags & 2) != 0) {
    output_control_state_flags = output_control_state_flags & 0xfd;
    output_control_state_flags = output_control_state_flags | 4;
  }
  output_control_state_flags = output_control_state_flags | 0x10;
  output_timing_config_word_2 = 0;
  return;
}



//
// Function: outputControlState4Handler @ 0x00030314
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void outputControlState4Handler(void)

{
  bool bVar1;
  byte bVar2;
  word *pwVar3;
  undefined8 uVar4;
  
  if ((output_timing_state_previous != 4) &&
     (output_control_status_byte = output_control_status_byte & 0xfb,
     output_control_countdown_timer != 0)) {
    engine_mode_output_control_state_9a0c = 8;
    output_control_countdown_timer = output_control_countdown_timer - 1;
    outputControlState5FaultHandler();
    return;
  }
  if (output_control_active_flag == 0) {
    bVar1 = (uint)sensor_fault_rpm_source_value <=
            (uint)output_control_rpm_offset + (uint)sensor_fault_rpm_threshold;
    if (bVar1) {
      output_control_rpm_workspace = sensor_fault_rpm_source_value;
    }
    else {
      output_control_rpm_workspace = sensor_fault_rpm_threshold;
    }
    output_control_state_4_write_flag._0_1_ = !bVar1;
    output_control_rpm_workspace_2 = output_control_rpm_workspace;
    output_control_timing_value =
         lookupTableInterpolation((table_interp_args_t *)&output_control_table_2_size);
    if (output_control_timing_value == 6) {
      if (output_timing_state_selector != 0) {
        output_timing_state_selector = output_timing_state_selector - 1;
      }
      if (output_timing_state_selector == 0) {
        engine_mode_output_control_state_9a0c = 6;
        outputControlState5FaultHandler();
        return;
      }
      io_control_flags = io_control_flags & 0xf9;
      return;
    }
    if ((output_control_throttle_limit < throttle_position_raw) &&
       (output_control_rpm_limit < output_control_rpm_workspace)) {
      engine_mode_output_control_state_9a0c = 7;
      outputControlState5FaultHandler();
      return;
    }
    bVar2 = 0;
    pwVar3 = &output_state_timing_delay_base;
    do {
      output_control_timing_workspace = output_control_timing_value;
      output_control_index_workspace = (word)bVar2;
      uVar4 = tableInterpolationLookup((short *)&output_control_table_7_size);
      *pwVar3 = (word)((ulonglong)uVar4 >> 0x20);
      bVar2 = bVar2 + 1;
      pwVar3 = pwVar3 + 1;
    } while (bVar2 < 5);
    _output_control_state_selector = 6;
    output_sequence_state = 0;
    output_control_state_4_value = 1;
    output_control_state_sequencer = 0;
    output_timing_cycle_counter = 0;
    output_control_timing_state_9a08 = 2;
    output_control_active_flag = 1;
  }
  else {
    output_control_state_sequencer = output_control_state_sequencer + 1;
  }
  output_control_state_flags = output_control_state_flags & 0xee;
  output_control_state_flags = output_control_state_flags | 0x20;
  if (output_control_fuel_threshold <= current_fuel_demand_value) {
    output_timing_cycle_counter = output_timing_cycle_counter + 1;
  }
  if (output_timing_cycle_counter < output_control_cycle_limit) {
    if (((output_control_timing_value == 0) || (output_control_timing_value == 1)) ||
       (output_control_timing_value == 2)) {
      outputControlStateToModeMapper();
    }
    else {
      outputControlStateMachineSelector();
    }
    if (output_sequence_state == 4) {
      output_control_state_flags = output_control_state_flags & 0xdf;
      output_control_state_flags = output_control_state_flags | 0x80;
      outputControlState5FaultHandler();
    }
    else {
      outputControlTimingGenerator();
    }
  }
  else {
    engine_mode_output_control_state_9a0c = 9;
    outputControlState5FaultHandler();
  }
  _output_control_state_selector = output_sequence_state;
  return;
}



//
// Function: outputControlStateToModeMapper @ 0x00030542
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void outputControlStateToModeMapper(void)

{
  if (output_control_state_4_value == 0) {
    if (_output_control_state_selector == 0) {
      output_sequence_state = 1;
      return;
    }
    if (_output_control_state_selector == 1) {
      output_sequence_state = 2;
      return;
    }
    if (_output_control_state_selector == 2) {
      output_sequence_state = 4;
    }
  }
  return;
}



//
// Function: outputControlStateMachineSelector @ 0x00030578
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint outputControlStateMachineSelector(void)

{
  undefined2 uVar1;
  undefined4 in_D0;
  uint uVar2;
  
  uVar1 = (undefined2)((uint)in_D0 >> 0x10);
  uVar2 = CONCAT22(uVar1,output_control_state_4_value | _output_control_state_selector);
  if ((output_control_state_4_value | _output_control_state_selector) == 0) {
    uVar2 = CONCAT22(uVar1,current_engine_rpm);
    if (output_sequence_rpm_threshold < current_engine_rpm) {
      output_sequence_state = 1;
      return uVar2;
    }
    output_sequence_state = 2;
    return uVar2;
  }
  if (_output_control_state_selector == 1) {
    if (output_control_state_4_value == 0) {
      output_sequence_state = 3;
      return uVar2;
    }
    uVar2 = (uint)output_sequence_rpm_threshold - (uint)output_sequence_rpm_hysteresis;
    if ((int)(uint)current_engine_rpm < (int)uVar2) {
      output_sequence_state = 2;
      return uVar2;
    }
  }
  else if (_output_control_state_selector == 2) {
    if (output_control_state_4_value == 0) {
      output_sequence_state = 4;
      return uVar2;
    }
    uVar2 = (uint)output_sequence_rpm_hysteresis + (uint)output_sequence_rpm_threshold;
    if (uVar2 < current_engine_rpm) {
      uVar2 = (uint)output_state_1_timing_offset + (uint)output_state_timing_delay_base;
      if ((uint)output_control_state_sequencer <
          (uint)output_state_1_timing_offset + (uint)output_state_timing_delay_base) {
        output_sequence_state = 1;
        return uVar2;
      }
      output_sequence_state = 3;
      return uVar2;
    }
  }
  else if (_output_control_state_selector == 3) {
    if (output_control_state_4_value == 0) {
      output_sequence_state = 4;
      return uVar2;
    }
    uVar2 = (uint)output_sequence_rpm_threshold - (uint)output_sequence_rpm_hysteresis;
    if ((int)(uint)current_engine_rpm < (int)uVar2) {
      output_sequence_state = 2;
    }
  }
  return uVar2;
}



//
// Function: outputControlTimingGenerator @ 0x0003068a
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void outputControlTimingGenerator(void)

{
  bool bVar1;
  
  if (output_sequence_state == _output_control_state_selector) {
    output_control_timing_state_33b0 = 0;
    bVar1 = false;
  }
  else {
    if ((((output_control_timing_value == 0) || (output_control_timing_value == 1)) ||
        (output_control_timing_value == 2)) || (output_sequence_state == 0)) {
      output_timing_interpolation_result =
           (&output_state_timing_delay_base)[(short)output_sequence_state];
    }
    else if (((output_control_timing_value == 3) || (output_control_timing_value == 4)) ||
            (output_control_timing_value == 5)) {
      if (output_sequence_state == 1) {
        output_timing_interpolation_result =
             (output_state_1_timing_offset + output_state_timing_delay_base) -
             output_control_state_sequencer;
      }
      else if (output_sequence_state == 2) {
        output_timing_interpolation_result =
             (output_state_2_timing_offset + output_state_timing_delay_base) -
             output_control_state_sequencer;
      }
      else if (output_sequence_state == 3) {
        output_timing_interpolation_result =
             (output_state_3_timing_offset +
             output_state_1_timing_offset + output_state_timing_delay_base) -
             output_control_state_sequencer;
      }
    }
    output_control_sequence_state = output_sequence_state;
    output_timing_duty_lookup_result =
         lookupTableInterpolation((table_interp_args_t *)&output_control_table_6_size);
    output_control_timing_state_33b0 = 1;
    bVar1 = true;
    output_control_state_4_value = 1;
  }
  if (bVar1) {
    output_timing_duration_countdown = output_timing_interpolation_result;
    output_timing_cycle_divider = 0x65;
    output_timing_duty_cycle_counter =
         (short)(((uint)output_timing_duty_lookup_result * 100) / 100) + 1;
    if (output_control_timing_state_9a08 == 1) {
      output_control_timing_state_9a08 = 2;
    }
    else {
      output_control_timing_state_9a08 = 1;
    }
  }
  if (output_timing_duration_countdown == 0) {
    output_control_state_4_value = 0;
    return;
  }
  output_timing_duration_countdown = output_timing_duration_countdown - 1;
  if (output_timing_duty_cycle_counter != 0) {
    output_timing_duty_cycle_counter = output_timing_duty_cycle_counter - 1;
  }
  output_timing_cycle_divider = output_timing_cycle_divider - 1;
  if (output_timing_cycle_divider == 0) {
    output_timing_cycle_divider = 100;
    output_timing_duty_cycle_counter = (word)(((uint)output_timing_duty_lookup_result * 100) / 100);
    if (output_control_timing_state_9a08 == 1) {
      output_control_timing_state_9a08 = 2;
    }
    else {
      output_control_timing_state_9a08 = 1;
    }
  }
  if (output_timing_duty_cycle_counter == 0) {
    io_control_flags = io_control_flags & 0xf9;
    return;
  }
  if (output_sequence_state == 0) {
    io_control_flags = io_control_flags | 6;
    return;
  }
  if (output_control_timing_state_9a08 == 1) {
    io_control_flags = io_control_flags & 0xfb | 2;
    return;
  }
  io_control_flags = io_control_flags & 0xfd | 4;
  return;
}



//
// Function: outputControlState5FaultHandler @ 0x00030896
//

void outputControlState5FaultHandler(void)

{
  output_control_timer_value = 5;
  io_control_flags = io_control_flags & 0xf9;
  output_control_status_byte = output_control_status_byte & 0xfb;
  if ((output_control_state_flags & 2) != 0) {
    output_control_state_flags = output_control_state_flags & 0xfd;
    output_control_state_flags = output_control_state_flags | 4;
  }
  if ((output_control_state_flags & 0x10) != 0) {
    output_control_state_flags = output_control_state_flags & 0xef;
    output_control_state_flags = output_control_state_flags | 0x40;
  }
  if ((output_control_state_flags & 0x20) != 0) {
    output_control_state_flags = output_control_state_flags & 0xdf;
    output_control_state_flags = output_control_state_flags | 0x40;
  }
  if (engine_mode_output_control_state_9a0c == 0) {
    engine_mode_output_control_state_9a0c = 1;
  }
  return;
}



//
// Function: sensorFaultBasedRpmSourceSelector @ 0x00030914
//

ushort sensorFaultBasedRpmSourceSelector(void)

{
  bool bVar2;
  ushort uVar1;
  
  uVar1 = vp44_flag_register_1 & 0x40;
  if (uVar1 != 0) {
    if (((fault_flags_active_base & 0x4000) == 0) || ((fault_flags_enabled_base & 0x4000) == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if (!bVar2) {
      if (((fault_flags_active_base & 0x2000) == 0) || ((fault_flags_enabled_base & 0x2000) == 0)) {
        bVar2 = false;
      }
      else {
        bVar2 = true;
      }
      if (!bVar2) {
        sensor_fault_rpm_source_value = intake_manifold_temp_raw;
        return 0;
      }
    }
    if (((engine_fault_status_register_1 & 2) == 0) ||
       ((engine_fault_confirmation_register & 2) == 0)) {
      uVar1 = 0;
    }
    else {
      uVar1 = 1;
    }
    if (uVar1 == 0) {
      if (((engine_fault_status_register_1 & 1) == 0) ||
         ((engine_fault_confirmation_register & 1) == 0)) {
        uVar1 = 0;
      }
      else {
        uVar1 = 1;
      }
      if (uVar1 == 0) {
        sensor_fault_rpm_source_value = throttle_position_raw;
        return 0;
      }
    }
    sensor_fault_rpm_source_value = sensor_fault_rpm_selector_param;
  }
  return uVar1;
}



//
// Function: faultBasedOutputStateCalculator @ 0x000309da
//

ushort faultBasedOutputStateCalculator(void)

{
  ushort uVar1;
  word wVar2;
  
  uVar1 = vp44_flag_register_1 & 0x40;
  if (uVar1 != 0) {
    if ((short)fso_monitoring_command_value < 0xcd1) {
      wVar2 = fso_monitoring_command_value;
      if ((short)fso_monitoring_command_value < -800) {
        wVar2 = 0xfce0;
      }
    }
    else {
      wVar2 = 0xcd0;
    }
    if (((engine_fault_status_register_3 & 0x100) == 0) ||
       ((vp44_fso_fault_enable_mask & 0x100) == 0)) {
      uVar1 = 0;
    }
    else {
      uVar1 = 1;
    }
    if (uVar1 == 0) {
      if (((engine_fault_status_register_3 & 0x80) == 0) ||
         ((vp44_fso_fault_enable_mask & 0x80) == 0)) {
        uVar1 = 0;
      }
      else {
        uVar1 = 1;
      }
      if (uVar1 == 0) {
        if (((engine_fault_status_register_3 & 0x40) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x40) == 0)) {
          uVar1 = 0;
        }
        else {
          uVar1 = 1;
        }
        if (uVar1 == 0) {
          sensor_fault_rpm_threshold = wVar2 * 8 + 0x1900;
          return 0;
        }
      }
    }
    sensor_fault_rpm_threshold = sensor_fault_rpm_source_value;
  }
  return uVar1;
}



//
// Function: outputControlFlagsInit @ 0x00030a8e
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void outputControlFlagsInit(void)

{
  output_control_mode_state_variable = 1;
  _output_control_flags_state = 1;
  io_control_flags = io_control_flags | 0x10;
  engine_mode_io_control_counter = engine_mode_io_control_timeout_initial;
  engine_mode_io_control_flags = 1;
  output_control_state_transition_flag = 0;
  return;
}



//
// Function: engineModeBasedIoController @ 0x00030ac0
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void engineModeBasedIoController(void)

{
  if (output_control_io_override_enable_flag != 0) {
    if (output_control_io_override_condition_flag == 0) {
      io_control_flags = io_control_flags & 0xef;
      return;
    }
    io_control_flags = io_control_flags | 0x10;
    return;
  }
  switch(engine_operating_mode) {
  case ENGINE_IDLE:
  case FAULT_EMERGENCY:
    _output_control_flags_state = 1;
    break;
  case LOW_RPM_RUNNING:
  case TRANSITIONAL_MODE_6:
  case TRANSITIONAL_MODE_7:
    _output_control_flags_state = 2;
    break;
  case HIGH_RPM_RUNNING:
  case VP44_INJECTION_ACTIVE:
    _output_control_flags_state = 3;
    break;
  case HIGH_PERFORMANCE:
    _output_control_flags_state = 4;
  }
  if (engine_control_system_ready != 0) {
    engine_mode_io_control_flags = 0;
    output_control_mode_state_variable = 1;
    io_control_flags = io_control_flags & 0xef;
    return;
  }
  if (_output_control_flags_state == 3) {
    if (output_control_mode_state_variable != 3) {
      output_control_state_transition_flag = 1;
      engine_mode_io_control_flags = 1;
      io_control_flags = io_control_flags | 0x10;
    }
  }
  else if ((output_control_mode_state_variable == _output_control_flags_state) &&
          (engine_mode_io_control_counter != 0)) {
    engine_mode_io_control_counter = engine_mode_io_control_counter - 1;
  }
  else if (_output_control_flags_state == 1) {
    if (output_control_mode_state_variable == 1) {
      if (engine_mode_io_control_flags != 0) {
        engine_mode_io_control_flags = 0;
        io_control_flags = io_control_flags & 0xef;
      }
    }
    else {
      if (output_control_state_transition_flag == 0) {
        engine_mode_io_control_counter = output_control_state_1_transition_delay_alt;
      }
      else {
        engine_mode_io_control_counter = output_control_state_1_transition_delay_primary;
      }
      io_control_flags = io_control_flags | 0x10;
      engine_mode_io_control_flags = 1;
    }
  }
  else if (_output_control_flags_state == 2) {
    if (output_control_mode_state_variable == 2) {
      if (engine_mode_io_control_flags == 0) {
        engine_mode_io_control_flags = 1;
        io_control_flags = io_control_flags | 0x10;
        engine_mode_io_control_counter = output_control_state_2_transition_threshold;
      }
      else {
        engine_mode_io_control_flags = 0;
        io_control_flags = io_control_flags & 0xef;
        engine_mode_io_control_counter = output_control_state_transition_countdown;
      }
    }
    else {
      engine_mode_io_control_flags = 0;
      io_control_flags = io_control_flags & 0xef;
      engine_mode_io_control_counter = output_control_state_transition_countdown;
    }
  }
  else if (_output_control_flags_state == 4) {
    engine_mode_io_control_flags = 0;
    io_control_flags = io_control_flags & 0xef;
  }
  output_control_mode_state_variable = _output_control_flags_state;
  return;
}



//
// Function: fuelDemandTablePointersInit @ 0x00030c3e
//

void fuelDemandTablePointersInit(void)

{
  fuel_demand_table_2_size = 2;
  fuel_demand_table_2_ptr_33cc = 0x80735c;
  fuel_demand_table_3_size = 2;
  fuel_demand_table_1_ptr_33c4 = 0x807352;
  fuel_demand_table_3_ptr_33d2 = 0x807366;
  fuel_demand_limit_previous = 0;
  rpm_load_parameter_lookup_result = 0;
  return;
}



//
// Function: rpmLoadParameterLookup @ 0x00030c78
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint rpmLoadParameterLookup(void)

{
  undefined4 in_D0;
  uint uVar1;
  undefined8 uVar2;
  
  uVar1 = CONCAT22((short)((uint)in_D0 >> 0x10),vp44_flag_register_1) & 0xffff0001;
  if ((vp44_flag_register_1 & 1) != 0) {
    rpm_load_lookup_input = diagnostic_sensor_reading;
    _rpm_load_lookup_result_ptr = current_engine_rpm;
    uVar2 = tableInterpolationLookup((short *)&fuel_demand_table_3_size);
    uVar1 = (uint)((ulonglong)uVar2 >> 0x20);
    rpm_load_parameter_lookup_result = (word)((ulonglong)uVar2 >> 0x20);
  }
  return uVar1;
}



//
// Function: fuelDemandLimitSelector11 @ 0x00030cb0
//

ushort fuelDemandLimitSelector11(void)

{
  ushort uVar1;
  
  uVar1 = vp44_flag_register_1 & 1;
  if (((vp44_flag_register_1 & 1) != 0) && (fuel_demand_source_id == TABLE_BLEND_CALC)) {
    fuel_demand_limit_previous = fuel_limit_minimum_value;
    uVar1 = rpm_load_parameter_lookup_result;
    if (fuel_limit_minimum_value < rpm_load_parameter_lookup_result) {
      fuel_limit_minimum_value = rpm_load_parameter_lookup_result;
      fuel_demand_source_id = VP44_FLAG_REGISTER;
    }
  }
  return uVar1;
}



//
// Function: simTimerControlInit @ 0x00030cec
//

uint simTimerControlInit(void)

{
  undefined4 in_D0;
  
  rpm_derate_duty_cycle = 0;
  delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 = 0;
  if ((dtc_active_fault_count & 1) != 0) {
    sim_timer_control_register = ((uint)pwm_output_scaling_factor * 8000) / 1000 << 0x10;
    return sim_timer_control_register;
  }
  sim_timer_control_register = sim_timer_control_register & 0xffff0000;
  return CONCAT22((short)((uint)in_D0 >> 0x10),dtc_active_fault_count) & 0xffff0001;
}



//
// Function: rpmDerateCalculationController @ 0x00030d40
//

uint rpmDerateCalculationController(void)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  uVar1 = (uint)(short)rpm_derate_calculation_table_ptr;
  if (uVar1 < 0x10) {
    uVar3 = (uint)(ushort)((short)rpm_derate_calculation_table_ptr >> 0xf) << 0x10;
    switch(uVar1) {
    default:
      uVar3 = (uint)active_derate_value * 0x50 >> 2;
      rpm_derate_percent_scaled = (word)uVar3;
      break;
    case 3:
    case 4:
    case 5:
      if ((short)fuel_demand_percentage < 1) {
        rpm_derate_percent_scaled = 0;
      }
      else {
        uVar3 = (uint)((short)fuel_demand_percentage * 0x50) >> 8;
        rpm_derate_percent_scaled = (word)((uint)((short)fuel_demand_percentage * 0x50) >> 8);
      }
      break;
    case 6:
    case 7:
    case 8:
      uVar3 = 0;
      rpm_derate_percent_scaled = (word)((uint)asthrfes_calc_input * 0x50 >> 8);
      break;
    case 9:
    case 10:
      rpm_derate_percent_scaled = rpm_derate_scaling_factor;
      break;
    case 0xb:
    case 0xc:
    case 0xd:
      uVar3 = 0;
      rpm_derate_percent_scaled = (word)((uint)param_table_aux * 0x50 >> 8);
      break;
    case 0xe:
    case 0xf:
      iVar2 = rpmFuelCalculation((uint)current_fuel_demand_value,
                                 (int)(short)rpm_derate_calc_offset_1,0x3a);
      iVar2 = (uint)current_engine_rpm + (iVar2 >> 3);
      if (iVar2 < 64000) {
        if (iVar2 < 1) {
          derate_rpm_limit_low = 0;
        }
        else {
          derate_rpm_limit_low = (word)iVar2;
        }
      }
      else {
        derate_rpm_limit_low = 64000;
      }
      iVar2 = rpmFuelCalculation((uint)current_fuel_demand_value,
                                 (int)(short)rpm_derate_calc_offset_2,0x3a);
      iVar2 = (uint)current_engine_rpm + (iVar2 >> 3);
      if (iVar2 < 64000) {
        if (iVar2 < 1) {
          derate_rpm_limit_high = 0;
        }
        else {
          derate_rpm_limit_high = (word)iVar2;
        }
      }
      else {
        derate_rpm_limit_high = 64000;
      }
      uVar3 = 0;
      if (current_engine_rpm < rpm_derate_calc_multiplier) {
        if (rpm_derate_calculation_table_ptr == 0xe) {
          uVar3 = 0;
          rpm_derate_percent_scaled = (word)((uint)asthrfes_calc_input * 0x50 >> 8);
        }
        else {
          uVar3 = 0;
          rpm_derate_percent_scaled = (word)((uint)param_table_aux * 0x50 >> 8);
        }
      }
      else {
        rpm_derate_percent_scaled = 0;
      }
    }
  }
  else {
    rpm_derate_percent_scaled = 0;
    uVar3 = uVar1;
  }
  if (((rpm_derate_calculation_table_ptr == 0xe) || (rpm_derate_calculation_table_ptr == 0xf)) &&
     (((diagnostic_fuel_control_mode == 9 || (diagnostic_fuel_control_mode == 10)) ||
      (((protection_system_enable_flag == 1 && (diagnostic_fuel_control_mode == 0xc)) &&
       (active_derate_value < 0xc)))))) {
    if ((rpm_derate_lower_threshold < derate_rpm_limit_low) ||
       (rpm_derate_percent_upper < rpm_derate_percent_scaled)) {
      rpm_derate_duty_cycle = 0x6400;
    }
    else if ((derate_rpm_limit_high < rpm_derate_upper_threshold) &&
            (rpm_derate_percent_scaled < rpm_derate_percent_lower)) {
      rpm_derate_duty_cycle = 0;
    }
    delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 = rpm_derate_duty_cycle;
    if ((dtc_active_fault_count & 1) == 0) {
      sim_timer_control_register = sim_timer_control_register & 0xffff0000;
      return CONCAT22((short)(uVar3 >> 0x10),dtc_active_fault_count) & 0xffff0001;
    }
    sim_timer_control_register =
         ((((uint)pwm_output_scaling_factor * (uint)rpm_derate_duty_cycle) / 0x6400 & 0xffff) * 8000
         ) / 1000 & 0xffff | ((uint)pwm_output_scaling_factor * 8000) / 1000 << 0x10;
    return sim_timer_control_register;
  }
  if (((((rpm_derate_calculation_table_ptr != 2) && (rpm_derate_calculation_table_ptr != 5)) &&
       (rpm_derate_calculation_table_ptr != 8)) &&
      ((rpm_derate_calculation_table_ptr != 10 && (rpm_derate_calculation_table_ptr != 0xd)))) &&
     ((rpm_derate_calculation_table_ptr != 0xe && (rpm_derate_calculation_table_ptr != 0xf)))) {
    derate_rpm_adjustment =
         rpm_derate_base_offset +
         (short)(((int)(short)rpm_derate_scale_factor * (int)(short)rpm_derate_percent_scaled) /
                4000);
    if ((int)(uint)derate_rpm_adjustment_max < (int)(short)derate_rpm_adjustment) {
      derate_rpm_adjustment = derate_rpm_adjustment_max;
    }
    else if ((int)(short)derate_rpm_adjustment < (int)(uint)derate_rpm_adjustment_min) {
      derate_rpm_adjustment = derate_rpm_adjustment_min;
    }
    uVar1 = ((uint)derate_rpm_adjustment << 8) >> 1;
    rpm_derate_duty_cycle = (word)uVar1;
    delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 = rpm_derate_duty_cycle;
    if ((dtc_active_fault_count & 1) == 0) {
      sim_timer_control_register = sim_timer_control_register & 0xffff0000;
      return CONCAT22(derate_rpm_adjustment >> 9,dtc_active_fault_count) & 0xffff0001;
    }
    sim_timer_control_register =
         ((((uint)pwm_output_scaling_factor * (uVar1 & 0xffff)) / 0x6400 & 0xffff) * 8000) / 1000 &
         0xffff | ((uint)pwm_output_scaling_factor * 8000) / 1000 << 0x10;
    return sim_timer_control_register;
  }
  if ((rpm_derate_calculation_table_ptr == 0xe) || (rpm_derate_calculation_table_ptr == 0xf)) {
    uVar3 = (uint)active_derate_value * 0x50 >> 2;
    rpm_derate_percent_scaled = (word)uVar3;
  }
  if (rpm_derate_percent_upper < rpm_derate_percent_scaled) {
    rpm_derate_duty_cycle = 0x6400;
  }
  if (rpm_derate_percent_scaled < rpm_derate_percent_lower) {
    rpm_derate_duty_cycle = 0;
  }
  delay_before_warning_about_shutdown_from_oil_press_rpm_0_65535 = rpm_derate_duty_cycle;
  if ((dtc_active_fault_count & 1) == 0) {
    sim_timer_control_register = sim_timer_control_register & 0xffff0000;
    return CONCAT22((short)(uVar3 >> 0x10),dtc_active_fault_count) & 0xffff0001;
  }
  sim_timer_control_register =
       ((((uint)pwm_output_scaling_factor * (uint)rpm_derate_duty_cycle) / 0x6400 & 0xffff) * 8000)
       / 1000 & 0xffff | ((uint)pwm_output_scaling_factor * 8000) / 1000 << 0x10;
  return sim_timer_control_register;
}



//
// Function: vp44DiagnosticSensorThresholdMonitor @ 0x000311ea
//

ushort vp44DiagnosticSensorThresholdMonitor(void)

{
  ushort uVar1;
  word wVar2;
  
  if ((vp44_flag_register_1 & 0x100) == 0) {
    return 0;
  }
  if (((fault_status_flags_2 & 0x200) == 0) || ((accelerator_pedal_position & 0x200) == 0)) {
    uVar1 = 0;
  }
  else {
    uVar1 = 1;
  }
  if (uVar1 == 0) {
    if (((fault_status_flags_2 & 0x400) == 0) || ((accelerator_pedal_position & 0x400) == 0)) {
      uVar1 = 0;
    }
    else {
      uVar1 = 1;
    }
    if (uVar1 == 0) {
      if (((fault_status_flags_2 & 0x2000) == 0) || ((accelerator_pedal_position & 0x2000) == 0)) {
        uVar1 = 0;
      }
      else {
        uVar1 = 1;
      }
      if (uVar1 == 0) {
        wVar2 = 0;
        if (((vp44_engine_state != 0x10) ||
            (wVar2 = diagnostic_sensor_reading,
            diagnostic_sensor_reading <= diagnostic_sensor_reading_threshold)) ||
           (wVar2 = current_engine_rpm, current_engine_rpm <= diagnostic_sensor_rpm_threshold)) {
          if (vp44_diagnostic_sensor_threshold == 0) {
            return wVar2;
          }
          vp44_diagnostic_sensor_threshold = vp44_diagnostic_sensor_threshold - 1;
          if (vp44_diagnostic_sensor_threshold != 0) {
            return wVar2;
          }
          fault_status_flags_2 = fault_status_flags_2 & 0xf7ff;
          return wVar2;
        }
        if (added_to_final_fuel_command_for_cylinder_1_300_to_300 <=
            vp44_diagnostic_sensor_threshold) {
          return vp44_diagnostic_sensor_threshold;
        }
        vp44_diagnostic_sensor_threshold = vp44_diagnostic_sensor_threshold + 1;
        if (vp44_diagnostic_sensor_threshold !=
            added_to_final_fuel_command_for_cylinder_1_300_to_300) {
          return vp44_diagnostic_sensor_threshold;
        }
        fault_status_flags_2 = fault_status_flags_2 | 0x800;
        fault_status_flags_8_previous = fault_status_flags_8_previous | 0x800;
        return vp44_diagnostic_sensor_threshold;
      }
    }
  }
  vp44_diagnostic_sensor_threshold = 0;
  fault_status_flags_2 = fault_status_flags_2 & 0xf7ff;
  return uVar1;
}



//
// Function: vp44FaultRegisterBit2Monitor @ 0x00031306
//

ushort vp44FaultRegisterBit2Monitor(void)

{
  word wVar1;
  ushort uVar2;
  
  wVar1 = io_control_active_mask;
  if ((vp44_flag_register_1 & 2) == 0) {
    engine_fault_register_a = engine_fault_register_a & 0xdfff;
    uVar2 = 0;
  }
  else {
    if (vp44_fault_register_bit2_threshold == 1) {
      io_control_active_mask = io_control_active_mask | 0x10;
      engine_fault_register_a = engine_fault_register_a | 0x2000;
      engine_fault_register_c = engine_fault_register_c | 0x2000;
      return vp44_flag_register_1 & 2;
    }
    io_control_active_mask = io_control_active_mask & 0xffef;
    uVar2 = engine_fault_register_a & 0x2000;
    if (uVar2 != 0) {
      uVar2 = engine_fault_register_c & 0x2000;
      if (uVar2 == 0) {
        engine_fault_register_a = engine_fault_register_a & 0xdfff;
        return uVar2;
      }
    }
  }
  io_control_active_mask = wVar1 & 0xffef;
  return uVar2;
}



//
// Function: fuelDemandConditionFlagBuilder @ 0x00031394
//

void fuelDemandConditionFlagBuilder(void)

{
  retarder_input_flags = (word)((derate_status_byte & 0x10) != 0);
  if ((fuel_temp_vp44_diagnostic_enable != 0) && ((sensor_status_register & 0x40) != 0)) {
    retarder_input_flags = retarder_input_flags | 2;
  }
  return;
}



//
// Function: fuelDemandFaultFlagUpdater @ 0x000313c4
//

ushort fuelDemandFaultFlagUpdater(uint param_1)

{
  ushort uVar1;
  
  if (((param_1 & 0x10000) == 0) || ((io_fault_status_reg_2 & 0x20) != 0)) {
    io_control_flags = io_control_flags | 1;
  }
  else {
    io_control_flags = io_control_flags & 0xfe;
  }
  uVar1 = param_1._0_2_ & 2;
  if (((param_1 & 0x20000) != 0) &&
     (uVar1 = fault_flags_active_base & 1, (fault_flags_active_base & 1) == 0)) {
    output_control_status_byte = output_control_status_byte & 0xfe;
    return uVar1;
  }
  output_control_status_byte = output_control_status_byte | 1;
  return uVar1;
}



//
// Function: fuelDemandLimitSource2Selector @ 0x0003141c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort fuelDemandLimitSource2Selector(void)

{
  VP44_OPERATING_CONDITION VVar1;
  
  VVar1 = vp44_operating_condition_value | protection_system_enable_flag;
  if (VVar1 != RESET_INACTIVE) {
    if (_fuel_demand_limit_source_2_flag == RESET_INACTIVE) {
      vp44_diagnostic_fault_state = 0;
      fuel_demand_limit_source = NO_LIMIT_ACTIVE;
      return VVar1;
    }
    VVar1 = _fuel_demand_limit_source_2_flag;
    if (_fuel_demand_limit_source_2_flag < vp44_diagnostic_fault_state) {
      vp44_diagnostic_fault_state = _fuel_demand_limit_source_2_flag;
      fuel_demand_limit_source = VP44_DIAGNOSTIC_FAULT;
    }
  }
  return VVar1;
}



//
// Function: fuelDemandLimitSource3Selector @ 0x0003145a
//

void fuelDemandLimitSource3Selector(void)

{
  fuelDemandConditionFlagBuilder();
  if (retarder_input_flags == 0) {
    vp44_diagnostic_fault_state = 0;
    fuel_demand_limit_source = NO_LIMIT_ACTIVE;
    return;
  }
  if (retarder_input_flags < vp44_diagnostic_fault_state) {
    vp44_diagnostic_fault_state = retarder_input_flags;
    fuel_demand_limit_source = RETARDER_INPUT_LIMIT;
  }
  return;
}



//
// Function: fuelDemandLimitSource4Selector @ 0x00031494
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDemandLimitSource4Selector(void)

{
  if (((fuel_demand_limit_source != NO_LIMIT_ACTIVE) &&
      (fuel_demand_limit_source != PROTECTION_OVERRIDE)) &&
     ((int)(short)_retarder_mode_table_count < (int)(uint)vp44_diagnostic_fault_state)) {
    vp44_diagnostic_fault_state = _retarder_mode_table_count;
    fuel_demand_limit_source = RETARDER_MODE_TABLE;
  }
  return;
}



//
// Function: fuelDemandOverrideStateSelector @ 0x000314c6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void fuelDemandOverrideStateSelector(void)

{
  if (_retarder_mode_threshold_result == 0) {
    fuel_temp_limit_state_2 = 0;
    fuel_demand_override_state = 5;
    return;
  }
  fuel_temp_limit_state_2 = _retarder_mode_threshold_result;
  fuel_demand_override_state = 1;
  return;
}



//
// Function: fuelDemandLimitOrchestrator @ 0x000314ee
//

ushort fuelDemandLimitOrchestrator(void)

{
  bool bVar1;
  ushort uVar2;
  ushort uVar3;
  
  uVar2 = 0;
  bVar1 = false;
  if (((rpm_to_reach_before_for_engine_sync_fuel_pressure_errors_0_8000 < current_engine_rpm) &&
      (diagnostic_sensor_reading < fault_when_epf_engine_sync_fuel_pressure_rpm_error_found_0_65535)
      ) && (current_fuel_demand_value <=
            time_from_fuel_temperature_overlimit_reached_to_start_of_fue_0_65535)) {
    uVar2 = 1;
  }
  else if ((current_engine_rpm <= fuel_demand_limit_special_value) ||
          (time_from_fuel_temperature_overlimit_reached_to_start_of_fue_0_65535 <
           current_fuel_demand_value)) {
    bVar1 = true;
  }
  if (((fuel_pressure_rpm_flag != 0) && (bVar1)) || ((uVar2 | fuel_pressure_rpm_flag) == 0)) {
    vp44_diagnostic_fault_state = 0;
    fuel_demand_limit_source = NO_LIMIT_ACTIVE;
    return 0;
  }
  if (fuel_temp_limit_state_2 != 0) {
    vp44_diagnostic_fault_state = fuel_temp_limit_state_2;
    fuel_demand_limit_source = fuel_demand_override_state;
    return uVar2 | fuel_pressure_rpm_flag;
  }
  uVar3 = 0;
  uVar2 = oil_pressure_protection_enabled | active_derate_value;
  if ((uVar2 == 0) &&
     ((uVar2 = derate_status_byte & 4, (derate_status_byte & 4) == 0 ||
      ((uVar2 = derate_status_byte & 4, (derate_status_byte & 4) != 0 &&
       (uVar2 = diagnostic_system_flags_2 & 0x40, (diagnostic_system_flags_2 & 0x40) == 0)))))) {
    uVar3 = 1;
  }
  if (((fuel_pressure_rpm_flag == 0) || (uVar3 != 0)) &&
     (uVar2 = uVar3 | fuel_pressure_rpm_flag, uVar2 != 0)) {
    vp44_diagnostic_fault_state = 4;
    fuel_demand_limit_source = PROTECTION_OVERRIDE;
    fuelDemandLimitSource2Selector();
    fuelDemandLimitSource3Selector();
    uVar2 = fuelDemandLimitSource4Selector();
    return uVar2;
  }
  vp44_diagnostic_fault_state = 0;
  fuel_demand_limit_source = NO_LIMIT_ACTIVE;
  return uVar2;
}



//
// Function: fuelPressureSyncStateMachine @ 0x000315f6
//

void fuelPressureSyncStateMachine(void)

{
  bool bVar1;
  
  switch(fuel_pressure_sync_state_machine) {
  case FUEL_SYNC_IDLE:
    if (vp44_diagnostic_fault_state != 0) {
      if (((fault_status_flags_2 & 0x400) == 0) && ((fault_status_flags_2 & 0x200) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if ((bVar1) && (fault_when_epf_engine_sync_fuel_pressure_fuel_error_found_0_65535 != 0)) {
        fuel_pressure_sync_state_machine = FAULT_COUNTING;
        fuel_pressure_sync_counter = 0;
      }
      else if (((uint)(&vp44_status_flags_1)[(short)((int)(uint)EPFPRPSS >> 4)] &
               1 << (EPFPRPSS & 0xf)) == 0) {
        fuel_pressure_sync_state_machine = FAULT_CONFIRMED;
      }
      else {
        fuel_pressure_sync_state_machine = STATUS_MONITORING;
      }
    }
    break;
  case FAULT_COUNTING:
    if (vp44_diagnostic_fault_state == 0) {
      if (delay_after_rpm_is_reached_before_eng_sync_fuel_pressure_errors_0_8000 == 0) {
        fuel_pressure_sync_state_machine = FUEL_SYNC_IDLE;
      }
      else {
        fuel_pressure_sync_state_machine = DELAY_RECOVERY;
        fuel_pressure_sync_counter = 0;
      }
    }
    else if (fault_when_epf_engine_sync_fuel_pressure_fuel_error_found_0_65535 <=
             fuel_pressure_sync_counter) {
      fuel_pressure_sync_state_machine = FAULT_CONFIRMED;
    }
    break;
  case STATUS_MONITORING:
    if (vp44_diagnostic_fault_state == 0) {
      if (delay_after_rpm_is_reached_before_eng_sync_fuel_pressure_errors_0_8000 == 0) {
        fuel_pressure_sync_state_machine = FUEL_SYNC_IDLE;
      }
      else {
        fuel_pressure_sync_state_machine = DELAY_RECOVERY;
        fuel_pressure_sync_counter = 0;
      }
    }
    else {
      if (((fault_status_flags_2 & 0x400) == 0) && ((fault_status_flags_2 & 0x200) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if ((bVar1) && (fault_when_epf_engine_sync_fuel_pressure_fuel_error_found_0_65535 != 0)) {
        fuel_pressure_sync_state_machine = FAULT_COUNTING;
        fuel_pressure_sync_counter = 0;
      }
      else if ((fuel_pressure_rpm_flag != 0) &&
              ((fuel_pressure_sync_param <= current_engine_rpm ||
               (fuel_pressure_injection_flag != 0)))) {
        fuel_pressure_sync_state_machine = FAULT_CONFIRMED;
      }
    }
    break;
  case FAULT_CONFIRMED:
    if (vp44_diagnostic_fault_state == 0) {
      if (delay_after_rpm_is_reached_before_eng_sync_fuel_pressure_errors_0_8000 == 0) {
        fuel_pressure_sync_state_machine = FUEL_SYNC_IDLE;
      }
      else {
        fuel_pressure_sync_state_machine = DELAY_RECOVERY;
        fuel_pressure_sync_counter = 0;
      }
    }
    break;
  case DELAY_RECOVERY:
    if (delay_after_rpm_is_reached_before_eng_sync_fuel_pressure_errors_0_8000 <=
        fuel_pressure_sync_counter) {
      fuel_pressure_sync_state_machine = FUEL_SYNC_IDLE;
    }
  }
  fuel_pressure_sync_counter = fuel_pressure_sync_counter + 1;
  return;
}



//
// Function: vp44InjectionSystemStateController @ 0x00031768
//

void vp44InjectionSystemStateController(void)

{
  undefined4 unaff_A2;
  ushort uVar1;
  
  uVar1 = (ushort)((uint)unaff_A2 >> 0x10);
  fuelDemandOverrideStateSelector();
  fuelDemandLimitOrchestrator();
  fuelPressureSyncStateMachine();
  vp44_injection_system_active = (word)(fuel_pressure_sync_state_machine != FUEL_SYNC_IDLE);
  if (fuel_pressure_sync_state_machine == FAULT_CONFIRMED) {
    fuelDemandFaultFlagUpdater(CONCAT22(vp44_diagnostic_fault_state,uVar1));
  }
  else {
    fuelDemandFaultFlagUpdater((uint)uVar1);
  }
  fuel_pressure_injection_flag = fuel_pressure_rpm_flag;
  fuel_pressure_rpm_flag = vp44_diagnostic_fault_state;
  return;
}



//
// Function: fuelDemandState24Override @ 0x000317c2
//

void fuelDemandState24Override(void)

{
  if (vp44_engine_state == VP44_ACTIVE_MODE) {
    fuel_demand_state_24_write_flag = fuel_limit_minimum_value;
    fuel_limit_minimum_value = fuel_demand_state_24_override_value;
    fuel_demand_source_id = STATE_24_OVERRIDE;
    fuel_adjustment_active_flag = 0;
  }
  return;
}



//
// Function: fuelDemandControllerInit @ 0x000317ee
//

void fuelDemandControllerInit(void)

{
  ushort in_stack_00000000;
  
  vp44_injection_system_active = 0;
  fuelDemandFaultFlagUpdater((uint)in_stack_00000000);
  fuel_pressure_sync_state_machine = FUEL_SYNC_IDLE;
  fuel_demand_override_state = 5;
  fuel_demand_limit_source = PROTECTION_OVERRIDE;
  return;
}



//
// Function: fuelTemperatureLimitingPrimary @ 0x00031814
//

ushort fuelTemperatureLimitingPrimary(void)

{
  bool bVar1;
  ushort uVar2;
  
  fuel_temp_limit_primary = 0;
  fuel_temp_primary_counter_flag = 0;
  fuel_temp_secondary_counter_flag = 0;
  if (threshold_for_fuel_temperature_fuel_limiting_to_initiate_shu_0_65535 <= current_engine_rpm) {
    fuel_temp_primary_counter_flag = 0;
    fuel_temp_secondary_counter_flag = 0;
    fuel_temp_limit_primary = 0;
    return current_engine_rpm;
  }
  if ((vp44_communication_status & 1) == 0) {
    fuel_temp_primary_counter_flag = 0;
    fuel_temp_secondary_counter_flag = 0;
    fuel_temp_limit_primary = 0;
    return vp44_communication_status & 1;
  }
  if ((fuel_temp_limit_mode_selector == 1) || (fuel_temp_limit_mode_selector == 3)) {
    fuel_temp_limit_primary = 1;
  }
  if (throttle_position_raw < time_to_reach_full_derate_w_fuel_temperature_engine_prot_0_0039_256) {
    if (((engine_fault_status_register_1 & 1) == 0) ||
       ((engine_fault_confirmation_register & 1) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (bVar1) goto LAB_000318d6;
    if (((engine_fault_status_register_1 & 2) == 0) ||
       ((engine_fault_confirmation_register & 2) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if ((bVar1) ||
       ((fuel_temp_limit_primary_prev == 1 &&
        (time_from_fuel_temperature_overlimit_reached_to_start_of_rpm_0_65535 <=
         throttle_position_raw)))) goto LAB_000318d6;
  }
  else {
LAB_000318d6:
    fuel_temp_limit_primary = 1;
    fuel_temp_primary_counter_flag = 1;
  }
  if ((fuel_temp_control_flags & 0x1000) == 0) {
    if (intake_manifold_temp_raw <
        minimum_temperature_threshold_for_fuel_temperature_fuel_limi_0_65535) {
      if (((fault_flags_active_base & 0x2000) == 0) || ((fault_flags_enabled_base & 0x2000) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((fault_flags_active_base & 0x4000) == 0) || ((fault_flags_enabled_base & 0x4000) == 0))
        {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if ((!bVar1) &&
           ((fuel_temp_limit_primary_prev != 1 ||
            (intake_manifold_temp_raw <
             time_to_reach_full_derate_w_fuel_temperature_engine_prot_0_0039_256))))
        goto LAB_00031956;
      }
    }
    fuel_temp_limit_primary = 1;
    fuel_temp_primary_counter_flag = 1;
  }
LAB_00031956:
  if (((fuel_temp_control_flags & 0x4000) != 0) && ((vp44_communication_status & 0x10) != 0)) {
    fuel_temp_limit_primary = 1;
    fuel_temp_secondary_counter_flag = 1;
  }
  if (((fuel_temp_control_flags & 0x400) != 0) &&
     (((vp44_fuel_temperature_state & 1) != 0 ||
      ((fuel_temp_limit_primary_prev == 1 &&
       (fuel_temp_protection_timer_1 < fuel_temp_protection_threshold_383c)))))) {
    fuel_temp_limit_primary = 1;
  }
  if ((fuel_temp_control_flags & 0x2000) != 0) {
    if ((((fuel_temp_vp44_diagnostic_enable == 0) || (vp44_diagnostic_fault_state != 3)) ||
        (intake_manifold_temp_raw <= shutdown_delay_for_fuel_temperature_shutdown_0_65535)) ||
       ((throttle_position_raw <=
         threshold_for_fuel_temperature_rpm_limiting_to_initiate_shut_0_65535 ||
        (fuel_temp_protection_timer_2 <
         rpm_threshold_that_must_be_crossed_in_order_to_log_fuel_temp_0_4500)))) {
      if ((((fuel_temp_vp44_diagnostic_enable == 0) &&
           ((vp44_diagnostic_fault_state == 1 &&
            (shutdown_delay_for_fuel_temperature_shutdown_0_65535 < intake_manifold_temp_raw)))) &&
          (threshold_for_fuel_temperature_rpm_limiting_to_initiate_shut_0_65535 <
           throttle_position_raw)) &&
         (rpm_threshold_that_must_be_crossed_in_order_to_log_fuel_temp_0_4500 <=
          fuel_temp_protection_timer_2)) {
        fuel_temp_limit_primary = 1;
        fuel_temp_primary_counter_flag = 1;
      }
    }
    else {
      fuel_temp_limit_primary = 1;
      fuel_temp_primary_counter_flag = 1;
    }
  }
  if (fuel_temp_primary_countdown_timer != 0) {
    fuel_temp_limit_primary = 1;
  }
  uVar2 = fuel_temp_control_flags & 0x1000;
  if (((fuel_temp_control_flags & 0x1000) == 0) &&
     (uVar2 = fuel_temp_protection_timer_3,
     fuel_temp_protection_timer_3 < minimum_threshold_for_fuel_temperature_rpm_limiting_0_65535)) {
    fuel_temp_limit_primary = 1;
    fuel_temp_primary_counter_flag = 1;
  }
  return uVar2;
}



//
// Function: fuelTemperatureLimitingSecondary @ 0x00031a76
//

word fuelTemperatureLimitingSecondary(void)

{
  bool bVar1;
  
  fuel_temp_limit_secondary = 0;
  if (threshold_for_fuel_temperature_fuel_limiting_to_initiate_shu_0_65535 <= current_engine_rpm) {
    fuel_temp_limit_secondary = 0;
    return current_engine_rpm;
  }
  if ((vp44_communication_status & 1) == 0) {
    fuel_temp_limit_secondary = 0;
    return vp44_communication_status & 1;
  }
  if ((fuel_temp_control_flags & 0x1000) == 0) {
    fuel_temp_limit_secondary = 0;
    return fuel_temp_control_flags & 0x1000;
  }
  if ((fuel_temp_limit_mode_selector == 2) || (fuel_temp_limit_mode_selector == 3)) {
    fuel_temp_limit_secondary = 1;
  }
  if (intake_manifold_temp_raw <
      minimum_temperature_threshold_for_fuel_temperature_fuel_limi_0_65535) {
    if (((fault_flags_active_base & 0x2000) == 0) || ((fault_flags_enabled_base & 0x2000) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((fault_flags_active_base & 0x4000) == 0) || ((fault_flags_enabled_base & 0x4000) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if ((!bVar1) &&
         ((fuel_temp_limit_secondary_prev == 0 ||
          (intake_manifold_temp_raw <
           time_to_reach_full_derate_w_fuel_temperature_engine_prot_0_0039_256))))
      goto LAB_00031b34;
    }
  }
  fuel_temp_limit_secondary = 1;
LAB_00031b34:
  if (((fuel_temp_control_flags & 0x4000) != 0) && ((vp44_communication_status & 0x10) != 0)) {
    fuel_temp_limit_secondary = 1;
  }
  if (fuel_temp_secondary_countdown != 0) {
    fuel_temp_limit_secondary = 1;
  }
  if (fuel_temp_protection_timer_3 < minimum_threshold_for_fuel_temperature_rpm_limiting_0_65535) {
    fuel_temp_limit_secondary = 1;
  }
  return fuel_temp_protection_timer_3;
}



//
// Function: ioControlSourceRegisterManager @ 0x00031b78
//

void ioControlSourceRegisterManager(uint param_1)

{
  byte bVar1;
  
  bVar1 = (byte)param_1;
  if (param_1._0_2_ == 0) {
    if (maximum_threshold_for_fuel_temperature_fuel_limiting_0_65535 == 0) {
      (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3] =
           ~('\x01' << (bVar1 & 7)) & (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3];
      return;
    }
    (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3] =
         '\x01' << (bVar1 & 7) | (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3];
    return;
  }
  if (maximum_threshold_for_fuel_temperature_fuel_limiting_0_65535 == 0) {
    (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3] =
         '\x01' << (bVar1 & 7) | (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3];
    return;
  }
  (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3] =
       ~('\x01' << (bVar1 & 7)) & (&io_control_source_register)[(int)(param_1 & 0xffff) >> 3];
  return;
}



//
// Function: ioControlRegistersInit @ 0x00031c06
//

void ioControlRegistersInit(void)

{
  fuel_temp_limit_primary = 0;
  fuel_temp_limit_secondary = 0;
  fuel_temp_protection_state_33e2 = 0;
  fuel_temp_protection_active_flag = 0;
  fuel_temp_vp44_state_flag = 0;
  fuel_temp_protection_timer_3 = minimum_threshold_for_fuel_temperature_rpm_limiting_0_65535;
  fuel_temp_protection_timer_2 = rpm_threshold_that_must_be_crossed_in_order_to_log_fuel_temp_0_4500
  ;
  fuel_temp_protection_timer_1 = fuel_temp_protection_threshold_383c;
  ioControlSourceRegisterManager(0xf);
  ioControlSourceRegisterManager(CONCAT22(fuel_temp_limit_secondary,0x18));
  return;
}



//
// Function: fuelTemperatureProtectionSlowCycle40Coordinator @ 0x00031c60
//

uint fuelTemperatureProtectionSlowCycle40Coordinator(void)

{
  undefined2 uVar1;
  uint uVar2;
  bool bVar3;
  
  fuel_temp_limit_primary_prev = fuel_temp_limit_primary;
  fuel_temp_limit_secondary_prev = fuel_temp_limit_secondary;
  if (engine_operating_mode == ENGINE_IDLE) {
    fuel_temp_limit_primary = 0;
    fuel_temp_limit_secondary = 0;
    ioControlSourceRegisterManager(0xf);
    fuel_temp_limit_output_970a = (ushort)io_control_flags;
    return (uint)io_control_flags;
  }
  fuelTemperatureLimitingPrimary();
  ioControlSourceRegisterManager(CONCAT22(fuel_temp_limit_primary,0xf));
  fuel_temp_limit_output_970a = (word)io_control_flags;
  fuel_temp_vp44_state_previous = fuel_temp_vp44_state_flag;
  bVar3 = (vp44_fuel_temperature_state & 1) != 0;
  if ((fuel_temp_control_flags & 0x400) != 0) {
    if ((bVar3) && (fuel_temp_vp44_state_flag == 0)) {
      fuel_temp_protection_timer_1 = 0;
      fuel_temp_protection_state_33e2 = 1;
      fuel_temp_protection_active_flag = 1;
    }
    else if (fuel_temp_protection_timer_1 < fuel_temp_protection_threshold_383c) {
      fuel_temp_protection_timer_1 = fuel_temp_protection_timer_1 + 1;
    }
  }
  if (fuel_temp_limit_primary == 0) {
    fuel_temp_protection_active_flag = 0;
  }
  if ((fuel_temp_protection_active_flag != 0) && (fuel_temp_protection_time_accum != 0xffffffff)) {
    fuel_temp_protection_time_accum = fuel_temp_protection_time_accum + 1;
  }
  if ((fuel_temp_control_flags & 0x800) != 0) {
    if (fuel_temp_throttle_high_threshold < throttle_position_value) {
      fuel_temp_protection_timer_1 = fuel_temp_protection_threshold_383c;
    }
    if ((throttle_position_value < fuel_temp_throttle_low_threshold) &&
       (fuel_temp_protection_state_33e2 == 1)) {
      fuel_temp_protection_timer_1 = 0;
    }
    if ((fuel_temp_throttle_low_threshold <= throttle_position_value) &&
       (fuel_temp_protection_threshold_383c <= fuel_temp_protection_timer_1)) {
      fuel_temp_protection_state_33e2 = 0;
    }
  }
  if ((fuel_temp_control_flags & 0x2000) != 0) {
    if (((vp44_diagnostic_fault_state != 3) ||
        (intake_manifold_temp_raw <= shutdown_delay_for_fuel_temperature_shutdown_0_65535)) ||
       (throttle_position_raw <=
        threshold_for_fuel_temperature_rpm_limiting_to_initiate_shut_0_65535)) {
      fuel_temp_protection_timer_2 = 0;
    }
    if (((fuel_temp_vp44_diagnostic_enable == 0) && (vp44_diagnostic_fault_state != 1)) ||
       ((intake_manifold_temp_raw <= shutdown_delay_for_fuel_temperature_shutdown_0_65535 ||
        (throttle_position_raw <=
         threshold_for_fuel_temperature_rpm_limiting_to_initiate_shut_0_65535)))) {
      fuel_temp_protection_timer_2 = 0;
    }
    if (((vp44_diagnostic_fault_state == 3) &&
        (shutdown_delay_for_fuel_temperature_shutdown_0_65535 < intake_manifold_temp_raw)) &&
       ((threshold_for_fuel_temperature_rpm_limiting_to_initiate_shut_0_65535 <
         throttle_position_raw &&
        (fuel_temp_protection_timer_2 <
         rpm_threshold_that_must_be_crossed_in_order_to_log_fuel_temp_0_4500)))) {
      fuel_temp_protection_timer_2 = fuel_temp_protection_timer_2 + 1;
    }
    if ((((fuel_temp_vp44_diagnostic_enable == 0) && (vp44_diagnostic_fault_state == 1)) &&
        (shutdown_delay_for_fuel_temperature_shutdown_0_65535 < intake_manifold_temp_raw)) &&
       ((threshold_for_fuel_temperature_rpm_limiting_to_initiate_shut_0_65535 <
         throttle_position_raw &&
        (fuel_temp_protection_timer_2 <
         rpm_threshold_that_must_be_crossed_in_order_to_log_fuel_temp_0_4500)))) {
      fuel_temp_protection_timer_2 = fuel_temp_protection_timer_2 + 1;
    }
  }
  if (fuel_temp_primary_countdown_timer != 0) {
    fuel_temp_primary_countdown_timer = fuel_temp_primary_countdown_timer - 1;
  }
  if ((fuel_temp_control_flags & 0x1000) == 0) {
    if (((fuel_temp_limit_primary == 0) || (fuel_temp_limit_primary_prev != 0)) ||
       (intake_manifold_temp_raw <
        minimum_temperature_threshold_for_fuel_temperature_fuel_limi_0_65535)) {
      if (fuel_temp_protection_timer_3 < minimum_threshold_for_fuel_temperature_rpm_limiting_0_65535
         ) {
        fuel_temp_protection_timer_3 = fuel_temp_protection_timer_3 + 1;
      }
    }
    else {
      fuel_temp_protection_timer_3 = 0;
    }
  }
  if (fuel_temp_limit_primary != 0) {
    if (time_threshold_that_must_be_crossed_in_order_to_log_fuel_tempe_0_255 <
        throttle_position_value) {
      if (fuel_temp_high_throttle_accum != 0xffffffff) {
        fuel_temp_high_throttle_accum = fuel_temp_high_throttle_accum + 1;
      }
    }
    else if (fuel_temp_low_throttle_accum != 0xffffffff) {
      fuel_temp_low_throttle_accum = fuel_temp_low_throttle_accum + 1;
    }
    if (fuel_temp_secondary_counter_flag != 0) {
      fuel_temp_protection_counter_2_5fa6 = fuel_temp_protection_counter_2_5fa6 + 1;
    }
    if (fuel_temp_primary_counter_flag != 0) {
      fuel_temp_protection_counter_1_5fa2 = fuel_temp_protection_counter_1_5fa2 + 1;
    }
  }
  fuel_temp_vp44_state_flag = (ushort)bVar3;
  fuelTemperatureLimitingSecondary();
  ioControlSourceRegisterManager(CONCAT22(fuel_temp_limit_secondary,0x18));
  uVar1 = 0;
  fuel_temp_output_control_status = (ushort)output_control_status_byte;
  if ((fuel_temp_limit_secondary != 0) &&
     (uVar1 = 0xffff, fuel_temp_secondary_time_accum != 0xffffffff)) {
    fuel_temp_secondary_time_accum = fuel_temp_secondary_time_accum + 1;
  }
  if (fuel_temp_secondary_countdown != 0) {
    fuel_temp_secondary_countdown = fuel_temp_secondary_countdown - 1;
  }
  uVar2 = CONCAT22(uVar1,fuel_temp_control_flags) & 0xffff1000;
  if ((fuel_temp_control_flags & 0x1000) != 0) {
    if (((fuel_temp_limit_secondary != 0) && (fuel_temp_limit_secondary_prev == 0)) &&
       (uVar2 = CONCAT22(uVar1,intake_manifold_temp_raw),
       minimum_temperature_threshold_for_fuel_temperature_fuel_limi_0_65535 <=
       intake_manifold_temp_raw)) {
      fuel_temp_protection_timer_3 = 0;
      return uVar2;
    }
    uVar2 = CONCAT22((short)(uVar2 >> 0x10),fuel_temp_protection_timer_3);
    if (fuel_temp_protection_timer_3 < minimum_threshold_for_fuel_temperature_rpm_limiting_0_65535)
    {
      fuel_temp_protection_timer_3 = fuel_temp_protection_timer_3 + 1;
    }
  }
  return uVar2;
}



//
// Function: vp44SensorStatusMonitor @ 0x00031fb8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44SensorStatusMonitor(void)

{
  if (_vp44_extended_processing_enable == 0) {
    if (vp44_state_debounce_value_938c == vp44_sensor_status_monitor_state) {
      vp44_sensor_state_counter = 2;
    }
    else if (vp44_state_debounce_value_938c == vp44_sensor_prev_debounce) {
      if (vp44_sensor_state_counter + 1 < (uint)vp44_state_debounce_threshold) {
        vp44_sensor_state_counter = vp44_sensor_state_counter + 1;
        vp44_sensor_status_monitor_state = STATE_4_DEFAULT;
      }
      else {
        vp44_sensor_status_monitor_state = vp44_state_debounce_value_938c;
      }
    }
    else if (vp44_sensor_state_counter < 2) {
      vp44_sensor_status_monitor_state = STATE_4_DEFAULT;
    }
    else {
      vp44_sensor_state_counter = vp44_sensor_state_counter - 1;
    }
    if (vp44_state_debounce_threshold < 2) {
      vp44_sensor_status_monitor_state = vp44_state_debounce_value_938c;
    }
    if (vp44_sensor_status_monitor_state == STATE_5_FAULT) {
      sensor_status_register = sensor_status_register | 0x10;
    }
    else if (vp44_sensor_status_monitor_state == STATE_0_IDLE) {
      sensor_status_register = sensor_status_register & 0xef;
    }
    if (vp44_sensor_status_monitor_state == STATE_2_MONITOR) {
      if (vp44_sensor_debounce_counter < vp44_state_processing_timeout_reload) {
        sensor_status_register = sensor_status_register & 0xfd | 4;
        vp44_sensor_debounce_counter = vp44_sensor_debounce_counter + 1;
      }
      else {
        sensor_status_register = sensor_status_register | 6;
      }
    }
    else {
      sensor_status_register = sensor_status_register & 0xf9;
      vp44_sensor_debounce_counter = 0;
    }
    if (vp44_sensor_status_monitor_state == STATE_3_TRANSITION) {
      sensor_status_register = sensor_status_register | 1;
    }
    else {
      sensor_status_register = sensor_status_register & 0xfe;
    }
    if (vp44_sensor_status_monitor_state == STATE_1_ACTIVE) {
      sensor_status_register = sensor_status_register | 8;
    }
    else {
      sensor_status_register = sensor_status_register & 0xf7;
    }
    vp44_sensor_prev_debounce = vp44_state_debounce_value_938c;
  }
  return;
}



//
// Function: vp44DiagnosticStateInit @ 0x000320bc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44DiagnosticStateInit(void)

{
  if (_vp44_extended_processing_enable == 0) {
    vp44_sensor_prev_debounce = STATE_4_DEFAULT;
    vp44_sensor_status_monitor_state = STATE_4_DEFAULT;
    vp44_sensor_state_counter = 0;
  }
  return;
}



//
// Function: vp44ControlFlagsInit @ 0x000320dc
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44ControlFlagsInit(void)

{
  vp44_control_flags_state = 0;
  vp44_control_flags_init_state = 0;
  _vp44_control_flag_1 = 1;
  _vp44_control_flag_2 = 1;
  _vp44_control_flag_3 = 1;
  _vp44_control_flag_4 = 0;
  _vp44_control_flag_5 = 1;
  _vp44_control_flag_6 = 0;
  _vp44_control_flag_7 = 0;
  vp44_sensor_diagnostic_write_state = 0;
  return;
}



//
// Function: vp44SensorDiagnosticControl @ 0x0003211a
//

ushort vp44SensorDiagnosticControl(void)

{
  ushort uVar1;
  
  uVar1 = vp44_flag_register_1 & 0x10;
  if (uVar1 != 0) {
    if (current_engine_rpm < added_to_final_fuel_command_for_cylinder_6_300_to_300) {
      vp44_control_flags_state = 0;
    }
    else if ((byte)((-((vp44_sensor_diagnostic_state_bdc9 & 8) != 0) & 1U) +
                   (-((vp44_sensor_diagnostic_state_bdc9 & 0x20) != 0) & 1U) * '\x02' +
                   (-((vp44_sensor_diagnostic_state_bdc9 & 0x40) != 0) & 1U) * '\x04') == '\x06') {
      vp44_control_flags_state = 1;
    }
    else {
      vp44_control_flags_state = 0;
    }
    vp44_sensor_diag_index =
         (-((vp44_sensor_diagnostic_state_bdc9 & 8) != 0) & 1U) +
         (-((vp44_fuel_temperature_state & 1) != 0) & 1U) * '\x02' +
         (-((vp44_sensor_diagnostic_state_bdc9 & 0x20) != 0) & 1U) * '\x04';
    if ((vp44_sensor_diag_timer_1 != 0) && (vp44_sensor_diagnostic_write_state == 0)) {
      vp44_sensor_diag_timer_1 = vp44_sensor_diag_timer_1 - 1;
    }
    if (vp44_sensor_diagnostic_write_state == 0) {
      if (((short)fuel_cylinder_average <
           (short)added_to_final_fuel_command_for_cylinder_3_300_to_300) ||
         ((vp44_engine_state != 0x10 && (vp44_engine_state != 0x13)))) {
        if (vp44_control_flags_state == 1) {
          dzg_pressure_control_state = 1;
        }
        else if ((vp44_sensor_diag_timer_1 == 0) || ((vp44_sensor_diagnostic_state_bdc9 & 8) != 0))
        {
          dzg_pressure_control_state = 0;
        }
      }
      else {
        dzg_pressure_state_saved = dzg_pressure_control_state;
        dzg_pressure_control_state = 0;
        vp44_sensor_diagnostic_write_state = 1;
        vp44_sensor_diagnostic_countdown = added_to_final_fuel_command_for_cylinder_4_300_to_300;
      }
    }
    else if (vp44_sensor_diagnostic_countdown == 0) {
      dzg_pressure_control_state = dzg_pressure_state_saved;
      vp44_sensor_diagnostic_write_state = 0;
    }
    else {
      dzg_pressure_control_state = 0;
      vp44_sensor_diagnostic_countdown = vp44_sensor_diagnostic_countdown - 1;
    }
    if ((vp44_sensor_diag_state_prev != 0) && ((vp44_sensor_diagnostic_state_bdc9 & 0x20) == 0)) {
      vp44_sensor_diag_timer_1 = added_to_final_fuel_command_for_cylinder_2_300_to_300;
    }
    vp44_sensor_diag_timer_2 =
         (&vp44_control_flags_init_state)[(short)(ushort)vp44_sensor_diag_index];
    if (vp44_sensor_diag_timer_2 == 1) {
      if (vp44_sensor_diagnostic_read_state < added_to_final_fuel_command_for_cylinder_5_300_to_300)
      {
        vp44_sensor_diagnostic_read_state = vp44_sensor_diagnostic_read_state + 1;
        vp44_sensor_diag_timer_2 = 0;
      }
      else {
        vp44_sensor_diag_timer_2 = 1;
      }
    }
    else {
      vp44_sensor_diagnostic_read_state = 0;
    }
    if (vp44_sensor_diag_timer_2 == 0) {
      engine_fault_register_a = engine_fault_register_a & 0xfbff;
    }
    else {
      engine_fault_register_a = engine_fault_register_a | 0x400;
      engine_fault_register_c = engine_fault_register_c | 0x400;
    }
    uVar1 = (byte)-((vp44_sensor_diagnostic_state_bdc9 & 0x20) != 0) & 1;
    vp44_sensor_diag_state_prev = (byte)uVar1;
    if (dzg_pressure_control_state == 1) {
      io_control_flags = io_control_flags | 8;
      return uVar1;
    }
    io_control_flags = io_control_flags & 0xf7;
  }
  return uVar1;
}



//
// Function: dzgTimingStateVariablesInit @ 0x00032342
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void dzgTimingStateVariablesInit(void)

{
  dzg_timing_accumulator_value = 0;
  dzg_state_transition_counter = 0;
  dzg_timing_state_variable = 7;
  dzg_pressure_ramp_rate = 7;
  dzg_timing_state_index = INITIAL;
  dzg_pressure_state_index = 0;
  dzg_timing_state_machine_value =
       _dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60;
  dzg_pressure_target_value = watchdog_fueling_enforced_above_this_speed_0_to_5000;
  return;
}



//
// Function: dzgTimingAndPressureControlStateMachine @ 0x00032380
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

uint dzgTimingAndPressureControlStateMachine(void)

{
  word wVar1;
  ushort uVar4;
  uint uVar2;
  ushort uVar5;
  int iVar3;
  ushort uVar6;
  bool bVar7;
  
  uVar6 = retarder_input_value;
  if (retarder_input_value < 0x11) {
    uVar6 = 0x10;
  }
  switch(dzg_timing_state_index) {
  case INITIAL:
    if (dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60._2_2_ <
        throttle_position_raw) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_timing_accumulator_value;
      dzg_timing_accumulator_value = dzg_timing_accumulator_value + 1;
      if (bVar7) {
        dzg_timing_accumulator_value = 0;
        dzg_timing_state_index = DZG_ACTIVE;
        if ((int)((uint)dzg_timing_control_params -
                 (uint)_dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60) < 0) {
          iVar3 = -((uint)dzg_timing_control_params -
                   (uint)_dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60);
        }
        else {
          iVar3 = (uint)dzg_timing_control_params -
                  (uint)_dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60;
        }
        dzg_timing_state_variable =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_timing_state_machine_value = dzg_timing_control_params;
      }
    }
    else {
      dzg_timing_accumulator_value = 0;
    }
    break;
  case DZG_ACTIVE:
    if (throttle_position_raw <
        dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60._2_2_) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_timing_accumulator_value;
      dzg_timing_accumulator_value = dzg_timing_accumulator_value + 1;
      if (bVar7) {
        dzg_timing_accumulator_value = 0;
        dzg_timing_state_index = INITIAL;
        if ((int)((uint)dzg_timing_control_params -
                 (uint)_dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60) < 0) {
          iVar3 = -((uint)dzg_timing_control_params -
                   (uint)_dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60);
        }
        else {
          iVar3 = (uint)dzg_timing_control_params -
                  (uint)_dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60;
        }
        dzg_timing_state_variable =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_timing_state_machine_value =
             _dzg_angular_duration_angular_high_duration_of_dzg_pulse_at_tpu_0_60;
      }
    }
    else if ((time_that_must_elasp_since_last_event_to_consider_an_abuse_0_100000._0_2_ <
              throttle_position_raw) || (dzg_threshold_level_2 < throttle_position_raw)) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_timing_accumulator_value;
      dzg_timing_accumulator_value = dzg_timing_accumulator_value + 1;
      if (bVar7) {
        dzg_timing_accumulator_value = 0;
        dzg_timing_state_index = ALTERNATE;
        if ((int)((uint)watchdog_fueling_debounce_counts_0_to_255 - (uint)dzg_timing_control_params)
            < 0) {
          iVar3 = -((uint)watchdog_fueling_debounce_counts_0_to_255 -
                   (uint)dzg_timing_control_params);
        }
        else {
          iVar3 = (uint)watchdog_fueling_debounce_counts_0_to_255 - (uint)dzg_timing_control_params;
        }
        dzg_timing_state_variable =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_timing_state_machine_value = watchdog_fueling_debounce_counts_0_to_255;
      }
    }
    else {
      dzg_timing_accumulator_value = 0;
    }
    break;
  case ALTERNATE:
    if ((throttle_position_raw <
         time_that_must_elasp_since_last_event_to_consider_an_abuse_0_100000._0_2_) &&
       (throttle_position_raw < dzg_threshold_level_2)) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_timing_accumulator_value;
      dzg_timing_accumulator_value = dzg_timing_accumulator_value + 1;
      if (bVar7) {
        dzg_timing_accumulator_value = 0;
        dzg_timing_state_index = DZG_ACTIVE;
        if ((int)((uint)watchdog_fueling_debounce_counts_0_to_255 - (uint)dzg_timing_control_params)
            < 0) {
          iVar3 = -((uint)watchdog_fueling_debounce_counts_0_to_255 -
                   (uint)dzg_timing_control_params);
        }
        else {
          iVar3 = (uint)watchdog_fueling_debounce_counts_0_to_255 - (uint)dzg_timing_control_params;
        }
        dzg_timing_state_variable =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_timing_state_machine_value = dzg_timing_control_params;
      }
    }
    else if (time_abuse_event_must_be_continuously_present_before_it_will_b_0_100 <
             throttle_position_raw) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_timing_accumulator_value;
      dzg_timing_accumulator_value = dzg_timing_accumulator_value + 1;
      if (bVar7) {
        dzg_timing_accumulator_value = 0;
        dzg_timing_state_index = ALTERNATE|DZG_ACTIVE;
        if ((int)((uint)max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200 -
                 (uint)watchdog_fueling_debounce_counts_0_to_255) < 0) {
          iVar3 = -((uint)max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200 -
                   (uint)watchdog_fueling_debounce_counts_0_to_255);
        }
        else {
          iVar3 = (uint)max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200 -
                  (uint)watchdog_fueling_debounce_counts_0_to_255;
        }
        dzg_timing_state_variable =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_timing_state_machine_value = max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200;
      }
    }
    else {
      dzg_timing_accumulator_value = 0;
    }
    break;
  case ALTERNATE|DZG_ACTIVE:
    if (throttle_position_raw < time_abuse_event_must_be_continuously_present_before_it_will_b_0_100
       ) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_timing_accumulator_value;
      dzg_timing_accumulator_value = dzg_timing_accumulator_value + 1;
      if (bVar7) {
        dzg_timing_accumulator_value = 0;
        dzg_timing_state_index = ALTERNATE;
        if ((int)((uint)max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200 -
                 (uint)watchdog_fueling_debounce_counts_0_to_255) < 0) {
          iVar3 = -((uint)max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200 -
                   (uint)watchdog_fueling_debounce_counts_0_to_255);
        }
        else {
          iVar3 = (uint)max_allowed_fueling_at_high_rpm_and_min_throttle_0_to_200 -
                  (uint)watchdog_fueling_debounce_counts_0_to_255;
        }
        dzg_timing_state_variable =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_timing_state_machine_value = watchdog_fueling_debounce_counts_0_to_255;
      }
    }
    else {
      dzg_timing_accumulator_value = 0;
    }
  }
  uVar4 = (ushort)(((uVar6 - 8) * (uint)dzg_timing_state_machine_value * 0x20) / 100);
  if (0x6400 < uVar4) {
    uVar4 = 0x6400;
  }
  if (dzg_timing_state_variable < 2) {
    dzg_timing_state_variable = 1;
  }
  uVar2 = ((uVar6 - 8) * (uint)dzg_timing_state_variable * 0x20) / 100;
  uVar5 = (ushort)uVar2;
  if (dzg_timing_pressure_state_2 < uVar4) {
    wVar1 = uVar4;
    if ((uVar2 & 0xffff) + (uint)dzg_timing_pressure_state_2 <= (uint)uVar4) {
      wVar1 = uVar5 + dzg_timing_pressure_state_2;
    }
  }
  else {
    wVar1 = dzg_timing_pressure_state_2;
    if (((uVar4 < dzg_timing_pressure_state_2) &&
        (wVar1 = uVar4, (uVar2 & 0xffff) + (uint)uVar4 <= (uint)dzg_timing_pressure_state_2)) &&
       (uVar5 <= dzg_timing_pressure_state_2)) {
      wVar1 = dzg_timing_pressure_state_2 - uVar5;
    }
  }
  dzg_timing_pressure_state_2 = wVar1;
  pointer_to_oil_pressure_fuel_fault_log_data_0_2_32 = dzg_timing_pressure_state_2;
  if (5 < amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535) {
    if ((dtc_active_fault_count & 8) == 0) {
      tpu_pwm_channel_4_output = tpu_pwm_channel_4_output & 0xffff0000;
    }
    else {
      tpu_pwm_channel_4_output =
           ((((uint)pwm_output_4_scaling_factor * (uint)dzg_timing_pressure_state_2) / 0x6400 &
            0xffff) * 8000) / 1000 & 0xffff |
           ((uint)pwm_output_4_scaling_factor * 8000) / 1000 << 0x10;
    }
  }
  if (dzg_pressure_state_index == 0) {
    if (eps_main_lost_duration_0_20 < insite_parameter_display_value) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_state_transition_counter;
      dzg_state_transition_counter = dzg_state_transition_counter + 1;
      if (bVar7) {
        dzg_state_transition_counter = 0;
        dzg_pressure_state_index = 1;
        if ((int)((uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300 -
                 (uint)watchdog_fueling_enforced_above_this_speed_0_to_5000) < 0) {
          iVar3 = -((uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300 -
                   (uint)watchdog_fueling_enforced_above_this_speed_0_to_5000);
        }
        else {
          iVar3 = (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300 -
                  (uint)watchdog_fueling_enforced_above_this_speed_0_to_5000;
        }
        dzg_pressure_ramp_rate =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_pressure_target_value =
             default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300;
      }
    }
    else {
      dzg_state_transition_counter = 0;
    }
  }
  else if (dzg_pressure_state_index == 1) {
    if (insite_parameter_display_value < eps_main_lost_duration_0_20) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_state_transition_counter;
      dzg_state_transition_counter = dzg_state_transition_counter + 1;
      if (bVar7) {
        dzg_state_transition_counter = 0;
        dzg_pressure_state_index = 0;
        if ((int)((uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300 -
                 (uint)watchdog_fueling_enforced_above_this_speed_0_to_5000) < 0) {
          iVar3 = -((uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300 -
                   (uint)watchdog_fueling_enforced_above_this_speed_0_to_5000);
        }
        else {
          iVar3 = (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300 -
                  (uint)watchdog_fueling_enforced_above_this_speed_0_to_5000;
        }
        dzg_pressure_ramp_rate =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_pressure_target_value = watchdog_fueling_enforced_above_this_speed_0_to_5000;
      }
    }
    else if (dzg_pressure_threshold_high < insite_parameter_display_value) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_state_transition_counter;
      dzg_state_transition_counter = dzg_state_transition_counter + 1;
      if (bVar7) {
        dzg_state_transition_counter = 0;
        dzg_pressure_state_index = 2;
        if ((int)((uint)dzg_pressure_max_limit -
                 (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300) < 0) {
          iVar3 = -((uint)dzg_pressure_max_limit -
                   (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300);
        }
        else {
          iVar3 = (uint)dzg_pressure_max_limit -
                  (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300;
        }
        dzg_pressure_ramp_rate =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_pressure_target_value = dzg_pressure_max_limit;
      }
    }
    else {
      dzg_state_transition_counter = 0;
    }
  }
  else if (dzg_pressure_state_index == 2) {
    if (insite_parameter_display_value < dzg_pressure_threshold_high) {
      bVar7 = _index_of_first_tdc_after_missed_pulse_1_6 < dzg_state_transition_counter;
      dzg_state_transition_counter = dzg_state_transition_counter + 1;
      if (bVar7) {
        dzg_state_transition_counter = 0;
        dzg_pressure_state_index = 1;
        if ((int)((uint)dzg_pressure_max_limit -
                 (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300) < 0) {
          iVar3 = -((uint)dzg_pressure_max_limit -
                   (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300);
        }
        else {
          iVar3 = (uint)dzg_pressure_max_limit -
                  (uint)default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300;
        }
        dzg_pressure_ramp_rate =
             (word)(iVar3 / (int)(uint)dzg_angle_after_cyl_tdc_angle_after_cyl_tdc_to_put_dzg_first_60_60
                                       ._0_2_);
        dzg_pressure_target_value =
             default_value_for_vp44_fuel_temperature_when_sensor_is_fail_40_to_300;
      }
    }
    else {
      dzg_state_transition_counter = 0;
    }
  }
  uVar4 = (ushort)(((uVar6 - 8) * (uint)dzg_pressure_target_value * 0x20) / 100);
  if (0x6400 < uVar4) {
    uVar4 = 0x6400;
  }
  if (dzg_pressure_ramp_rate < 2) {
    dzg_pressure_ramp_rate = 1;
  }
  uVar2 = ((uVar6 - 8) * (uint)dzg_pressure_ramp_rate * 0x20) / 100;
  uVar6 = (ushort)uVar2;
  if (dzg_timing_pressure_state_1 < uVar4) {
    uVar2 = (uVar2 & 0xffff) + (uint)dzg_timing_pressure_state_1;
    wVar1 = uVar4;
    if (uVar2 <= uVar4) {
      wVar1 = uVar6 + dzg_timing_pressure_state_1;
    }
  }
  else {
    wVar1 = dzg_timing_pressure_state_1;
    if (((uVar4 < dzg_timing_pressure_state_1) &&
        (uVar2 = (uVar2 & 0xffff) + (uint)uVar4, wVar1 = uVar4, uVar2 <= dzg_timing_pressure_state_1
        )) && (uVar6 <= dzg_timing_pressure_state_1)) {
      wVar1 = dzg_timing_pressure_state_1 - uVar6;
    }
  }
  dzg_timing_pressure_state_1 = wVar1;
  errors_allowed_timer_running_flag_for_oil_pres_0_1 = dzg_timing_pressure_state_1;
  if (5 < amount_of_time_since_water_in_fuel_low_failure_was_detected_0_65535) {
    uVar2 = CONCAT22((short)(uVar2 >> 0x10),dtc_active_fault_count) & 0xffff0004;
    if ((dtc_active_fault_count & 4) != 0) {
      tpu_pwm_channel_3_output =
           ((((uint)pwm_output_3_scaling_factor * (uint)dzg_timing_pressure_state_1) / 0x6400 &
            0xffff) * 8000) / 1000 & 0xffff |
           ((uint)pwm_output_3_scaling_factor * 8000) / 1000 << 0x10;
      return tpu_pwm_channel_3_output;
    }
    tpu_pwm_channel_3_output = tpu_pwm_channel_3_output & 0xffff0000;
  }
  return uVar2;
}



//
// Function: sensorHistoryTablePointerInit @ 0x00032b00
//

void sensorHistoryTablePointerInit(void)

{
  sensor_history_init_value = 0x80000000;
  sensor_history_table_ptr = 0x80784c;
  return;
}



//
// Function: timeDeltaCalculator @ 0x00032b16
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void timeDeltaCalculator(void)

{
  time_delta_calculator_state = clutch_rpm_accumulator - clutch_rpm_accumulator_previous;
  fuel_cylinder_average = exponentialMovingAverage();
  clutch_rpm_accumulator_previous = clutch_rpm_accumulator;
  return;
}



//
// Function: oilPressureRpmLimitTargetSelector @ 0x00032b72
//

uint oilPressureRpmLimitTargetSelector(void)

{
  uint uVar1;
  
  if ((((vp44_status_flags_2 & 0x8000) != 0) && ((sensor_status_history_bits & 0x400) != 0)) &&
     ((sensor_status_history_bits & 0x800) == 0)) {
    oil_pressure_rpm_limit_target = oil_pressure_rpm_target_special;
    return sensor_status_history_bits & 0x800;
  }
  if ((((sensor_status_history_bits & 0x80) != 0) && ((sensor_status_history_bits & 0x40) == 0)) &&
     (((sensor_status_history_bits & 0x400) == 0 &&
      (((sensor_status_history_bits & 8) == 0 && ((sensor_status_history_bits & 2) == 0)))))) {
    oil_pressure_rpm_limit_target = oil_pressure_rpm_target_low;
    return sensor_status_history_bits & 2;
  }
  uVar1 = sensor_status_history_bits & 0x200;
  if ((uVar1 != 0) &&
     ((((uVar1 = sensor_status_history_bits & 0x100, uVar1 == 0 &&
        (uVar1 = sensor_status_history_bits & 0x400, uVar1 == 0)) &&
       (uVar1 = sensor_status_history_bits & 8, uVar1 == 0)) &&
      (uVar1 = sensor_status_history_bits & 2, uVar1 == 0)))) {
    oil_pressure_rpm_limit_target = oil_pressure_rpm_target_high;
  }
  return uVar1;
}



//
// Function: sensorStatusHistoryTracker @ 0x00032c1c
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void sensorStatusHistoryTracker(void)

{
  bool bVar1;
  
  sensor_status_history_bits = sensor_status_history_bits * 2 & 0x2aaaa;
  if ((sensor_status_register & 2) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 1;
  }
  if ((sensor_status_register & 8) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 4;
  }
  if ((sensor_status_register & 0x10) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x10;
  }
  if ((sensor_status_register & 1) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x40;
  }
  if ((sensor_status_register & 4) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x100;
  }
  if ((sensor_status_register & 0x20) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x400;
  }
  if ((vp44_sensor_history_state & 0x10) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x1000;
  }
  if ((derate_status_byte & 8) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x10000;
  }
  if ((derate_status_byte & 4) != 0) {
    sensor_status_history_bits = sensor_status_history_bits | 0x4000;
  }
  switch(sensor_history_state_machine) {
  case SENSOR_IDLE:
    if ((((diagnostic_system_flags_1 & 0x10) == 0) ||
        (oil_pressure_validation_timer <= oil_pressure_validation_threshold)) ||
       (oil_pressure_state_index == 0)) {
      if ((((oil_pressure_validation_threshold < sensor_status_validation_counter) &&
           (oil_pressure_rpm_limit_previous == 0)) ||
          ((sensor_status_history_pointer_37f8 < throttle_position_value ||
           (((engine_fault_register_a & 0x200) != 0 && ((engine_fault_register_b & 0x200) != 0))))))
         || (((engine_fault_register_a & 0x100) != 0 && ((engine_fault_register_b & 0x100) != 0))))
      {
        sensor_history_state_machine = SENSOR_FAULT_DETECTED;
      }
      else if ((oil_pressure_rpm_limit_previous == 0) ||
              (sensor_status_validation_counter <= oil_pressure_validation_threshold)) {
        if ((sensor_status_history_bits & 0x1000) == 0) {
          sensor_status_validation_counter = sensor_status_validation_counter + 1;
          oil_pressure_validation_timer = 0;
        }
        else {
          oil_pressure_validation_timer = oil_pressure_validation_timer + 1;
          sensor_status_validation_counter = 0;
          if (((sensor_status_history_bits & 0x2000) == 0) &&
             (oil_pressure_state_index < oil_pressure_state_index_limit)) {
            oil_pressure_state_index = oil_pressure_state_index + 1;
          }
        }
      }
      else {
        sensor_history_state_machine = RECOVERY;
        oil_pressure_rpm_limit_target = oil_pressure_rpm_limit_previous;
      }
    }
    else {
      sensor_history_state_machine = SENSOR_ACTIVE;
      oil_pressure_rpm_limit_target =
           *(word *)(&oil_pressure_protection_table_ptr)[(short)oil_pressure_state_index];
    }
    break;
  case SENSOR_ACTIVE:
    if ((sensor_status_history_bits & 0x1000) == 0) {
      sensor_history_state_machine = SENSOR_IDLE;
      oil_pressure_state_index = 0;
    }
    else if ((sensor_status_history_pointer_37f8 < throttle_position_value) ||
            (((engine_fault_register_a & 0x100) != 0 && ((engine_fault_register_b & 0x100) != 0))))
    {
      sensor_history_state_machine = SENSOR_FAULT_DETECTED;
    }
    else {
      sensor_status_validation_counter = 0;
      oil_pressure_validation_timer = 0;
      oil_pressure_state_index = 0;
    }
    break;
  case SENSOR_FAULT_DETECTED:
    if (((throttle_position_value < sensor_status_history_pointer_37f8) &&
        (rpm_range_lower_limit <= current_engine_rpm)) &&
       (current_engine_rpm <= rpm_range_upper_limit)) {
      if (((engine_fault_register_a & 0x200) == 0) || ((engine_fault_register_b & 0x200) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_register_a & 0x100) == 0) || ((engine_fault_register_b & 0x100) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if ((!bVar1) && ((sensor_status_history_bits & 0x1000) != 0)) {
          sensor_history_state_machine = SENSOR_IDLE;
          oil_pressure_state_index = oil_pressure_state_index + 1;
          break;
        }
      }
    }
    if (((((diagnostic_system_flags_1 & 0x10) != 0) && ((sensor_status_history_bits & 0x10) != 0))
        && (throttle_position_value <= sensor_status_history_pointer_37f8)) &&
       ((rpm_range_lower_limit <= current_engine_rpm &&
        (current_engine_rpm <= rpm_range_upper_limit)))) {
      if (((engine_fault_register_a & 0x200) == 0) || ((engine_fault_register_b & 0x200) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_register_a & 0x100) == 0) || ((engine_fault_register_b & 0x100) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if ((((!bVar1) &&
             (((sensor_status_history_bits & 0x4000) == 0 || ((vp44_status_flags_2 & 0x1000) == 0)))
             ) && (((sensor_status_history_bits & 0x10000) == 0 ||
                   ((vp44_status_flags_2 & 0x800) == 0)))) &&
           (((((sensor_status_history_bits & 0x80) != 0 &&
              ((sensor_status_history_bits & 0x40) == 0)) ||
             (((sensor_status_history_bits & 0x200) != 0 &&
              ((sensor_status_history_bits & 0x100) == 0)))) ||
            ((((sensor_status_history_bits & 0x800) == 0 &&
              ((sensor_status_history_bits & 0x400) != 0)) && ((vp44_status_flags_2 & 0x8000) != 0))
            )))) {
          sensor_history_state_machine = RECOVERY;
          if ((sensor_status_history_bits & 0x400) == 0) {
            if (((sensor_status_history_bits & 0x80) == 0) ||
               ((sensor_status_history_bits & 0x40) != 0)) {
              if (((sensor_status_history_bits & 0x200) != 0) &&
                 ((sensor_status_history_bits & 0x100) == 0)) {
                oil_pressure_rpm_limit_target = oil_pressure_rpm_target_high;
              }
            }
            else {
              oil_pressure_rpm_limit_target = oil_pressure_rpm_target_low;
            }
          }
          break;
        }
      }
    }
    oil_pressure_rpm_ramp_complete = 0;
    oil_pressure_state_index = 0;
    sensor_status_validation_counter = 0;
    oil_pressure_validation_timer = 0;
    oil_pressure_rpm_limit_previous = 0;
    break;
  case RECOVERY:
    if (throttle_position_value <= sensor_status_history_pointer_37f8) {
      if (((engine_fault_register_a & 0x200) == 0) || ((engine_fault_register_b & 0x200) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_register_a & 0x100) == 0) || ((engine_fault_register_b & 0x100) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if ((!bVar1) && ((sensor_status_history_bits & 0x1000) != 0)) {
          sensor_history_state_machine = SENSOR_IDLE;
          oil_pressure_state_index = oil_pressure_state_index + 1;
          oil_pressure_rpm_limit_previous = oil_pressure_rpm_limit_target;
          break;
        }
      }
    }
    if ((((((sensor_status_history_bits & 0x10) == 0) ||
          (sensor_status_history_pointer_37f8 < throttle_position_value)) ||
         (((engine_fault_register_a & 0x100) != 0 && ((engine_fault_register_b & 0x100) != 0)))) ||
        (((vp44_status_flags_2 & 0x1000) != 0 && ((sensor_status_history_bits & 0x4000) != 0)))) ||
       (((vp44_status_flags_2 & 0x800) != 0 && ((sensor_status_history_bits & 0x10000) != 0)))) {
      sensor_history_state_machine = SENSOR_FAULT_DETECTED;
    }
    else {
      sensor_status_validation_counter = 0;
      oil_pressure_validation_timer = 0;
      oil_pressure_state_index = 0;
      oilPressureRpmLimitTargetSelector();
      if ((sensor_status_history_bits & 1) == 0) {
        if ((sensor_status_history_bits & 4) == 0) {
          if (((sensor_status_history_bits & 2) != 0) || ((sensor_status_history_bits & 8) != 0)) {
            oil_pressure_rpm_limit_target = current_engine_rpm;
            if (fsmxthfl_calc_input <= current_fuel_demand_value) {
              oil_pressure_rpm_limit_target =
                   (short)(((uint)(ushort)(current_fuel_demand_value - fsmxthfl_calc_input) *
                           (uint)_oil_pressure_cal_factor_3) / 0x1d70) + current_engine_rpm;
            }
            if (oil_pressure_rpm_limit_max < oil_pressure_rpm_limit_target) {
              oil_pressure_rpm_limit_target = oil_pressure_rpm_limit_max;
            }
            else if (oil_pressure_rpm_limit_target < oil_pressure_rpm_limit_min) {
              oil_pressure_rpm_limit_target = oil_pressure_rpm_limit_min;
            }
          }
        }
        else if (oil_pressure_rpm_limit_target <
                 (ushort)(oil_pressure_rpm_limit_step + oil_pressure_rpm_limit_min)) {
          oil_pressure_rpm_limit_target = oil_pressure_rpm_limit_min;
        }
        else {
          oil_pressure_rpm_limit_target =
               oil_pressure_rpm_limit_target - oil_pressure_rpm_limit_step;
        }
      }
      else if ((ushort)(oil_pressure_rpm_limit_max - oil_pressure_rpm_limit_step) <
               oil_pressure_rpm_limit_target) {
        oil_pressure_rpm_limit_target = oil_pressure_rpm_limit_max;
      }
      else {
        oil_pressure_rpm_limit_target = oil_pressure_rpm_limit_step + oil_pressure_rpm_limit_target;
      }
    }
  }
  if (((ushort)(oil_pressure_rpm_increment + oil_pressure_rpm_limit_current) <
       oil_pressure_rpm_limit_target) && (oil_pressure_rpm_ramp_complete == 0)) {
    oil_pressure_rpm_limit_current = oil_pressure_rpm_increment + oil_pressure_rpm_limit_current;
  }
  else {
    oil_pressure_rpm_limit_current = oil_pressure_rpm_limit_target;
    oil_pressure_rpm_ramp_complete = 1;
  }
  pointer_to_oil_pressure_rpm_limit_threshold_0_2_32 = oil_pressure_rpm_limit_current;
  if ((sensor_history_state_machine != RECOVERY) && (sensor_history_state_machine != SENSOR_ACTIVE))
  {
    oil_pressure_protection_enabled = 0;
    return;
  }
  oil_pressure_protection_enabled = 1;
  return;
}



//
// Function: initOilPressureProtectionPointers @ 0x00033254
//

void initOilPressureProtectionPointers(void)

{
  sensor_history_state_machine = SENSOR_FAULT_DETECTED;
  oil_pressure_protection_enabled = 0;
  pointer_to_oil_pressure_rpm_limit_threshold_0_2_32 = 0;
  oil_pressure_protection_table_ptr = 0x8036a0;
  oil_pressure_table_1_ptr = 0x8036a0;
  oil_pressure_table_2_ptr = 0x8037fe;
  oil_pressure_table_3_ptr = 0x803800;
  oil_pressure_table_4_ptr = 0x803802;
  oil_pressure_table_5_ptr = 0x803804;
  oil_pressure_rpm_limit_previous = 0;
  sensor_status_validation_counter = 0;
  oil_pressure_validation_timer = 0;
  oil_pressure_state_index = 0;
  oil_pressure_rpm_ramp_complete = 0;
  oil_pressure_rpm_limit_current = 0;
  sensor_status_history_bits._2_2_ = sensor_status_history_bits._2_2_ | 0x2000;
  return;
}



//
// Function: vp44FaultProtectionSystemInit @ 0x000332ce
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FaultProtectionSystemInit(void)

{
  byte bVar1;
  word *pwVar2;
  word *pwVar3;
  byte *pbVar4;
  
  vp44_fault_protection_addr_2 = 0x2240;
  vp44_fault_protection_mask_2 = 0;
  vp44_fault_protection_flags_2 = 0x80;
  vp44_fault_protection_can_id_2 = 0x9955;
  vp44_timing_system_monitor_ptr = 0x2000;
  vp44_fault_protection_mask_1 = 0;
  vp44_fault_protection_flags_1 = 0x88;
  vp44_fault_protection_can_id_1 = 0x5559;
  vp44_fault_protection_addr_4 = 0xa240;
  vp44_fault_protection_mask_4 = 0;
  vp44_fault_protection_flags_4 = 0x80;
  vp44_fault_protection_can_id_4 = 0x9955;
  vp44_fault_protection_addr_3 = 0xa000;
  vp44_fault_protection_mask_3 = 0;
  vp44_fault_protection_flags_3 = 0x88;
  vp44_fault_protection_can_id_3 = 0x5559;
  vp44_fault_protection_addr_6 = 0xe240;
  vp44_fault_protection_mask_6 = 0;
  vp44_fault_protection_flags_6 = 0x80;
  vp44_fault_protection_can_id_6 = 0x9955;
  vp44_fault_protection_addr_5 = 0xe000;
  vp44_fault_protection_mask_5 = 0;
  vp44_fault_protection_flags_5 = 0x88;
  vp44_fault_protection_can_id_5 = 0x5559;
  engine_control_system_ready = 0;
  vp44_fso_fault_active_flag = 0;
  vp44_fso_fault_detection_enable = 1;
  shutdown_minimum_init_value = 0x1700;
  bVar1 = 0;
  pwVar2 = &vp44_timing_range_table_ptr;
  pwVar3 = &vp44_fault_protection_table_base;
  pbVar4 = &vp44_fault_protection_state_array;
  do {
    *pwVar2 = *pwVar3;
    *pbVar4 = 1;
    bVar1 = bVar1 + 1;
    pwVar2 = pwVar2 + 1;
    pwVar3 = pwVar3 + 1;
    pbVar4 = pbVar4 + 1;
  } while (bVar1 < 6);
  vp44_timing_intermediate_value = 0;
  _base_timing_table_lookup_arg_346e = &base_timing_table_lookup_arg_345a;
  _lift_pump_table_lookup_arg_3486 = &lift_pump_table_lookup_arg_3472;
  base_timing_table_lookup_arg_345a = 2;
  vp44_timing_idle_cmd_ptr = (dword)&temporary_timing_command_at_idle_for_static_timing_check_0_100;
  vp44_timing_table_size = 2;
  vp44_timing_fault_limit_ptr = (dword)&fuel_limit_when_timing_fault_is_active_0_to_300;
  vp44_stuck_pump_threshold_ptr =
       (dword)&max_112_messages_received_after_pump_should_be_off_for_stuck_0_to_255;
  lift_pump_table_lookup_arg_3472 = 2;
  vp44_lift_pump_table_ptr = 0x807656;
  vp44_lift_pump_table_2_size = 2;
  vp44_lift_pump_table_2_ptr = 0x807670;
  vp44_lift_pump_table_3_ptr = 0x80768a;
  vp44_can_msg_200_min_value = vp44_can_msg_200_init_value;
  vp44_can_msg_200_max_value = vp44_can_msg_200_init_value;
  vp44_fso_circuit_fault_fuel_limit = 0x1700;
  fso_protection_fuel_limit = 0x1700;
  vp44_fso_fuel_limit_output = 0x1700;
  vp44_fso_bit0_fuel_limit = 0x1700;
  vp44_fso_bit15_fuel_limit = 0x1700;
  vp44_msg_300_fault_fuel_limit_1 = 0x1700;
  vp44_msg_300_fault_fuel_limit_2 = 0x1700;
  vp44_timing_actual_value = 0x28f;
  vp44_timing_expected_value = 0x28f;
  vp44_can_msg_200_word_2 = 0x28f;
  vp44_can_msg_200_last_word = 0x28f;
  vp44_status_register_5e12 = vp44_status_register_5e12 & 0x7fff;
  vp44_fault_status_reg = vp44_fault_status_reg & 0xfb6e;
  vp44_timing_expected_init = 0x28f0000;
  vp44_timing_expected_table_ptr = 0x807404;
  vp44_timing_actual_init = 0x28f0000;
  vp44_timing_actual_table_ptr = 0x807404;
  vp44FaultBit5Reset();
  return;
}



//
// Function: vp44TimingRangeValidation @ 0x00033524
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44TimingRangeValidation(void)

{
  bool bVar1;
  word wVar2;
  byte bVar3;
  dword **ppdVar4;
  dword *local_2a;
  undefined2 local_26;
  word *pwStack_24;
  byte local_6;
  byte bStack_5;
  
  ppdVar4 = (dword **)&stack0xffffffe0;
  if (vp44_timing_table_index == 0) {
    bVar3 = 0;
  }
  else {
    bVar3 = vp44_timing_table_index - 1;
  }
  if (maximum_increase_in_timing_command_allowed_per_loop_0_to_60 < current_engine_fuel_demand) {
    vp44_fuel_demand_range_fault_counter = vp44_fuel_demand_range_fault_counter + 1;
    wVar2 = maximum_increase_in_timing_command_allowed_per_loop_0_to_60;
    if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
        vp44_fuel_demand_range_fault_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
      vp44_fuel_demand_range_fault_counter = 0;
    }
  }
  else {
    vp44_fuel_demand_range_fault_counter = 0;
    wVar2 = current_engine_fuel_demand;
  }
  local_6 = (byte)((uint)((int)(uint)wVar2 >> 1) >> 8);
  vp44_fuel_demand_out_high_byte = local_6;
  bStack_5 = (byte)((int)(uint)wVar2 >> 1);
  vp44_fuel_demand_out_low_byte = bStack_5;
  if ((short)maximum_decrease_in_timing_command_allowed_per_loop_0_to_60 <
      (short)vp44_timing_intermediate_value) {
    vp44_timing_decrease_fault_counter = vp44_timing_decrease_fault_counter + 1;
    wVar2 = maximum_decrease_in_timing_command_allowed_per_loop_0_to_60;
    if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
        vp44_timing_decrease_fault_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
      vp44_timing_decrease_fault_counter = 0;
    }
  }
  else if ((short)vp44_timing_intermediate_value <
           (short)pump_ram_address_contents_requested_below_this_speed_0_to_5000) {
    vp44_timing_min_fault_counter = vp44_timing_min_fault_counter + 1;
    wVar2 = pump_ram_address_contents_requested_below_this_speed_0_to_5000;
    if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
        vp44_timing_min_fault_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
      vp44_timing_min_fault_counter = 0;
    }
  }
  else {
    vp44_timing_decrease_fault_counter = 0;
    vp44_timing_min_fault_counter = 0;
    wVar2 = vp44_timing_intermediate_value;
  }
  local_6 = (byte)(wVar2 >> 8);
  vp44_timing_range_out_high_byte = local_6;
  bStack_5 = (byte)wVar2;
  vp44_timing_range_out_low_byte = bStack_5;
  if ((short)_debounce_for_fuel_quantity_feedback_pulse_fault_detection_0_to_255 <
      (short)vp44_feedback_pulse_value) {
    vp44_feedback_pulse_high_fault_counter = vp44_feedback_pulse_high_fault_counter + 1;
    wVar2 = _debounce_for_fuel_quantity_feedback_pulse_fault_detection_0_to_255;
    if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
        vp44_feedback_pulse_high_fault_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
      vp44_feedback_pulse_high_fault_counter = 0;
    }
  }
  else if ((short)vp44_feedback_pulse_value <
           (short)feedback_pulse_fault_disabled_when_fueling_is_below_this_para_0_to_300) {
    vp44_feedback_pulse_low_fault_counter = vp44_feedback_pulse_low_fault_counter + 1;
    wVar2 = feedback_pulse_fault_disabled_when_fueling_is_below_this_para_0_to_300;
    if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
        vp44_feedback_pulse_low_fault_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
      vp44_feedback_pulse_low_fault_counter = 0;
    }
  }
  else {
    vp44_feedback_pulse_high_fault_counter = 0;
    vp44_feedback_pulse_low_fault_counter = 0;
    wVar2 = vp44_feedback_pulse_value;
  }
  local_6 = (byte)(wVar2 >> 8);
  vp44_feedback_pulse_out_high_byte = local_6;
  bStack_5 = (byte)wVar2;
  vp44_feedback_pulse_out_low_byte = bStack_5;
  if ((&vp44_fault_protection_state_array)[(short)(ushort)bVar3] == 0) {
    vp44_timing_final_value = 0;
  }
  else {
    vp44_timing_final_value =
         vp44_timing_base_offset + (&vp44_timing_range_table_ptr)[(short)(ushort)bVar3];
    if ((int)(uint)intercept_used_to_convert_final_timing_to_vp44_units_360_to_360 <
        (int)(short)vp44_timing_final_value) {
      vp44_timing_max_fault_counter = vp44_timing_max_fault_counter + 1;
      if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
          vp44_timing_max_fault_counter) {
        vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
        vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
        vp44_timing_max_fault_counter = 0;
      }
      vp44_timing_final_value = intercept_used_to_convert_final_timing_to_vp44_units_360_to_360;
    }
    else if ((short)vp44_timing_final_value < 0) {
      derate_threshold_change_counter._1_1_ = (byte)derate_threshold_change_counter + 1;
      if ((byte)in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255 <
          (byte)derate_threshold_change_counter) {
        vp44_fault_status_reg = vp44_fault_status_reg | 0x400;
        vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x400;
        derate_threshold_change_counter._1_1_ = 0;
      }
      vp44_timing_final_value = 0;
    }
    else {
      vp44_timing_max_fault_counter = 0;
      derate_threshold_change_counter._1_1_ = 0;
    }
  }
  local_6 = (byte)(vp44_timing_final_value >> 8);
  vp44_timing_cmd_out_high_byte = local_6;
  bStack_5 = (byte)vp44_timing_final_value;
  vp44_timing_cmd_out_low_byte = bStack_5;
  vp44_fuel_demand_accumulator = vp44_fuel_demand_accumulator + current_fuel_demand_value;
  pwStack_24 = (word *)0x3381e;
  vp44RpmBasedFaultDetector();
  if (((vp44_fault_status_reg & 0x20) == 0) || ((fso_fault_enable_mask_1 & 0x20) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    pwStack_24 = &vp44_timing_system_monitor_ptr;
    local_26 = 2;
    ppdVar4 = &local_2a;
    local_2a = &serial_port_2_base_register;
    canFrameDataCopy();
  }
  if ((vp44_can_msg_lower_threshold <= current_engine_fuel_demand) &&
     (current_engine_fuel_demand <= vp44_can_msg_upper_threshold)) {
    *(undefined4 *)((int)ppdVar4 + -4) = 0x33876;
    vp44CanMessage100ResponseBuilder();
  }
  return;
}



//
// Function: vp44CanMessage100Parser @ 0x00033880
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ushort vp44CanMessage100Parser(int param_1)

{
  int iVar1;
  ushort uVar2;
  undefined2 local_6;
  
  vp44_can_msg_100_received_flag = 1;
  vp44_can_msg_100_byte_0 = *(byte *)(param_1 + 7);
  vp44_can_msg_100_byte_1 = *(byte *)(param_1 + 8);
  vp44_can_msg_100_byte_2 = *(byte *)(param_1 + 9);
  vp44_can_msg_100_byte_3 = *(byte *)(param_1 + 10);
  vp44_can_msg_100_byte_4 = *(byte *)(param_1 + 0xb);
  vp44_can_msg_100_byte_5 = *(byte *)(param_1 + 0xc);
  vp44_can_msg_100_byte_6 = *(byte *)(param_1 + 0xd);
  vp44_can_msg_100_byte_7 = *(byte *)(param_1 + 0xe);
  vp44_can_msg_100_status_flags = vp44_can_msg_100_byte_1;
  vp44_status_register_9a5f = vp44_can_msg_100_byte_0;
  vp44_can_msg_100_mode_bits = (byte)((int)(vp44_can_msg_100_byte_3 & 0xe0) >> 5);
  local_6 = CONCAT11(vp44_can_msg_100_byte_3,vp44_can_msg_100_byte_2) & 0x1fff;
  vp44_can_msg_100_timing_value = local_6;
  local_6 = CONCAT11(vp44_can_msg_100_byte_5,vp44_can_msg_100_byte_4);
  vp44_timing_mode_selector = local_6 << 2;
  _engine_rpm_calculation_param_3 = vp44_timing_mode_selector;
  _engine_fault_timer_3 = engine_fault_timer_init;
  local_6 = CONCAT11(vp44_can_msg_100_byte_7,vp44_can_msg_100_byte_6);
  iVar1 = (short)local_6 * 0xe66;
  if (iVar1 < 0) {
    iVar1 = iVar1 + 0x7ff;
  }
  fso_monitoring_command_value = (short)(iVar1 >> 0xb) + 0xe34a;
  uVar2 = vp44_communication_status & 1;
  if (((vp44_communication_status & 1) == 0) &&
     (uVar2 = current_engine_fuel_demand,
     current_engine_fuel_demand < pump_ram_address_contents_requested_above_this_speed_0_to_5000)) {
    vp44_can_msg_100_received_flag = 1;
    vp44_can_msg_100_retry_counter = vp44_can_msg_100_retry_counter + 1;
    _engine_fault_timer_3 = engine_fault_timer_init;
    return current_engine_fuel_demand;
  }
  vp44_can_msg_100_retry_counter = 0;
  return uVar2;
}



//
// Function: vp44CanMessage100ResponseBuilder @ 0x000339c2
//

void vp44CanMessage100ResponseBuilder(void)

{
  byte byte_swap_temp;
  byte bStack_5;
  
  byte_swap_temp = (byte)(vp44_can_msg_100_cmd_word_3 >> 8);
  vp44_can_msg_100_tx_byte_0 = byte_swap_temp;
  bStack_5 = (byte)vp44_can_msg_100_cmd_word_3;
  vp44_can_msg_100_tx_byte_1 = bStack_5;
  byte_swap_temp = (byte)(vp44_can_msg_100_cmd_word_2 >> 8);
  vp44_can_msg_100_tx_byte_2 = byte_swap_temp;
  bStack_5 = (byte)vp44_can_msg_100_cmd_word_2;
  vp44_can_msg_100_tx_byte_3 = bStack_5;
  byte_swap_temp = (byte)(vp44_can_msg_100_cmd_word_1 >> 8);
  vp44_can_msg_100_tx_byte_4 = byte_swap_temp;
  bStack_5 = (byte)vp44_can_msg_100_cmd_word_1;
  vp44_can_msg_100_tx_byte_5 = bStack_5;
  byte_swap_temp = (byte)(vp44_can_msg_100_cmd_word_0 >> 8);
  vp44_can_msg_100_tx_byte_6 = byte_swap_temp;
  bStack_5 = (byte)vp44_can_msg_100_cmd_word_0;
  vp44_can_msg_100_tx_byte_7 = bStack_5;
  canFrameDataCopy(&serial_port_2_base_register);
  return;
}



//
// Function: vp44CanMessage200Parser @ 0x00033a3a
//

void vp44CanMessage200Parser(int param_1)

{
  ushort uVar1;
  ushort uVar2;
  undefined2 local_6;
  
  vp44_can_msg_200_byte_0 = *(byte *)(param_1 + 7);
  vp44_can_msg_200_byte_1 = *(byte *)(param_1 + 8);
  vp44_can_msg_200_byte_2 = *(byte *)(param_1 + 9);
  vp44_can_msg_200_byte_3 = *(byte *)(param_1 + 10);
  vp44_can_msg_200_byte_4 = *(byte *)(param_1 + 0xb);
  vp44_can_msg_200_byte_5 = *(byte *)(param_1 + 0xc);
  vp44_can_msg_200_byte_6 = *(byte *)(param_1 + 0xd);
  vp44_can_msg_200_byte_7 = *(byte *)(param_1 + 0xe);
  local_6 = CONCAT11(*(byte *)(param_1 + 8),*(byte *)(param_1 + 7));
  uVar1 = local_6;
  vp44_can_msg_200_word_0 = local_6;
  local_6 = CONCAT11(*(byte *)(param_1 + 10),*(byte *)(param_1 + 9));
  uVar2 = local_6;
  vp44_can_msg_200_word_1 = local_6;
  local_6 = CONCAT11(*(byte *)(param_1 + 0xc),*(byte *)(param_1 + 0xb));
  vp44_can_msg_200_word_2 = local_6;
  vp44_can_msg_200_word_2_copy = local_6;
  local_6 = CONCAT11(*(byte *)(param_1 + 0xe),*(byte *)(param_1 + 0xd));
  vp44_can_msg_200_word_3 = local_6;
  if (vp44_can_msg_200_parse_mode == 1) {
    vp44_can_msg_200_combined_value = uVar1 & 0xff;
  }
  else if (vp44_can_msg_200_parse_mode == 2) {
    vp44_can_msg_200_combined_value = (dword)uVar1;
  }
  else if (vp44_can_msg_200_parse_mode == 4) {
    vp44_can_msg_200_combined_value = (uint)uVar1 + (uint)uVar2 * 0x10000;
  }
  if (vp44_can_msg_200_combined_value < vp44_can_msg_200_min_value) {
    vp44_can_msg_200_min_value = vp44_can_msg_200_combined_value;
  }
  if (vp44_can_msg_200_max_value < vp44_can_msg_200_combined_value) {
    vp44_can_msg_200_max_value = vp44_can_msg_200_combined_value;
  }
  vp44_can_msg_200_last_word = local_6;
  return;
}



//
// Function: vp44CanMessage200ResponseBuilder @ 0x00033b8c
//

void vp44CanMessage200ResponseBuilder(void)

{
  byte local_6;
  byte bStack_5;
  
  local_6 = (byte)(derate_output_value >> 8);
  vp44_can_msg_200_parsed_byte_9 = local_6;
  bStack_5 = (byte)derate_output_value;
  vp44_can_msg_200_parsed_byte_8 = bStack_5;
  vp44_can_msg_200_parsed_byte_10 = (byte)vp44_fso_stuck_debounce_threshold;
  vp44_can_msg_200_parsed_byte_11 = vp44_can_200_message_byte_4;
  vp44_can_msg_200_parsed_byte_12 = vp44_can_200_message_byte_5;
  vp44_can_msg_200_parsed_byte_13 = vp44_can_200_message_byte_6;
  vp44_can_msg_200_parsed_byte_14 = vp44_can_200_response_byte_0;
  vp44_can_msg_200_parsed_byte_15 = vp44_can_200_response_byte_1;
  canFrameDataCopy(&serial_port_2_base_register);
  return;
}



//
// Function: vp44CanMessage300Parser @ 0x00033bf2
//

void vp44CanMessage300Parser(int param_1)

{
  vp44_can_msg_300_fault_flags = *(byte *)(param_1 + 7);
  vp44_can_msg_300_byte_1 = *(byte *)(param_1 + 8);
  vp44_can_msg_300_byte_2 = *(byte *)(param_1 + 9);
  vp44_can_msg_300_byte_3 = *(byte *)(param_1 + 10);
  vp44_can_msg_300_byte_4 = *(byte *)(param_1 + 0xb);
  vp44_can_msg_300_byte_5 = *(byte *)(param_1 + 0xc);
  vp44_can_msg_300_byte_6 = *(byte *)(param_1 + 0xd);
  vp44_can_msg_300_byte_7 = *(byte *)(param_1 + 0xe);
  vp44_can_msg_300_fault_flags_copy = vp44_can_msg_300_fault_flags;
  vp44Message300FaultFlagProcessor();
  return;
}



//
// Function: baseTimingTableLookup @ 0x00033c48
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void baseTimingTableLookup(void)

{
  undefined8 uVar1;
  
  base_timing_fuel_demand_input = current_fuel_demand_value;
  base_timing_rpm_input = current_engine_fuel_demand;
  base_timing_fuel_value_input = current_fuel_demand_value;
  uVar1 = tableInterpolationLookup(_base_timing_table_lookup_arg_346e);
  vp44_timing_base_offset = (word)((ulonglong)uVar1 >> 0x20);
  return;
}



//
// Function: liftPumpFuelDeliveryController @ 0x00033c84
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void liftPumpFuelDeliveryController(void)

{
  word wVar1;
  undefined8 uVar2;
  
  lift_pump_fuel_demand_input = current_engine_fuel_demand;
  lift_pump_fuel_value_input = current_fuel_demand_value;
  uVar2 = tableInterpolationLookup(_lift_pump_table_lookup_arg_3486);
  lift_pump_table_lookup_result = (word)((ulonglong)uVar2 >> 0x20);
  wVar1 = lift_pump_diagnostic_fuel_value;
  if ((vp44_fso_circuit_fault_flag == 0) &&
     (wVar1 = diagnostic_fuel_arbitration_output, lift_pump_diagnostic_mode_flag != 0)) {
    wVar1 = lift_pump_diagnostic_override_value;
  }
  lift_pump_fuel_offset_calc =
       lift_pump_fuel_base_offset +
       (short)((int)((int)(short)lift_pump_fuel_scale_factor * (uint)wVar1) / 0x161);
  lift_pump_combined_fuel_value = lift_pump_table_lookup_result + lift_pump_fuel_offset_calc;
  wVar1 = (short)lift_pump_combined_fuel_value / 3;
  lift_pump_timing_delta = wVar1 - lift_pump_timing_smoothed;
  if ((short)lift_pump_timing_delta < 0) {
    if ((-(uint)lift_pump_timing_decrease_limit == (int)(short)lift_pump_timing_delta ||
         -(int)(short)lift_pump_timing_delta < (int)(uint)lift_pump_timing_decrease_limit) &&
       (lift_pump_timing_decrease_limit != 0)) {
      lift_pump_timing_delta = -lift_pump_timing_decrease_limit;
      wVar1 = lift_pump_timing_delta + lift_pump_timing_smoothed;
    }
  }
  else if (((int)(uint)lift_pump_timing_increase_limit < (int)(short)lift_pump_timing_delta) &&
          (lift_pump_timing_increase_limit != 0)) {
    lift_pump_timing_delta = lift_pump_timing_increase_limit;
    wVar1 = lift_pump_timing_increase_limit + lift_pump_timing_smoothed;
  }
  lift_pump_timing_smoothed = wVar1;
  vp44_timing_intermediate_value = lift_pump_timing_smoothed * 3;
  lift_pump_run_time_calculated =
       lift_pump_run_time_when_stopping_after_cranking_0_to_120 +
       (short)((int)(((int)(short)lift_pump_on_time_duration_during_cranking_0_to_120 -
                     (int)(short)lift_pump_run_time_when_stopping_after_cranking_0_to_120) *
                    ((uint)current_engine_fuel_demand -
                    (uint)_flag_to_override_prime_pump_control_0_to_ff)) /
              (int)((uint)lift_pump_run_time_when_stopping_after_running_0_to_120 -
                   (uint)_flag_to_override_prime_pump_control_0_to_ff));
  return;
}



//
// Function: derateThresholdIoController @ 0x00033dca
//

void derateThresholdIoController(void)

{
  if (derate_threshold_exceeded == 0) {
    sim_data_direction_control = sim_data_direction_control & 0xbf;
  }
  else {
    sim_data_direction_control = sim_data_direction_control | 0x40;
  }
  if ((derate_threshold_exceeded != derate_threshold_previous) &&
     (derate_threshold_change_counter._0_1_ < 2)) {
    derate_threshold_change_counter._0_1_ = derate_threshold_change_counter._0_1_ + 1;
  }
  derate_threshold_previous = derate_threshold_exceeded;
  return;
}



//
// Function: vp44FsoFaultDetectionMonitor @ 0x00033e0e
//

void vp44FsoFaultDetectionMonitor(void)

{
  bool bVar1;
  int iVar2;
  
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_status_register_9a5f & 0x20) == 0) {
      fso_bit5_fault_clear_counter = fso_bit5_fault_clear_counter + 1;
      if (fso_fault_debounce_threshold <= fso_bit5_fault_clear_counter) {
        vp44_fault_status_reg = vp44_fault_status_reg & 0xfff7;
        fso_bit5_fault_clear_counter = 0;
      }
      fso_bit5_fault_set_counter = 0;
    }
    else {
      fso_bit5_fault_set_counter = fso_bit5_fault_set_counter + 1;
      if (fso_fault_debounce_threshold <= fso_bit5_fault_set_counter) {
        vp44_fault_status_reg = vp44_fault_status_reg | 8;
        vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 8;
        fso_bit5_fault_set_counter = 0;
      }
      fso_bit5_fault_clear_counter = 0;
    }
    if ((vp44_status_register_9a5f & 0x40) == 0) {
      fso_bit6_fault_clear_counter = fso_bit6_fault_clear_counter + 1;
      if (fso_fault_debounce_threshold <= fso_bit6_fault_clear_counter) {
        engine_fault_status_register_3 = engine_fault_status_register_3 & 0xff7f;
        fso_bit6_fault_clear_counter = 0;
      }
      fso_fault_debounce_counter = 0;
    }
    else {
      fso_fault_debounce_counter = fso_fault_debounce_counter + 1;
      if (fso_fault_debounce_threshold <= fso_fault_debounce_counter) {
        engine_fault_status_register_4 = engine_fault_status_register_4 | 0x80;
        engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfeff | 0x80;
        fso_fault_debounce_counter = 0;
      }
      fso_bit6_fault_clear_counter = 0;
    }
    if (((vp44_status_register_9a5f & 0x20) == 0) || ((vp44_status_register_9a5f & 0x40) == 0)) {
      if ((short)fso_fault_delta_threshold < (short)fso_monitoring_command_value) {
        fso_high_cmd_fault_debounce_counter = fso_high_cmd_fault_debounce_counter + 1;
        if (fso_fault_debounce_threshold <= fso_high_cmd_fault_debounce_counter) {
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x40;
          engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfeff | 0x40;
          fso_high_cmd_fault_debounce_counter = 0;
        }
      }
      else {
        fso_high_cmd_fault_debounce_counter = 0;
      }
    }
    if (((engine_fault_status_register_3 & 0x80) == 0) || ((vp44_fso_fault_enable_mask & 0x80) == 0)
       ) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((vp44_fault_status_reg & 8) == 0) || ((fso_fault_enable_mask_1 & 8) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_status_register_3 & 0x800) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x800) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if (!bVar1) {
          if (((engine_fault_status_register_3 & 0x400) == 0) ||
             ((vp44_fso_fault_enable_mask & 0x400) == 0)) {
            bVar1 = false;
          }
          else {
            bVar1 = true;
          }
          if (!bVar1) {
            if (((engine_fault_status_register_3 & 0x200) == 0) ||
               ((vp44_fso_fault_enable_mask & 0x200) == 0)) {
              bVar1 = false;
            }
            else {
              bVar1 = true;
            }
            if (((!bVar1) && ((short)fso_monitoring_command_value < (short)fso_fault_low_threshold))
               && (fso_fault_detection_threshold < throttle_position_raw)) {
              if (fso_monitoring_command_value == fso_fault_previous_value) {
                fso_stuck_fault_debounce_counter = fso_stuck_fault_debounce_counter + 1;
                if (fso_fault_delta_calc_threshold <= fso_stuck_fault_debounce_counter) {
                  engine_fault_status_register_3 = engine_fault_status_register_3 | 0x100;
                  engine_fault_status_register_4 = engine_fault_status_register_4 | 0x100;
                  fso_fault_latched_value = fso_monitoring_command_value;
                  fso_stuck_fault_debounce_counter = 0;
                }
              }
              else {
                fso_fault_previous_value = fso_monitoring_command_value;
                fso_stuck_fault_debounce_counter = 0;
              }
            }
          }
        }
      }
    }
    if ((short)fso_monitoring_command_value < (short)fso_fuel_command_limit) {
      fso_low_cmd_fault_clear_counter = fso_low_cmd_fault_clear_counter + 1;
      if (fso_fault_debounce_threshold <= fso_low_cmd_fault_clear_counter) {
        engine_fault_status_register_3 = engine_fault_status_register_3 & 0xffbf;
        fso_low_cmd_fault_clear_counter = 0;
      }
    }
    else {
      fso_low_cmd_fault_clear_counter = 0;
    }
    if (((engine_fault_status_register_3 & 0x100) != 0) &&
       ((vp44_fso_fault_enable_mask & 0x100) != 0)) {
      if ((int)(short)fso_monitoring_command_value - (int)(short)fso_fault_latched_value < 0) {
        iVar2 = -((int)(short)fso_monitoring_command_value - (int)(short)fso_fault_latched_value);
      }
      else {
        iVar2 = (int)(short)fso_monitoring_command_value - (int)(short)fso_fault_latched_value;
      }
      if ((int)(uint)fso_fault_counter_limit < iVar2) {
        engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfeff;
      }
    }
    if (((engine_fault_status_register_3 & 0x80) == 0) || ((vp44_fso_fault_enable_mask & 0x80) == 0)
       ) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    fso_protection_fuel_limit = 0x1700;
    if ((bVar1) && (fso_protection_fuel_level_1 < 0x1700)) {
      fso_protection_fuel_limit = fso_protection_fuel_level_1;
    }
    if (((engine_fault_status_register_3 & 0x40) == 0) || ((vp44_fso_fault_enable_mask & 0x40) == 0)
       ) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if ((bVar1) && (fso_protection_fuel_level_2 < fso_protection_fuel_limit)) {
      fso_protection_fuel_limit = fso_protection_fuel_level_2;
    }
    if (((engine_fault_status_register_3 & 0x100) == 0) ||
       ((vp44_fso_fault_enable_mask & 0x100) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if ((bVar1) && (fso_protection_fuel_level_3 < fso_protection_fuel_limit)) {
      fso_protection_fuel_limit = fso_protection_fuel_level_3;
    }
  }
  return;
}



//
// Function: vp44FsoCircuitFaultDetection @ 0x000341ea
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FsoCircuitFaultDetection(void)

{
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_status_register_9a5f & 1) != 0) {
      if ((_debounce_counts_for_vp44_micro_error_0_to_255 < current_engine_fuel_demand) &&
         (current_engine_fuel_demand <= _debounce_for_vp44_fso_circuit_fault_detection_0_to_255)) {
        vp44_fso_range1_fault_counter = vp44_fso_range1_fault_counter + 1;
        if ((byte)FLSYPSII <= vp44_fso_range1_fault_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x20;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x20;
          vp44_fso_fault_active_flag = 1;
          vp44_fso_circuit_fault_flag = 1;
          vp44_fso_range1_fault_counter = 0;
        }
      }
      else if (_debounce_for_vp44_fso_circuit_fault_detection_0_to_255 < current_engine_fuel_demand)
      {
        vp44_fso_range2_fault_counter = vp44_fso_range2_fault_counter + 1;
        if (vp44_fso_stuck_low_detection_disabled_above_this_fueling_0_to_300._0_1_ <=
            vp44_fso_range2_fault_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x20;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x20;
          vp44_fso_fault_active_flag = 1;
          vp44_fso_circuit_fault_flag = 1;
          vp44_fso_range2_fault_counter = 0;
        }
      }
      else {
        vp44_fso_range1_fault_counter = 0;
        vp44_fso_range2_fault_counter = 0;
      }
      vp44_fso_recovery_counter = 0;
      return;
    }
    vp44_fso_recovery_counter = vp44_fso_recovery_counter + 1;
    if ((byte)FLSYPSII <= vp44_fso_recovery_counter) {
      engine_fault_status_register_3 = engine_fault_status_register_3 & 0xffdf;
      vp44_fso_circuit_fault_flag = 0;
      vp44_fso_recovery_counter = 0;
    }
    vp44_fso_range1_fault_counter = 0;
    vp44_fso_range2_fault_counter = 0;
  }
  return;
}



//
// Function: vp44FsoCircuitFaultDetectionBit1 @ 0x000342f6
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FsoCircuitFaultDetectionBit1(void)

{
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_status_register_9a5f & 2) != 0) {
      if ((_debounce_counts_for_vp44_micro_error_0_to_255 < current_engine_fuel_demand) &&
         (current_engine_fuel_demand <= _debounce_for_vp44_fso_circuit_fault_detection_0_to_255)) {
        vp44_fso_bit1_range1_fault_counter = vp44_fso_bit1_range1_fault_counter + 1;
        if ((byte)FLSYPSII <= vp44_fso_bit1_range1_fault_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x10;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x10;
          vp44_fso_circuit_fault_fuel_limit =
               target_angle_during_which_sync_pulse_is_held_low_0_to_120;
          vp44_fso_bit1_range1_fault_counter = 0;
        }
      }
      else if (_debounce_for_vp44_fso_circuit_fault_detection_0_to_255 < current_engine_fuel_demand)
      {
        vp44_fso_bit1_range2_fault_counter = vp44_fso_bit1_range2_fault_counter + 1;
        if (vp44_fso_stuck_low_detection_disabled_above_this_fueling_0_to_300._0_1_ <=
            vp44_fso_bit1_range2_fault_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x10;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x10;
          vp44_fso_circuit_fault_fuel_limit =
               target_angle_during_which_sync_pulse_is_held_low_0_to_120;
          vp44_fso_bit1_range2_fault_counter = 0;
        }
      }
      else {
        vp44_fso_bit1_range1_fault_counter = 0;
        vp44_fso_bit1_range2_fault_counter = 0;
      }
      vp44_fso_bit1_recovery_counter = 0;
      return;
    }
    vp44_fso_bit1_recovery_counter = vp44_fso_bit1_recovery_counter + 1;
    if ((byte)FLSYPSII <= vp44_fso_bit1_recovery_counter) {
      engine_fault_status_register_3 = engine_fault_status_register_3 & 0xffef;
      vp44_fso_circuit_fault_fuel_limit = 0x1700;
      vp44_fso_bit1_recovery_counter = 0;
    }
    vp44_fso_bit1_range1_fault_counter = 0;
    vp44_fso_bit1_range2_fault_counter = 0;
  }
  return;
}



//
// Function: vp44FsoFaultRangeMonitor @ 0x000343f8
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FsoFaultRangeMonitor(void)

{
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_status_register_9a5f & 0x10) != 0) {
      if ((_reserved_location_for_future_pump_setup_information_0_to_ff < current_engine_fuel_demand
          ) && (current_engine_fuel_demand <=
                vp44_fso_stuck_low_detection_enabled_above_this_speed_0_to_5000)) {
        fso_range_fault_low_counter = fso_range_fault_low_counter + 1;
        if (FLSYPSII._0_1_ <= fso_range_fault_low_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 8;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 8;
          fso_range_fault_low_counter = 0;
        }
      }
      else if (vp44_fso_stuck_low_detection_enabled_above_this_speed_0_to_5000 <
               current_engine_fuel_demand) {
        fso_range_fault_high_counter = fso_range_fault_high_counter + 1;
        if ((byte)vp44_fso_stuck_low_detection_disabled_above_this_fueling_0_to_300 <=
            fso_range_fault_high_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 8;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 8;
          fso_range_fault_high_counter = 0;
        }
      }
      else {
        fso_range_fault_low_counter = 0;
        fso_range_fault_high_counter = 0;
      }
      fso_range_fault_clear_counter = 0;
      return;
    }
    if ((vp44_status_register_9a5f & 8) == 0) {
      fso_range_fault_clear_counter = fso_range_fault_clear_counter + 1;
      if ((byte)FLSYPSII <= fso_range_fault_clear_counter) {
        engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfff7;
        fso_range_fault_clear_counter = 0;
      }
    }
    fso_range_fault_low_counter = 0;
    fso_range_fault_high_counter = 0;
  }
  return;
}



//
// Function: vp44TimingFaultMonitor @ 0x000344e8
//

void vp44TimingFaultMonitor(void)

{
  word wVar1;
  bool bVar2;
  
  if (vp44_fso_fault_detection_enable != 0) {
    vp44_timing_expected_value = coreTableInterpolation();
    wVar1 = vp44_timing_expected_value;
    if (vp44_timing_mode_selector != 0) {
      wVar1 = coreTableInterpolation();
    }
    vp44_timing_actual_value = wVar1;
    vp44_timing_error_delta = vp44_timing_expected_value - vp44_timing_actual_value;
    if (((engine_fault_status_register_3 & 0x800) == 0) ||
       ((vp44_fso_fault_enable_mask & 0x800) == 0)) {
      bVar2 = false;
    }
    else {
      bVar2 = true;
    }
    if (!bVar2) {
      if (((engine_fault_status_register_3 & 0x400) == 0) ||
         ((vp44_fso_fault_enable_mask & 0x400) == 0)) {
        bVar2 = false;
      }
      else {
        bVar2 = true;
      }
      if (!bVar2) {
        if (((engine_fault_status_register_3 & 0x200) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x200) == 0)) {
          bVar2 = false;
        }
        else {
          bVar2 = true;
        }
        if (!bVar2) {
          if ((vp44_status_register_9a5f & 0x80) == 0) {
            vp44_fault_status_reg = vp44_fault_status_reg & 0xfffb;
            vp44_timing_status_fault_counter = 0;
          }
          else {
            vp44_timing_status_fault_counter = vp44_timing_status_fault_counter + 1;
            if (vp44_timing_status_fault_threshold <= vp44_timing_status_fault_counter) {
              vp44_fault_status_reg = vp44_fault_status_reg | 4;
              vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 4;
              vp44_timing_status_fault_counter = 0;
            }
          }
          if (((vp44_fault_status_reg & 4) == 0) || ((fso_fault_enable_mask_1 & 4) == 0)) {
            bVar2 = false;
          }
          else {
            bVar2 = true;
          }
          if (!bVar2) {
            switch(engine_operating_mode) {
            case LOW_RPM_RUNNING:
            case TRANSITIONAL_MODE_6:
            case TRANSITIONAL_MODE_7:
              if (max_retarded_timing_allowed_to_detect_static_timing_erro_0_to_ffffffff._2_2_ <
                  vp44_timing_error_delta) {
                vp44_timing_mode_267_high_counter = vp44_timing_mode_267_high_counter + 1;
                if (vp44_timing_fault_threshold <= vp44_timing_mode_267_high_counter) {
                  vp44_fault_status_reg = vp44_fault_status_reg | 2;
                  vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 2;
                  vp44_timing_mode_267_high_counter = 0;
                }
                vp44_timing_mode_267_low_counter = 0;
              }
              else {
                if ((vp44_timing_error_delta <
                     min_retarded_timing_allowed_to_detect_static_timing_erro_0_to_ffffffff._2_2_)
                   && (vp44_timing_mode_267_low_counter = vp44_timing_mode_267_low_counter + 1,
                      vp44_timing_fault_threshold <= vp44_timing_mode_267_low_counter)) {
                  vp44_fault_status_reg = vp44_fault_status_reg & 0xfffd;
                  vp44_timing_mode_267_low_counter = 0;
                }
                vp44_timing_mode_267_high_counter = 0;
              }
              vp44_timing_mode_3_high_counter = 0;
              vp44_timing_mode_3_low_counter = 0;
              return;
            case HIGH_RPM_RUNNING:
              if (max_retarded_timing_allowed_to_detect_static_timing_erro_0_to_ffffffff._0_2_ <
                  vp44_timing_error_delta) {
                vp44_timing_mode_3_high_counter = vp44_timing_mode_3_high_counter + 1;
                if (vp44_timing_fault_threshold <= vp44_timing_mode_3_high_counter) {
                  vp44_fault_status_reg = vp44_fault_status_reg | 2;
                  vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 2;
                  vp44_timing_mode_3_high_counter = 0;
                }
                vp44_timing_mode_3_low_counter = 0;
              }
              else {
                if ((vp44_timing_error_delta <
                     min_retarded_timing_allowed_to_detect_static_timing_erro_0_to_ffffffff._0_2_)
                   && (vp44_timing_mode_3_low_counter = vp44_timing_mode_3_low_counter + 1,
                      vp44_timing_fault_threshold <= vp44_timing_mode_3_low_counter)) {
                  vp44_fault_status_reg = vp44_fault_status_reg & 0xfffd;
                  vp44_timing_mode_3_low_counter = 0;
                }
                vp44_timing_mode_3_high_counter = 0;
              }
              vp44_timing_mode_267_high_counter = 0;
              vp44_timing_mode_267_low_counter = 0;
              return;
            default:
              vp44_timing_mode_3_high_counter = 0;
              vp44_timing_mode_3_low_counter = 0;
              vp44_timing_mode_267_high_counter = 0;
              vp44_timing_mode_267_low_counter = 0;
            }
          }
        }
      }
    }
  }
  return;
}



//
// Function: vp44FsoFaultDetectionAndProtectionController @ 0x00034782
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FsoFaultDetectionAndProtectionController(void)

{
  bool bVar1;
  ushort uVar2;
  
  if (vp44_fso_fault_detection_enable == 0) {
    return;
  }
  if ((((vp44_can_msg_100_status_flags & 1) == 0) ||
      ((short)lift_pump_fuel_offset_calc <=
       (short)lift_pump_off_time_duration_during_cranking_0_to_120)) ||
     ((int)(uint)lift_pump_run_time_calculated <= (int)(short)lift_pump_fuel_offset_calc)) {
    engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfffd;
    vp44_fso_timing_fault_counter = 0;
  }
  else {
    vp44_fso_timing_fault_counter = vp44_fso_timing_fault_counter + 1;
    if ((byte)lift_pump_run_time_after_key_on_0_to_120 <= vp44_fso_timing_fault_counter) {
      engine_fault_status_register_3 = engine_fault_status_register_3 | 2;
      engine_fault_status_register_4 = engine_fault_status_register_4 | 2;
      vp44_fso_timing_fault_counter = 0;
    }
  }
  if ((vp44_fso_detection_enable_flag != 0) && (vp44_fso_fault_latch_flag == 0)) {
    if ((((slope_used_to_convert_final_timing_to_vp44_units_50_to_50 < throttle_position_raw) &&
         ((vp44_fso_fuel_demand_lower_threshold < current_engine_fuel_demand &&
          (current_engine_fuel_demand < vp44_fso_fuel_demand_upper_threshold)))) &&
        (current_fuel_demand_value < vp44_fso_fuel_value_threshold)) &&
       (derate_threshold_exceeded == 0)) {
      uVar2 = vp44_fso_condition_counter + 1;
      if (vp44_fso_condition_threshold <= (ushort)(vp44_fso_condition_counter + 1)) {
        lift_pump_diagnostic_mode_flag = 1;
        uVar2 = vp44_fso_condition_counter;
      }
      vp44_fso_condition_counter = uVar2;
      if ((lift_pump_diagnostic_mode_flag != 0) &&
         (vp44_fso_duration_counter = vp44_fso_duration_counter + 1,
         vp44_fso_duration_threshold <= vp44_fso_duration_counter)) {
        vp44_fso_fault_latch_flag = 1;
        lift_pump_diagnostic_mode_flag = 0;
        if ((vp44_can_msg_200_min_value < _vp44_fso_value_lower_threshold) ||
           (_vp44_fso_value_upper_threshold < vp44_can_msg_200_min_value)) {
          vp44_fault_status_reg = vp44_fault_status_reg | 0x40;
          vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x40;
        }
        else if ((_vp44_fso_value_lower_threshold < vp44_can_msg_200_min_value) &&
                (vp44_can_msg_200_min_value < _vp44_fso_value_upper_threshold)) {
          vp44_fault_status_reg = vp44_fault_status_reg & 0xffbf;
        }
      }
    }
    else {
      vp44_fso_condition_counter = 0;
      vp44_fso_duration_counter = 0;
    }
  }
  if (((vp44_fault_status_reg & 0x40) == 0) || ((fso_fault_enable_mask_1 & 0x40) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    if (((engine_fault_status_register_3 & 2) == 0) || ((vp44_fso_fault_enable_mask & 2) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      vp44_fso_fuel_limit_output = 0x1700;
      return;
    }
  }
  vp44_fso_fuel_limit_output = vp44_fso_fault_fuel_limit;
  return;
}



//
// Function: vp44FsoFaultBit0Monitor @ 0x00034976
//

void vp44FsoFaultBit0Monitor(void)

{
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_can_msg_100_status_flags & 4) != 0) {
      if ((vp44_fso_bit0_fuel_threshold < current_fuel_demand_value) &&
         (time_period_to_disable_imt_epf_due_to_exh_brake_0_65535 < vp44_timing_actual_value)) {
        vp44_fso_bit0_fault_counter = vp44_fso_bit0_fault_counter + 1;
        if (vp44_fso_bit0_debounce_threshold < vp44_fso_bit0_fault_counter) {
          engine_fault_status_register_3 = engine_fault_status_register_3 | 1;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 1;
          vp44_fso_bit0_fuel_limit = vp44_fso_bit0_fault_fuel_limit;
          vp44_fso_bit0_fault_counter = 0;
        }
      }
      else {
        vp44_fso_bit0_fault_counter = 0;
      }
      vp44_fso_bit0_recovery_counter = 0;
      return;
    }
    vp44_fso_bit0_recovery_counter = vp44_fso_bit0_recovery_counter + 1;
    if (vp44_fso_bit0_debounce_threshold < vp44_fso_bit0_recovery_counter) {
      engine_fault_status_register_3 = engine_fault_status_register_3 & 0xfffe;
      vp44_fso_bit0_fuel_limit = 0x1700;
      vp44_fso_bit0_recovery_counter = 0;
    }
    vp44_fso_bit0_fault_counter = 0;
  }
  return;
}



//
// Function: vp44FsoFaultBit15Monitor @ 0x00034a32
//

void vp44FsoFaultBit15Monitor(void)

{
  bool bVar1;
  
  if (vp44_fso_fault_detection_enable == 0) {
    return;
  }
  if ((vp44_can_msg_100_status_flags & 0x20) == 0) {
    vp44_fso_bit15_recovery_counter = vp44_fso_bit15_recovery_counter + 1;
    if ((byte)FLSYPSII < vp44_fso_bit15_recovery_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg & 0x7fff;
      vp44_fso_bit15_fuel_limit = 0x1700;
      vp44_fso_bit15_recovery_counter = 0;
    }
    vp44_fso_bit15_fault_counter = 0;
    vp44_fso_bit15_limit_counter = 0;
    return;
  }
  if (engine_operating_mode == ENGINE_IDLE) {
    vp44_fso_bit15_recovery_counter = 0;
    return;
  }
  if (engine_operating_mode == FAULT_EMERGENCY) {
    vp44_fso_bit15_recovery_counter = 0;
    return;
  }
  if (((engine_fault_status_register_1 & 0x1000) == 0) ||
     ((engine_fault_confirmation_register & 0x1000) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    if (((engine_fault_status_register_1 & 0x4000) == 0) ||
       ((engine_fault_confirmation_register & 0x4000) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      vp44_fso_bit15_fault_counter = vp44_fso_bit15_fault_counter + 1;
      if (in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255._0_1_ <
          vp44_fso_bit15_fault_counter) {
        vp44_fault_status_reg = vp44_fault_status_reg | 0x8000;
        vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x8000;
        vp44_fso_bit15_fault_counter = 0;
      }
      goto LAB_00034af2;
    }
  }
  vp44_fso_bit15_fault_counter = 0;
LAB_00034af2:
  vp44_fso_bit15_limit_counter = vp44_fso_bit15_limit_counter + 1;
  if (in_range_fuel_temp_fault_enabled_when_coolant_temp_is_above_50_to_255._0_1_ <
      vp44_fso_bit15_limit_counter) {
    vp44_fso_bit15_fuel_limit = vp44_fso_bit15_fault_fuel_limit;
    vp44_fso_bit15_limit_counter = 0;
  }
  vp44_fso_bit15_recovery_counter = 0;
  return;
}



//
// Function: vp44FsoMultiBitFaultMonitor @ 0x00034b46
//

void vp44FsoMultiBitFaultMonitor(void)

{
  bool bVar1;
  
  if ((vp44_fso_fault_detection_enable != 0) && (1 < derate_threshold_change_counter._0_1_)) {
    if (((engine_fault_status_register_3 & 0x800) == 0) ||
       ((vp44_fso_fault_enable_mask & 0x800) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((engine_fault_status_register_3 & 0x400) == 0) ||
         ((vp44_fso_fault_enable_mask & 0x400) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_status_register_3 & 0x200) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x200) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if (!bVar1) {
          if ((vp44_status_register_9a5f & 4) != 0) {
            if (derate_threshold_exceeded != 0) {
              if (required_change_to_clear_in_range_fuel_temp_fault_0_to_300 <
                  current_engine_fuel_demand) {
                vp44_fso_multibit_fault_debounce_counter =
                     vp44_fso_multibit_fault_debounce_counter + 1;
                if (fso_multibit_fault_threshold < vp44_fso_multibit_fault_debounce_counter) {
                  vp44_fault_status_reg = vp44_fault_status_reg | 0x4000;
                  vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x4000;
                  vp44_fso_multibit_fault_debounce_counter = 0;
                }
              }
              else {
                vp44_fso_multibit_fault_debounce_counter = 0;
              }
              vp44_fso_multibit_fault_state = 0;
              return;
            }
            vp44_fso_multibit_fault_state = vp44_fso_multibit_fault_state + 1;
            if (fso_multibit_fault_threshold < vp44_fso_multibit_fault_state) {
              vp44_fault_status_reg = vp44_fault_status_reg & 0xdfff;
              vp44_fso_multibit_fault_state = 0;
            }
            vp44_fso_multibit_fault_debounce_counter = 0;
            return;
          }
          if (derate_threshold_exceeded == 0) {
            if (required_change_to_clear_in_range_fuel_temp_fault_0_to_300 <
                current_engine_fuel_demand) {
              vp44_fso_multibit_fault_accumulator = vp44_fso_multibit_fault_accumulator + 1;
              if (fso_multibit_fault_threshold < vp44_fso_multibit_fault_accumulator) {
                vp44_fault_status_reg = vp44_fault_status_reg | 0x2000;
                vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x2000;
                vp44_fso_multibit_fault_accumulator = 0;
              }
              vp44_fso_multibit_clear_flag = 0;
            }
            else {
              vp44_fso_multibit_fault_debounce_counter = 0;
            }
            vp44_fso_multibit_fault_accumulator = vp44_fso_multibit_fault_accumulator + 1;
            if (fso_multibit_fault_threshold < vp44_fso_multibit_fault_accumulator) {
              vp44_fault_status_reg = vp44_fault_status_reg | 0x2000;
              vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x2000;
              vp44_fso_multibit_fault_accumulator = 0;
            }
            vp44_fso_multibit_fault_state = 0;
            return;
          }
          vp44_fso_multibit_fault_state = vp44_fso_multibit_fault_state + 1;
          if (fso_multibit_fault_threshold < vp44_fso_multibit_fault_state) {
            vp44_fault_status_reg = vp44_fault_status_reg & 0xbfff;
            vp44_fso_multibit_fault_state = 0;
          }
          vp44_fso_multibit_fault_accumulator = 0;
        }
      }
    }
  }
  return;
}



//
// Function: vp44FsoStuckHighFaultDetector @ 0x00034d16
//

/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void vp44FsoStuckHighFaultDetector(void)

{
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_can_msg_100_status_flags & 8) != 0) {
      vp44_fso_stuck_high_state = vp44_fso_stuck_high_state + 1;
      if (vp44_fso_stuck_debounce_threshold._0_1_ < vp44_fso_stuck_high_state) {
        vp44_fault_status_reg = vp44_fault_status_reg | 0x1000;
        vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x1000;
        vp44_fso_stuck_high_state = 0;
      }
      _vp44_fso_stuck_high_recovery_counter = 0;
      return;
    }
    _vp44_fso_stuck_high_recovery_counter = _vp44_fso_stuck_high_recovery_counter + 1;
    if (vp44_fso_stuck_debounce_threshold._0_1_ < _vp44_fso_stuck_high_recovery_counter) {
      vp44_fault_status_reg = vp44_fault_status_reg & 0xefff;
      _vp44_fso_stuck_high_recovery_counter = 0;
    }
    vp44_fso_stuck_high_state = 0;
  }
  return;
}



//
// Function: vp44FsoStuckLowFaultDetector @ 0x00034d9e
//

void vp44FsoStuckLowFaultDetector(void)

{
  bool bVar1;
  
  if (vp44_fso_fault_detection_enable != 0) {
    if ((vp44_can_msg_100_status_flags & 0x80) == 0) {
      vp44_status_register_5e12 = vp44_status_register_5e12 & 0xf7ff;
    }
    else {
      if (((vp44_fault_status_reg & 0x400) == 0) || ((fso_fault_enable_mask_1 & 0x400) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_status_register_3 & 0x800) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x800) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if (!bVar1) {
          if (((engine_fault_status_register_3 & 0x400) == 0) ||
             ((vp44_fso_fault_enable_mask & 0x400) == 0)) {
            bVar1 = false;
          }
          else {
            bVar1 = true;
          }
          if (!bVar1) {
            if (((engine_fault_status_register_3 & 0x200) == 0) ||
               ((vp44_fso_fault_enable_mask & 0x200) == 0)) {
              bVar1 = false;
            }
            else {
              bVar1 = true;
            }
            if (!bVar1) {
              vp44_status_register_5e12 = vp44_status_register_5e12 | 0x800;
              vp44_fso_fault_flags = vp44_fso_fault_flags | 0x800;
              return;
            }
          }
        }
      }
    }
  }
  return;
}



//
// Function: vp44FsoFaultConditionDetector @ 0x00034e7a
//

void vp44FsoFaultConditionDetector(void)

{
  bool bVar1;
  int iVar2;
  
  if (vp44_fso_fault_detection_enable == 0) {
    return;
  }
  if (vp44_fso_warmup_counter <
      fuel_temp_in_range_fault_detection_enabled_below_this_value_40_to_400) {
    vp44_fso_warmup_counter = vp44_fso_warmup_counter + 1;
  }
  if (((vp44_status_register_5e12 & 0x800) == 0) || ((vp44_fso_fault_enable_mask_2 & 0x800) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    if (((engine_fault_status_register_3 & 0x800) == 0) ||
       ((vp44_fso_fault_enable_mask & 0x800) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((engine_fault_status_register_3 & 0x400) == 0) ||
         ((vp44_fso_fault_enable_mask & 0x400) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_status_register_3 & 0x200) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x200) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if (!bVar1) {
          if ((((vp44_timing_final_value == 0) &&
               (fuel_is_limited_to_this_when_fuel_temp_sensor_faults_are_acti_0_to_300 <
                current_engine_fuel_demand)) &&
              (requested_location_on_pump_cam_for_soi_100_to_100 < vp44_can_msg_100_timing_value))
             && (vp44_fso_zero_timing_fault_counter = vp44_fso_zero_timing_fault_counter + 1,
                vp44_fso_fault_debounce_threshold <= vp44_fso_zero_timing_fault_counter)) {
            vp44_fault_status_reg = vp44_fault_status_reg | 1;
            vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 1;
            vp44_fso_fault_active_flag = 1;
            vp44_fso_zero_timing_fault_counter = 0;
          }
          goto LAB_00034fa0;
        }
      }
    }
  }
  vp44_fso_zero_timing_fault_counter = 0;
LAB_00034fa0:
  if (((vp44_status_register_5e12 & 0x800) == 0) || ((vp44_fso_fault_enable_mask_2 & 0x800) == 0)) {
    bVar1 = false;
  }
  else {
    bVar1 = true;
  }
  if (!bVar1) {
    if (((engine_fault_status_register_3 & 0x800) == 0) ||
       ((vp44_fso_fault_enable_mask & 0x800) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (((engine_fault_status_register_3 & 0x400) == 0) ||
         ((vp44_fso_fault_enable_mask & 0x400) == 0)) {
        bVar1 = false;
      }
      else {
        bVar1 = true;
      }
      if (!bVar1) {
        if (((engine_fault_status_register_3 & 0x200) == 0) ||
           ((vp44_fso_fault_enable_mask & 0x200) == 0)) {
          bVar1 = false;
        }
        else {
          bVar1 = true;
        }
        if (!bVar1) {
          if (current_engine_fuel_demand <=
              upper_limit_for_abnormally_high_fuel_temp_fault_40_to_300) {
            return;
          }
          if ((int)((uint)current_engine_fuel_demand - (uint)vp44_timing_mode_selector) < 0) {
            iVar2 = -((uint)current_engine_fuel_demand - (uint)vp44_timing_mode_selector);
          }
          else {
            iVar2 = (uint)current_engine_fuel_demand - (uint)vp44_timing_mode_selector;
          }
          if (iVar2 <= (int)(uint)target_angular_position_of_sync_pulse_after_tdc_0_to_60) {
            return;
          }
          if ((byte)(vp44_fso_demand_delta_fault_counter + 1) < vp44_fso_fault_debounce_threshold) {
            vp44_fso_demand_delta_fault_counter = vp44_fso_demand_delta_fault_counter + 1;
            return;
          }
          vp44_status_register_5e12 = vp44_status_register_5e12 | 0x8000;
          vp44_fso_fault_flags = vp44_fso_fault_flags | 0x8000;
          vp44_fso_fault_active_flag = 1;
          vp44_fso_demand_delta_fault_counter = 0;
          return;
        }
      }
    }
  }
  vp44_fso_demand_delta_fault_counter = 0;
  return;
}



//
// Function: vp44Message300FaultFlagProcessor @ 0x000350ae
//

void vp44Message300FaultFlagProcessor(void)

{
  if (vp44_fso_fault_detection_enable != 0) {
    if (((vp44_can_msg_300_fault_flags & 1) == 0) && ((vp44_can_msg_300_fault_flags & 2) == 0)) {
      vp44_fault_status_reg = vp44_fault_status_reg & 0xfdff;
      vp44_msg_300_fault_fuel_limit_1 = 0x1700;
    }
    else {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x200;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x200;
      vp44_msg_300_fault_fuel_limit_1 = vp44_msg_300_fault_1_fuel_limit;
    }
    if ((vp44_can_msg_300_fault_flags & 4) == 0) {
      vp44_fault_status_reg = vp44_fault_status_reg & 0xfeff;
      vp44_msg_300_fault_fuel_limit_2 = 0x1700;
    }
    else {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x100;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x100;
      vp44_msg_300_fault_fuel_limit_2 = vp44_msg_300_fault_2_fuel_limit;
    }
    if ((vp44_can_msg_300_fault_flags & 8) != 0) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x80;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x80;
      vp44_fso_fault_active_flag = 1;
    }
    if ((vp44_can_msg_300_fault_flags & 0x10) != 0) {
      vp44_fault_status_reg = vp44_fault_status_reg | 0x10;
      vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x10;
      vp44_fso_fault_active_flag = 1;
    }
    if ((vp44_can_msg_300_fault_flags & 0x20) == 0) {
      vp44_status_register_5e12 = vp44_status_register_5e12 & 0xdfff;
    }
    else {
      vp44_status_register_5e12 = vp44_status_register_5e12 | 0x2000;
      vp44_fso_fault_flags = vp44_fso_fault_flags | 0x2000;
    }
    if ((vp44_can_msg_300_fault_flags & 0x40) != 0) {
      vp44_status_register_5e12 = vp44_status_register_5e12 | 0x4000;
      vp44_fso_fault_flags = vp44_fso_fault_flags | 0x4000;
      return;
    }
    vp44_status_register_5e12 = vp44_status_register_5e12 & 0xbfff;
  }
  return;
}



//
// Function: multiParameterMinimumSelector @ 0x00035228
//

void multiParameterMinimumSelector(void)

{
  shutdown_minimum_init_value = 0x1700;
  if (vp44_fso_circuit_fault_fuel_limit < 0x1700) {
    shutdown_minimum_init_value = vp44_fso_circuit_fault_fuel_limit;
  }
  if (fso_protection_fuel_limit < shutdown_minimum_init_value) {
    shutdown_minimum_init_value = fso_protection_fuel_limit;
  }
  if (vp44_fso_fuel_limit_output < shutdown_minimum_init_value) {
    shutdown_minimum_init_value = vp44_fso_fuel_limit_output;
  }
  if (vp44_fso_bit0_fuel_limit < shutdown_minimum_init_value) {
    shutdown_minimum_init_value = vp44_fso_bit0_fuel_limit;
  }
  if (vp44_fso_bit15_fuel_limit < shutdown_minimum_init_value) {
    shutdown_minimum_init_value = vp44_fso_bit15_fuel_limit;
  }
  if (vp44_msg_300_fault_fuel_limit_1 < shutdown_minimum_init_value) {
    shutdown_minimum_init_value = vp44_msg_300_fault_fuel_limit_1;
  }
  if (vp44_msg_300_fault_fuel_limit_2 < shutdown_minimum_init_value) {
    shutdown_minimum_init_value = vp44_msg_300_fault_fuel_limit_2;
  }
  return;
}



//
// Function: systemStatusMonitor @ 0x00035298
//

void systemStatusMonitor(void)

{
  bool bVar1;
  
  if (vp44_fso_fault_detection_enable != 0) {
    if (((vp44_fault_status_reg & 0x20) == 0) || ((fso_fault_enable_mask_1 & 0x20) == 0)) {
      bVar1 = false;
    }
    else {
      bVar1 = true;
    }
    if (!bVar1) {
      if (vp44_can_msg_100_received_flag != 0) {
        engine_fault_status_register_3 = engine_fault_status_register_3 & 0xf1ff;
        vp44_can_msg_timeout_counter = 0;
        vp44_can_msg_100_received_flag = 0;
        return;
      }
      if (vp44_can_msg_timeout_threshold < vp44_can_msg_timeout_counter) {
        switch((byte)serial_port_1_isr_counter & 7) {
        case 0:
        case 1:
        case 3:
        case 6:
        case 7:
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x800;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x800;
          break;
        case 2:
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x200;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x200;
          break;
        case 4:
        case 5:
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x400;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x400;
          break;
        default:
          engine_fault_status_register_3 = engine_fault_status_register_3 | 0x800;
          engine_fault_status_register_4 = engine_fault_status_register_4 | 0x800;
        }
        vp44_can_msg_timeout_counter = 0;
        return;
      }
      vp44_can_msg_timeout_counter = vp44_can_msg_timeout_counter + 1;
      if (vp44_can_msg_timeout_threshold < vp44_can_msg_timeout_counter) {
        canFrameDataCopy(&serial_port_2_base_register);
      }
    }
  }
  return;
}



//
// Function: liftPumpCommStatusMonitor @ 0x000353ec
//

byte liftPumpCommStatusMonitor(void)

{
  byte bVar1;
  
  bVar1 = vp44_can_msg_100_retry_counter;
  if (lift_pump_run_time_after_key_on_0_to_120._0_1_ < vp44_can_msg_100_retry_counter) {
    vp44_status_register_5e12 = vp44_status_register_5e12 | 0x1000;
    vp44_fso_fault_flags = vp44_fso_fault_flags | 0x1000;
    vp44_can_msg_100_retry_counter = lift_pump_run_time_after_key_on_0_to_120._0_1_;
    return bVar1;
  }
  if ((vp44_communication_status & 1) == 0) {
    vp44_status_register_5e12 = vp44_status_register_5e12 & 0xefff;
  }
  return vp44_communication_status & 1;
}



//
// Function: vp44FsoFaultEnableController @ 0x0003544a
//

void vp44FsoFaultEnableController(void)

{
  engine_control_system_ready = (ushort)vp44_fso_fault_active_flag;
  if (((engine_operating_mode != HIGH_PERFORMANCE) && (engine_operating_mode != FAULT_EMERGENCY)) &&
     (vp44_fso_fault_active_flag != 1)) {
    vp44_fso_fault_detection_enable = 1;
    return;
  }
  vp44_fso_fault_detection_enable = 0;
  return;
}



//
// Function: vp44RpmBasedFaultDetector @ 0x00035488
//

ushort vp44RpmBasedFaultDetector(void)

{
  word wVar1;
  ushort uVar2;
  
  wVar1 = vp44_fso_rpm_fault_counter;
  vp44_rpm_based_fault_state = CONCAT11(vp44_timing_cmd_out_high_byte,vp44_timing_cmd_out_low_byte);
  uVar2 = vp44_flag_register_1 & 0x2000;
  if ((((((vp44_flag_register_1 & 0x2000) != 0) && (fuel_arbitrator_diag_t_0080cff8.rpm_target != 1)
        ) && (fuel_arbitrator_diag_t_0080cff8.rpm_target != 2)) &&
      ((oil_pressure_protection_enabled == 0 && (protection_system_enable_flag == 0)))) &&
     ((derate_threshold_exceeded == 0 &&
      ((uVar2 = vp44_rpm_based_fault_state,
       vp44_rpm_fault_state_threshold < vp44_rpm_based_fault_state &&
       (uVar2 = current_engine_fuel_demand,
       vp44_rpm_fault_fuel_demand_threshold < current_engine_fuel_demand)))))) {
    if (vp44_fso_rpm_fault_counter < vp44_rpm_fault_counter_limit) {
      vp44_fso_rpm_fault_counter = vp44_fso_rpm_fault_counter + 1;
      return wVar1;
    }
    vp44_fault_status_reg = vp44_fault_status_reg | 0x20;
    vp44_fso_fault_accumulator = vp44_fso_fault_accumulator | 0x20;
    return vp44_fso_rpm_fault_counter;
  }
  vp44_fso_rpm_fault_counter = 0;
  return uVar2;
}



//
// Function: vp44FaultBit5Reset @ 0x00035548
//

void vp44FaultBit5Reset(void)

{
  vp44_fso_rpm_fault_counter = 0;
  vp44_fault_status_reg = vp44_fault_status_reg & 0xffdf;
  return;
}



//
// Function: lookupTableInterpolation @ 0x00035560
//

/* Setting prototype: short lookupTableInterpolation(table_interp_args_t *args) */

short lookupTableInterpolation(table_interp_args_t *args)

{
  short *psVar1;
  ushort uVar2;
  ushort uVar3;
  short sVar4;
  int iVar5;
  ushort *puVar6;
  ushort *puVar7;
  
  psVar1 = (short *)args->x_axis_ptr;
  puVar6 = (ushort *)((int)psVar1 + (int)(short)args->current_index);
  uVar3 = args->input_value;
  if (*puVar6 < uVar3) {
    for (; puVar6[1] <= uVar3; puVar6 = puVar6 + 1) {
      if (*(ushort *)((int)psVar1 + (int)*psVar1) <= uVar3) {
        iVar5 = ((int)psVar1 + (int)*psVar1) - (int)psVar1;
        args->current_index = (short)iVar5 - 2;
        return *(short *)(args->y_axis_ptr + iVar5);
      }
    }
  }
  else {
    do {
      if (uVar3 <= (ushort)psVar1[1]) {
        sVar4 = *(short *)(args->y_axis_ptr + 2);
        args->current_index = 2;
        return sVar4;
      }
      puVar6 = puVar6 + -1;
    } while (uVar3 < *puVar6);
  }
  uVar2 = *puVar6;
  args->current_index = (word)((int)puVar6 - (int)psVar1);
  puVar7 = (ushort *)(args->y_axis_ptr + ((int)puVar6 - (int)psVar1));
  if (*puVar7 < puVar7[1]) {
    sVar4 = *puVar7 + (short)(((uint)(ushort)(puVar7[1] - *puVar7) * (uint)(ushort)(uVar3 - uVar2))
                             / (uint)(ushort)(puVar6[1] - *puVar6));
  }
  else {
    sVar4 = *puVar7 - (short)(((uint)(ushort)(*puVar7 - puVar7[1]) * (uint)(ushort)(uVar3 - uVar2))
                             / (uint)(ushort)(puVar6[1] - *puVar6));
  }
  return sVar4;
}



//
// Function: exponentialMovingAverage @ 0x00035608
// ERROR: Failed to decompile
//

//
// Function: signedLinearInterpolation @ 0x0003566e
// ERROR: Failed to decompile
//

//
// Function: coreTableInterpolation @ 0x000356f8
// ERROR: Failed to decompile
//

//
// Function: unsignedLinearInterpolation @ 0x0003574e
// ERROR: Failed to decompile
//

//
// Function: proportionalCalculation @ 0x000357d2
//

undefined4 proportionalCalculation(uint param_1,uint param_2,uint param_3)

{
  return (int)(((ulonglong)param_2 * (ulonglong)param_1) / (ulonglong)param_3);
}



//
// Function: rpmFuelCalculation @ 0x000357e4
//

undefined4 rpmFuelCalculation(int param_1,int param_2,int param_3)

{
  return (int)(((longlong)(int)((ulonglong)((longlong)param_2 * (longlong)param_1) >> 0x20) << 0x20
               | (longlong)(int)((longlong)param_2 * (longlong)param_1)) / (longlong)param_3);
}



//
// Function: tableInterpolationLookup @ 0x000357f6
//

undefined8 tableInterpolationLookup(short *param_1)

{
  short *psVar1;
  short *psVar2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  ushort uVar6;
  ushort uVar7;
  uint uVar8;
  undefined4 uVar9;
  undefined4 in_D1;
  ushort uVar10;
  undefined2 uVar11;
  undefined4 unaff_D3;
  ushort uVar12;
  ushort *puVar13;
  ushort *puVar14;
  short sVar15;
  ushort *puVar16;
  
  psVar1 = *(short **)(param_1 + 1);
  puVar13 = (ushort *)((int)psVar1 + (int)*psVar1);
  puVar14 = (ushort *)((int)psVar1 + (int)*param_1);
  uVar10 = param_1[3];
  if (*puVar14 < uVar10) {
    for (; puVar14[1] <= uVar10; puVar14 = puVar14 + 1) {
      if (*puVar13 <= uVar10) {
        puVar14 = puVar13 + -1;
        uVar10 = *puVar13;
        break;
      }
    }
  }
  else {
    do {
      if (uVar10 <= (ushort)psVar1[1]) {
        puVar14 = (ushort *)(psVar1 + 1);
        uVar10 = psVar1[1];
        break;
      }
      puVar14 = puVar14 + -1;
    } while (uVar10 < *puVar14);
  }
  psVar2 = *(short **)(param_1 + 5);
  puVar16 = (ushort *)((int)psVar2 + (int)*psVar2);
  puVar13 = (ushort *)((int)psVar2 + (int)param_1[4]);
  uVar12 = param_1[7];
  if (*puVar13 < uVar12) {
    for (; puVar13[1] <= uVar12; puVar13 = puVar13 + 1) {
      if (*puVar16 <= uVar12) {
        puVar13 = puVar16 + -1;
        uVar12 = *puVar16;
        break;
      }
    }
  }
  else {
    do {
      if (uVar12 <= (ushort)psVar2[1]) {
        puVar13 = (ushort *)(psVar2 + 1);
        uVar12 = psVar2[1];
        break;
      }
      puVar13 = puVar13 + -1;
    } while (uVar12 < *puVar13);
  }
  uVar6 = puVar14[1] - *puVar14;
  uVar10 = uVar10 - *puVar14;
  sVar15 = (short)puVar14 - (short)psVar1;
  *param_1 = sVar15;
  uVar7 = puVar13[1] - *puVar13;
  uVar3 = *puVar13;
  param_1[4] = (short)((int)puVar13 - (int)psVar2);
  puVar13 = (ushort *)
            ((int)sVar15 +
            *(int *)(param_1 + 8) +
            (int)(short)((ushort)(((int)puVar13 - (int)psVar2) - 2U >> 1) & 0x7fff) * (int)*psVar1);
  uVar4 = puVar13[-1];
  if (uVar4 < *puVar13) {
    sVar15 = (short)(((uint)(ushort)(*puVar13 - uVar4) * (uint)uVar10) / (uint)uVar6);
  }
  else {
    sVar15 = -(short)(((uint)(ushort)(uVar4 - *puVar13) * (uint)uVar10) / (uint)uVar6);
  }
  uVar4 = sVar15 + uVar4;
  puVar13 = (ushort *)((int)*psVar1 + (int)(puVar13 + -1));
  uVar5 = *puVar13;
  uVar11 = (undefined2)((uint)unaff_D3 >> 0x10);
  if (uVar5 < puVar13[1]) {
    sVar15 = (short)(((uint)(ushort)(puVar13[1] - uVar5) * (uint)uVar10) / (uint)uVar6);
  }
  else {
    uVar8 = (uint)(ushort)(uVar5 - puVar13[1]) * (uint)uVar10;
    uVar11 = (undefined2)(uVar8 % (uint)uVar6);
    sVar15 = -(short)(uVar8 / uVar6);
  }
  uVar5 = uVar5 + sVar15;
  if (uVar4 < uVar5) {
    uVar8 = (uint)(ushort)(uVar5 - uVar4) * (uint)(ushort)(uVar12 - uVar3);
    uVar9 = CONCAT22((short)(uVar8 % (uint)uVar7),uVar4 + (short)(uVar8 / uVar7));
  }
  else {
    uVar9 = CONCAT22(uVar11,uVar4 - (short)(((uint)(ushort)(uVar4 - uVar5) *
                                            (uint)(ushort)(uVar12 - uVar3)) / (uint)uVar7));
  }
  return CONCAT44(uVar9,in_D1);
}



// Export complete - 772 functions processed
